function kb(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function lw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uw={exports:{}},Cd={},cw={exports:{}},ce={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yl=Symbol.for("react.element"),Db=Symbol.for("react.portal"),Vb=Symbol.for("react.fragment"),Nb=Symbol.for("react.strict_mode"),Mb=Symbol.for("react.profiler"),Ob=Symbol.for("react.provider"),Lb=Symbol.for("react.context"),Fb=Symbol.for("react.forward_ref"),Bb=Symbol.for("react.suspense"),$b=Symbol.for("react.memo"),jb=Symbol.for("react.lazy"),Wv=Symbol.iterator;function zb(t){return t===null||typeof t!="object"?null:(t=Wv&&t[Wv]||t["@@iterator"],typeof t=="function"?t:null)}var dw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hw=Object.assign,fw={};function Yo(t,e,n){this.props=t,this.context=e,this.refs=fw,this.updater=n||dw}Yo.prototype.isReactComponent={};Yo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Yo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pw(){}pw.prototype=Yo.prototype;function km(t,e,n){this.props=t,this.context=e,this.refs=fw,this.updater=n||dw}var Dm=km.prototype=new pw;Dm.constructor=km;hw(Dm,Yo.prototype);Dm.isPureReactComponent=!0;var Kv=Array.isArray,mw=Object.prototype.hasOwnProperty,Vm={current:null},gw={key:!0,ref:!0,__self:!0,__source:!0};function yw(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)mw.call(e,r)&&!gw.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Yl,type:t,key:s,ref:o,props:i,_owner:Vm.current}}function Ub(t,e){return{$$typeof:Yl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Nm(t){return typeof t=="object"&&t!==null&&t.$$typeof===Yl}function qb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hv=/\/+/g;function hf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qb(""+t.key):e.toString(36)}function hc(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Yl:case Db:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+hf(o,0):r,Kv(i)?(n="",t!=null&&(n=t.replace(Hv,"$&/")+"/"),hc(i,e,n,"",function(c){return c})):i!=null&&(Nm(i)&&(i=Ub(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Hv,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Kv(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+hf(s,a);o+=hc(s,e,n,l,i)}else if(l=zb(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+hf(s,a++),o+=hc(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ou(t,e,n){if(t==null)return t;var r=[],i=0;return hc(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Gb(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ht={current:null},fc={transition:null},Wb={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:fc,ReactCurrentOwner:Vm};function vw(){throw Error("act(...) is not supported in production builds of React.")}ce.Children={map:Ou,forEach:function(t,e,n){Ou(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ou(t,function(){e++}),e},toArray:function(t){return Ou(t,function(e){return e})||[]},only:function(t){if(!Nm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ce.Component=Yo;ce.Fragment=Vb;ce.Profiler=Mb;ce.PureComponent=km;ce.StrictMode=Nb;ce.Suspense=Bb;ce.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wb;ce.act=vw;ce.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Vm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)mw.call(e,l)&&!gw.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Yl,type:t.type,key:i,ref:s,props:r,_owner:o}};ce.createContext=function(t){return t={$$typeof:Lb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ob,_context:t},t.Consumer=t};ce.createElement=yw;ce.createFactory=function(t){var e=yw.bind(null,t);return e.type=t,e};ce.createRef=function(){return{current:null}};ce.forwardRef=function(t){return{$$typeof:Fb,render:t}};ce.isValidElement=Nm;ce.lazy=function(t){return{$$typeof:jb,_payload:{_status:-1,_result:t},_init:Gb}};ce.memo=function(t,e){return{$$typeof:$b,type:t,compare:e===void 0?null:e}};ce.startTransition=function(t){var e=fc.transition;fc.transition={};try{t()}finally{fc.transition=e}};ce.unstable_act=vw;ce.useCallback=function(t,e){return Ht.current.useCallback(t,e)};ce.useContext=function(t){return Ht.current.useContext(t)};ce.useDebugValue=function(){};ce.useDeferredValue=function(t){return Ht.current.useDeferredValue(t)};ce.useEffect=function(t,e){return Ht.current.useEffect(t,e)};ce.useId=function(){return Ht.current.useId()};ce.useImperativeHandle=function(t,e,n){return Ht.current.useImperativeHandle(t,e,n)};ce.useInsertionEffect=function(t,e){return Ht.current.useInsertionEffect(t,e)};ce.useLayoutEffect=function(t,e){return Ht.current.useLayoutEffect(t,e)};ce.useMemo=function(t,e){return Ht.current.useMemo(t,e)};ce.useReducer=function(t,e,n){return Ht.current.useReducer(t,e,n)};ce.useRef=function(t){return Ht.current.useRef(t)};ce.useState=function(t){return Ht.current.useState(t)};ce.useSyncExternalStore=function(t,e,n){return Ht.current.useSyncExternalStore(t,e,n)};ce.useTransition=function(){return Ht.current.useTransition()};ce.version="18.3.1";cw.exports=ce;var O=cw.exports;const Zt=lw(O),Qv=kb({__proto__:null,default:Zt},[O]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kb=O,Hb=Symbol.for("react.element"),Qb=Symbol.for("react.fragment"),Yb=Object.prototype.hasOwnProperty,Xb=Kb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Jb={key:!0,ref:!0,__self:!0,__source:!0};function _w(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Yb.call(e,r)&&!Jb.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Hb,type:t,key:s,ref:o,props:i,_owner:Xb.current}}Cd.Fragment=Qb;Cd.jsx=_w;Cd.jsxs=_w;uw.exports=Cd;var D=uw.exports,ww={exports:{}},vn={},Ew={exports:{}},Tw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,H){var ee=j.length;j.push(H);e:for(;0<ee;){var fe=ee-1>>>1,_e=j[fe];if(0<i(_e,H))j[fe]=H,j[ee]=_e,ee=fe;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var H=j[0],ee=j.pop();if(ee!==H){j[0]=ee;e:for(var fe=0,_e=j.length,Ae=_e>>>1;fe<Ae;){var $e=2*(fe+1)-1,Xe=j[$e],ft=$e+1,Yt=j[ft];if(0>i(Xe,ee))ft<_e&&0>i(Yt,Xe)?(j[fe]=Yt,j[ft]=ee,fe=ft):(j[fe]=Xe,j[$e]=ee,fe=$e);else if(ft<_e&&0>i(Yt,ee))j[fe]=Yt,j[ft]=ee,fe=ft;else break e}}return H}function i(j,H){var ee=j.sortIndex-H.sortIndex;return ee!==0?ee:j.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,f=null,p=3,g=!1,_=!1,T=!1,P=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(j){for(var H=n(c);H!==null;){if(H.callback===null)r(c);else if(H.startTime<=j)r(c),H.sortIndex=H.expirationTime,e(l,H);else break;H=n(c)}}function k(j){if(T=!1,I(j),!_)if(n(l)!==null)_=!0,ne(M);else{var H=n(c);H!==null&&se(k,H.startTime-j)}}function M(j,H){_=!1,T&&(T=!1,x(y),y=-1),g=!0;var ee=p;try{for(I(H),f=n(l);f!==null&&(!(f.expirationTime>H)||j&&!A());){var fe=f.callback;if(typeof fe=="function"){f.callback=null,p=f.priorityLevel;var _e=fe(f.expirationTime<=H);H=t.unstable_now(),typeof _e=="function"?f.callback=_e:f===n(l)&&r(l),I(H)}else r(l);f=n(l)}if(f!==null)var Ae=!0;else{var $e=n(c);$e!==null&&se(k,$e.startTime-H),Ae=!1}return Ae}finally{f=null,p=ee,g=!1}}var F=!1,v=null,y=-1,S=5,b=-1;function A(){return!(t.unstable_now()-b<S)}function C(){if(v!==null){var j=t.unstable_now();b=j;var H=!0;try{H=v(!0,j)}finally{H?R():(F=!1,v=null)}}else F=!1}var R;if(typeof E=="function")R=function(){E(C)};else if(typeof MessageChannel<"u"){var te=new MessageChannel,ue=te.port2;te.port1.onmessage=C,R=function(){ue.postMessage(null)}}else R=function(){P(C,0)};function ne(j){v=j,F||(F=!0,R())}function se(j,H){y=P(function(){j(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,ne(M))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(p){case 1:case 2:case 3:var H=3;break;default:H=p}var ee=p;p=H;try{return j()}finally{p=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,H){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var ee=p;p=j;try{return H()}finally{p=ee}},t.unstable_scheduleCallback=function(j,H,ee){var fe=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?fe+ee:fe):ee=fe,j){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=ee+_e,j={id:d++,callback:H,priorityLevel:j,startTime:ee,expirationTime:_e,sortIndex:-1},ee>fe?(j.sortIndex=ee,e(c,j),n(l)===null&&j===n(c)&&(T?(x(y),y=-1):T=!0,se(k,ee-fe))):(j.sortIndex=_e,e(l,j),_||g||(_=!0,ne(M))),j},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(j){var H=p;return function(){var ee=p;p=H;try{return j.apply(this,arguments)}finally{p=ee}}}})(Tw);Ew.exports=Tw;var Zb=Ew.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eR=O,gn=Zb;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Iw=new Set,hl={};function ws(t,e){So(t,e),So(t+"Capture",e)}function So(t,e){for(hl[t]=e,t=0;t<e.length;t++)Iw.add(e[t])}var vr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zf=Object.prototype.hasOwnProperty,tR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Yv={},Xv={};function nR(t){return Zf.call(Xv,t)?!0:Zf.call(Yv,t)?!1:tR.test(t)?Xv[t]=!0:(Yv[t]=!0,!1)}function rR(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iR(t,e,n,r){if(e===null||typeof e>"u"||rR(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qt(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Pt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pt[t]=new Qt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pt[e]=new Qt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pt[t]=new Qt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pt[t]=new Qt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pt[t]=new Qt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pt[t]=new Qt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pt[t]=new Qt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pt[t]=new Qt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pt[t]=new Qt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mm=/[\-:]([a-z])/g;function Om(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mm,Om);Pt[e]=new Qt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mm,Om);Pt[e]=new Qt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mm,Om);Pt[e]=new Qt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pt[t]=new Qt(t,1,!1,t.toLowerCase(),null,!1,!1)});Pt.xlinkHref=new Qt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pt[t]=new Qt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lm(t,e,n,r){var i=Pt.hasOwnProperty(e)?Pt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iR(e,n,i,r)&&(n=null),r||i===null?nR(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var br=eR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Lu=Symbol.for("react.element"),eo=Symbol.for("react.portal"),to=Symbol.for("react.fragment"),Fm=Symbol.for("react.strict_mode"),ep=Symbol.for("react.profiler"),xw=Symbol.for("react.provider"),Sw=Symbol.for("react.context"),Bm=Symbol.for("react.forward_ref"),tp=Symbol.for("react.suspense"),np=Symbol.for("react.suspense_list"),$m=Symbol.for("react.memo"),jr=Symbol.for("react.lazy"),bw=Symbol.for("react.offscreen"),Jv=Symbol.iterator;function xa(t){return t===null||typeof t!="object"?null:(t=Jv&&t[Jv]||t["@@iterator"],typeof t=="function"?t:null)}var qe=Object.assign,ff;function $a(t){if(ff===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ff=e&&e[1]||""}return`
`+ff+t}var pf=!1;function mf(t,e){if(!t||pf)return"";pf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{pf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?$a(t):""}function sR(t){switch(t.tag){case 5:return $a(t.type);case 16:return $a("Lazy");case 13:return $a("Suspense");case 19:return $a("SuspenseList");case 0:case 2:case 15:return t=mf(t.type,!1),t;case 11:return t=mf(t.type.render,!1),t;case 1:return t=mf(t.type,!0),t;default:return""}}function rp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case to:return"Fragment";case eo:return"Portal";case ep:return"Profiler";case Fm:return"StrictMode";case tp:return"Suspense";case np:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Sw:return(t.displayName||"Context")+".Consumer";case xw:return(t._context.displayName||"Context")+".Provider";case Bm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $m:return e=t.displayName||null,e!==null?e:rp(t.type)||"Memo";case jr:e=t._payload,t=t._init;try{return rp(t(e))}catch{}}return null}function oR(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rp(e);case 8:return e===Fm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function li(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aR(t){var e=Rw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fu(t){t._valueTracker||(t._valueTracker=aR(t))}function Aw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Rw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Fc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ip(t,e){var n=e.checked;return qe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Zv(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=li(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Cw(t,e){e=e.checked,e!=null&&Lm(t,"checked",e,!1)}function sp(t,e){Cw(t,e);var n=li(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?op(t,e.type,n):e.hasOwnProperty("defaultValue")&&op(t,e.type,li(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function e0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function op(t,e,n){(e!=="number"||Fc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var ja=Array.isArray;function po(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+li(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function ap(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return qe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function t0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(ja(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:li(n)}}function Pw(t,e){var n=li(e.value),r=li(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function n0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function kw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?kw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bu,Dw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bu=Bu||document.createElement("div"),Bu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Qa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},lR=["Webkit","ms","Moz","O"];Object.keys(Qa).forEach(function(t){lR.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Qa[e]=Qa[t]})});function Vw(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Qa.hasOwnProperty(t)&&Qa[t]?(""+e).trim():e+"px"}function Nw(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Vw(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var uR=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function up(t,e){if(e){if(uR[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function cp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dp=null;function jm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var hp=null,mo=null,go=null;function r0(t){if(t=Zl(t)){if(typeof hp!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Nd(e),hp(t.stateNode,t.type,e))}}function Mw(t){mo?go?go.push(t):go=[t]:mo=t}function Ow(){if(mo){var t=mo,e=go;if(go=mo=null,r0(t),e)for(t=0;t<e.length;t++)r0(e[t])}}function Lw(t,e){return t(e)}function Fw(){}var gf=!1;function Bw(t,e,n){if(gf)return t(e,n);gf=!0;try{return Lw(t,e,n)}finally{gf=!1,(mo!==null||go!==null)&&(Fw(),Ow())}}function pl(t,e){var n=t.stateNode;if(n===null)return null;var r=Nd(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var fp=!1;if(vr)try{var Sa={};Object.defineProperty(Sa,"passive",{get:function(){fp=!0}}),window.addEventListener("test",Sa,Sa),window.removeEventListener("test",Sa,Sa)}catch{fp=!1}function cR(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ya=!1,Bc=null,$c=!1,pp=null,dR={onError:function(t){Ya=!0,Bc=t}};function hR(t,e,n,r,i,s,o,a,l){Ya=!1,Bc=null,cR.apply(dR,arguments)}function fR(t,e,n,r,i,s,o,a,l){if(hR.apply(this,arguments),Ya){if(Ya){var c=Bc;Ya=!1,Bc=null}else throw Error(q(198));$c||($c=!0,pp=c)}}function Es(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function $w(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function i0(t){if(Es(t)!==t)throw Error(q(188))}function pR(t){var e=t.alternate;if(!e){if(e=Es(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return i0(i),t;if(s===r)return i0(i),e;s=s.sibling}throw Error(q(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function jw(t){return t=pR(t),t!==null?zw(t):null}function zw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zw(t);if(e!==null)return e;t=t.sibling}return null}var Uw=gn.unstable_scheduleCallback,s0=gn.unstable_cancelCallback,mR=gn.unstable_shouldYield,gR=gn.unstable_requestPaint,Je=gn.unstable_now,yR=gn.unstable_getCurrentPriorityLevel,zm=gn.unstable_ImmediatePriority,qw=gn.unstable_UserBlockingPriority,jc=gn.unstable_NormalPriority,vR=gn.unstable_LowPriority,Gw=gn.unstable_IdlePriority,Pd=null,er=null;function _R(t){if(er&&typeof er.onCommitFiberRoot=="function")try{er.onCommitFiberRoot(Pd,t,void 0,(t.current.flags&128)===128)}catch{}}var Fn=Math.clz32?Math.clz32:TR,wR=Math.log,ER=Math.LN2;function TR(t){return t>>>=0,t===0?32:31-(wR(t)/ER|0)|0}var $u=64,ju=4194304;function za(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zc(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=za(a):(s&=o,s!==0&&(r=za(s)))}else o=n&~i,o!==0?r=za(o):s!==0&&(r=za(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Fn(e),i=1<<n,r|=t[n],e&=~i;return r}function IR(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xR(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Fn(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=IR(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function mp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ww(){var t=$u;return $u<<=1,!($u&4194240)&&($u=64),t}function yf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Xl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Fn(e),t[e]=n}function SR(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Fn(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Um(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Fn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xe=0;function Kw(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Hw,qm,Qw,Yw,Xw,gp=!1,zu=[],Xr=null,Jr=null,Zr=null,ml=new Map,gl=new Map,Ur=[],bR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function o0(t,e){switch(t){case"focusin":case"focusout":Xr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":Zr=null;break;case"pointerover":case"pointerout":ml.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(e.pointerId)}}function ba(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Zl(e),e!==null&&qm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function RR(t,e,n,r,i){switch(e){case"focusin":return Xr=ba(Xr,t,e,n,r,i),!0;case"dragenter":return Jr=ba(Jr,t,e,n,r,i),!0;case"mouseover":return Zr=ba(Zr,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ml.set(s,ba(ml.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,gl.set(s,ba(gl.get(s)||null,t,e,n,r,i)),!0}return!1}function Jw(t){var e=Wi(t.target);if(e!==null){var n=Es(e);if(n!==null){if(e=n.tag,e===13){if(e=$w(n),e!==null){t.blockedOn=e,Xw(t.priority,function(){Qw(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dp=r,n.target.dispatchEvent(r),dp=null}else return e=Zl(n),e!==null&&qm(e),t.blockedOn=n,!1;e.shift()}return!0}function a0(t,e,n){pc(t)&&n.delete(e)}function AR(){gp=!1,Xr!==null&&pc(Xr)&&(Xr=null),Jr!==null&&pc(Jr)&&(Jr=null),Zr!==null&&pc(Zr)&&(Zr=null),ml.forEach(a0),gl.forEach(a0)}function Ra(t,e){t.blockedOn===e&&(t.blockedOn=null,gp||(gp=!0,gn.unstable_scheduleCallback(gn.unstable_NormalPriority,AR)))}function yl(t){function e(i){return Ra(i,t)}if(0<zu.length){Ra(zu[0],t);for(var n=1;n<zu.length;n++){var r=zu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Xr!==null&&Ra(Xr,t),Jr!==null&&Ra(Jr,t),Zr!==null&&Ra(Zr,t),ml.forEach(e),gl.forEach(e),n=0;n<Ur.length;n++)r=Ur[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ur.length&&(n=Ur[0],n.blockedOn===null);)Jw(n),n.blockedOn===null&&Ur.shift()}var yo=br.ReactCurrentBatchConfig,Uc=!0;function CR(t,e,n,r){var i=xe,s=yo.transition;yo.transition=null;try{xe=1,Gm(t,e,n,r)}finally{xe=i,yo.transition=s}}function PR(t,e,n,r){var i=xe,s=yo.transition;yo.transition=null;try{xe=4,Gm(t,e,n,r)}finally{xe=i,yo.transition=s}}function Gm(t,e,n,r){if(Uc){var i=yp(t,e,n,r);if(i===null)Rf(t,e,r,qc,n),o0(t,r);else if(RR(i,t,e,n,r))r.stopPropagation();else if(o0(t,r),e&4&&-1<bR.indexOf(t)){for(;i!==null;){var s=Zl(i);if(s!==null&&Hw(s),s=yp(t,e,n,r),s===null&&Rf(t,e,r,qc,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Rf(t,e,r,null,n)}}var qc=null;function yp(t,e,n,r){if(qc=null,t=jm(r),t=Wi(t),t!==null)if(e=Es(t),e===null)t=null;else if(n=e.tag,n===13){if(t=$w(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qc=t,null}function Zw(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yR()){case zm:return 1;case qw:return 4;case jc:case vR:return 16;case Gw:return 536870912;default:return 16}default:return 16}}var Hr=null,Wm=null,mc=null;function eE(){if(mc)return mc;var t,e=Wm,n=e.length,r,i="value"in Hr?Hr.value:Hr.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return mc=i.slice(t,1<r?1-r:void 0)}function gc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Uu(){return!0}function l0(){return!1}function _n(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Uu:l0,this.isPropagationStopped=l0,this}return qe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uu)},persist:function(){},isPersistent:Uu}),e}var Xo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Km=_n(Xo),Jl=qe({},Xo,{view:0,detail:0}),kR=_n(Jl),vf,_f,Aa,kd=qe({},Jl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Aa&&(Aa&&t.type==="mousemove"?(vf=t.screenX-Aa.screenX,_f=t.screenY-Aa.screenY):_f=vf=0,Aa=t),vf)},movementY:function(t){return"movementY"in t?t.movementY:_f}}),u0=_n(kd),DR=qe({},kd,{dataTransfer:0}),VR=_n(DR),NR=qe({},Jl,{relatedTarget:0}),wf=_n(NR),MR=qe({},Xo,{animationName:0,elapsedTime:0,pseudoElement:0}),OR=_n(MR),LR=qe({},Xo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),FR=_n(LR),BR=qe({},Xo,{data:0}),c0=_n(BR),$R={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zR[t])?!!e[t]:!1}function Hm(){return UR}var qR=qe({},Jl,{key:function(t){if(t.key){var e=$R[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?jR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hm,charCode:function(t){return t.type==="keypress"?gc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),GR=_n(qR),WR=qe({},kd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),d0=_n(WR),KR=qe({},Jl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hm}),HR=_n(KR),QR=qe({},Xo,{propertyName:0,elapsedTime:0,pseudoElement:0}),YR=_n(QR),XR=qe({},kd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),JR=_n(XR),ZR=[9,13,27,32],Qm=vr&&"CompositionEvent"in window,Xa=null;vr&&"documentMode"in document&&(Xa=document.documentMode);var eA=vr&&"TextEvent"in window&&!Xa,tE=vr&&(!Qm||Xa&&8<Xa&&11>=Xa),h0=" ",f0=!1;function nE(t,e){switch(t){case"keyup":return ZR.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var no=!1;function tA(t,e){switch(t){case"compositionend":return rE(e);case"keypress":return e.which!==32?null:(f0=!0,h0);case"textInput":return t=e.data,t===h0&&f0?null:t;default:return null}}function nA(t,e){if(no)return t==="compositionend"||!Qm&&nE(t,e)?(t=eE(),mc=Wm=Hr=null,no=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tE&&e.locale!=="ko"?null:e.data;default:return null}}var rA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function p0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!rA[t.type]:e==="textarea"}function iE(t,e,n,r){Mw(r),e=Gc(e,"onChange"),0<e.length&&(n=new Km("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ja=null,vl=null;function iA(t){mE(t,0)}function Dd(t){var e=so(t);if(Aw(e))return t}function sA(t,e){if(t==="change")return e}var sE=!1;if(vr){var Ef;if(vr){var Tf="oninput"in document;if(!Tf){var m0=document.createElement("div");m0.setAttribute("oninput","return;"),Tf=typeof m0.oninput=="function"}Ef=Tf}else Ef=!1;sE=Ef&&(!document.documentMode||9<document.documentMode)}function g0(){Ja&&(Ja.detachEvent("onpropertychange",oE),vl=Ja=null)}function oE(t){if(t.propertyName==="value"&&Dd(vl)){var e=[];iE(e,vl,t,jm(t)),Bw(iA,e)}}function oA(t,e,n){t==="focusin"?(g0(),Ja=e,vl=n,Ja.attachEvent("onpropertychange",oE)):t==="focusout"&&g0()}function aA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Dd(vl)}function lA(t,e){if(t==="click")return Dd(e)}function uA(t,e){if(t==="input"||t==="change")return Dd(e)}function cA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jn=typeof Object.is=="function"?Object.is:cA;function _l(t,e){if(jn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Zf.call(e,i)||!jn(t[i],e[i]))return!1}return!0}function y0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function v0(t,e){var n=y0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=y0(n)}}function aE(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aE(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lE(){for(var t=window,e=Fc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Fc(t.document)}return e}function Ym(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function dA(t){var e=lE(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&aE(n.ownerDocument.documentElement,n)){if(r!==null&&Ym(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=v0(n,s);var o=v0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hA=vr&&"documentMode"in document&&11>=document.documentMode,ro=null,vp=null,Za=null,_p=!1;function _0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_p||ro==null||ro!==Fc(r)||(r=ro,"selectionStart"in r&&Ym(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Za&&_l(Za,r)||(Za=r,r=Gc(vp,"onSelect"),0<r.length&&(e=new Km("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ro)))}function qu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var io={animationend:qu("Animation","AnimationEnd"),animationiteration:qu("Animation","AnimationIteration"),animationstart:qu("Animation","AnimationStart"),transitionend:qu("Transition","TransitionEnd")},If={},uE={};vr&&(uE=document.createElement("div").style,"AnimationEvent"in window||(delete io.animationend.animation,delete io.animationiteration.animation,delete io.animationstart.animation),"TransitionEvent"in window||delete io.transitionend.transition);function Vd(t){if(If[t])return If[t];if(!io[t])return t;var e=io[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uE)return If[t]=e[n];return t}var cE=Vd("animationend"),dE=Vd("animationiteration"),hE=Vd("animationstart"),fE=Vd("transitionend"),pE=new Map,w0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(t,e){pE.set(t,e),ws(e,[t])}for(var xf=0;xf<w0.length;xf++){var Sf=w0[xf],fA=Sf.toLowerCase(),pA=Sf[0].toUpperCase()+Sf.slice(1);wi(fA,"on"+pA)}wi(cE,"onAnimationEnd");wi(dE,"onAnimationIteration");wi(hE,"onAnimationStart");wi("dblclick","onDoubleClick");wi("focusin","onFocus");wi("focusout","onBlur");wi(fE,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ua="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ua));function E0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fR(r,e,void 0,t),t.currentTarget=null}function mE(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;E0(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;E0(i,a,c),s=l}}}if($c)throw t=pp,$c=!1,pp=null,t}function De(t,e){var n=e[xp];n===void 0&&(n=e[xp]=new Set);var r=t+"__bubble";n.has(r)||(gE(e,t,2,!1),n.add(r))}function bf(t,e,n){var r=0;e&&(r|=4),gE(n,t,r,e)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function wl(t){if(!t[Gu]){t[Gu]=!0,Iw.forEach(function(n){n!=="selectionchange"&&(mA.has(n)||bf(n,!1,t),bf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Gu]||(e[Gu]=!0,bf("selectionchange",!1,e))}}function gE(t,e,n,r){switch(Zw(e)){case 1:var i=CR;break;case 4:i=PR;break;default:i=Gm}n=i.bind(null,e,n,t),i=void 0,!fp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Rf(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Wi(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}Bw(function(){var c=s,d=jm(n),f=[];e:{var p=pE.get(t);if(p!==void 0){var g=Km,_=t;switch(t){case"keypress":if(gc(n)===0)break e;case"keydown":case"keyup":g=GR;break;case"focusin":_="focus",g=wf;break;case"focusout":_="blur",g=wf;break;case"beforeblur":case"afterblur":g=wf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=u0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=VR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=HR;break;case cE:case dE:case hE:g=OR;break;case fE:g=YR;break;case"scroll":g=kR;break;case"wheel":g=JR;break;case"copy":case"cut":case"paste":g=FR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=d0}var T=(e&4)!==0,P=!T&&t==="scroll",x=T?p!==null?p+"Capture":null:p;T=[];for(var E=c,I;E!==null;){I=E;var k=I.stateNode;if(I.tag===5&&k!==null&&(I=k,x!==null&&(k=pl(E,x),k!=null&&T.push(El(E,k,I)))),P)break;E=E.return}0<T.length&&(p=new g(p,_,null,n,d),f.push({event:p,listeners:T}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",p&&n!==dp&&(_=n.relatedTarget||n.fromElement)&&(Wi(_)||_[_r]))break e;if((g||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,g?(_=n.relatedTarget||n.toElement,g=c,_=_?Wi(_):null,_!==null&&(P=Es(_),_!==P||_.tag!==5&&_.tag!==6)&&(_=null)):(g=null,_=c),g!==_)){if(T=u0,k="onMouseLeave",x="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(T=d0,k="onPointerLeave",x="onPointerEnter",E="pointer"),P=g==null?p:so(g),I=_==null?p:so(_),p=new T(k,E+"leave",g,n,d),p.target=P,p.relatedTarget=I,k=null,Wi(d)===c&&(T=new T(x,E+"enter",_,n,d),T.target=I,T.relatedTarget=P,k=T),P=k,g&&_)t:{for(T=g,x=_,E=0,I=T;I;I=Os(I))E++;for(I=0,k=x;k;k=Os(k))I++;for(;0<E-I;)T=Os(T),E--;for(;0<I-E;)x=Os(x),I--;for(;E--;){if(T===x||x!==null&&T===x.alternate)break t;T=Os(T),x=Os(x)}T=null}else T=null;g!==null&&T0(f,p,g,T,!1),_!==null&&P!==null&&T0(f,P,_,T,!0)}}e:{if(p=c?so(c):window,g=p.nodeName&&p.nodeName.toLowerCase(),g==="select"||g==="input"&&p.type==="file")var M=sA;else if(p0(p))if(sE)M=uA;else{M=aA;var F=oA}else(g=p.nodeName)&&g.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(M=lA);if(M&&(M=M(t,c))){iE(f,M,n,d);break e}F&&F(t,p,c),t==="focusout"&&(F=p._wrapperState)&&F.controlled&&p.type==="number"&&op(p,"number",p.value)}switch(F=c?so(c):window,t){case"focusin":(p0(F)||F.contentEditable==="true")&&(ro=F,vp=c,Za=null);break;case"focusout":Za=vp=ro=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,_0(f,n,d);break;case"selectionchange":if(hA)break;case"keydown":case"keyup":_0(f,n,d)}var v;if(Qm)e:{switch(t){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else no?nE(t,n)&&(y="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(y="onCompositionStart");y&&(tE&&n.locale!=="ko"&&(no||y!=="onCompositionStart"?y==="onCompositionEnd"&&no&&(v=eE()):(Hr=d,Wm="value"in Hr?Hr.value:Hr.textContent,no=!0)),F=Gc(c,y),0<F.length&&(y=new c0(y,t,null,n,d),f.push({event:y,listeners:F}),v?y.data=v:(v=rE(n),v!==null&&(y.data=v)))),(v=eA?tA(t,n):nA(t,n))&&(c=Gc(c,"onBeforeInput"),0<c.length&&(d=new c0("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:c}),d.data=v))}mE(f,e)})}function El(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Gc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=pl(t,n),s!=null&&r.unshift(El(t,s,i)),s=pl(t,e),s!=null&&r.push(El(t,s,i))),t=t.return}return r}function Os(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function T0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=pl(n,s),l!=null&&o.unshift(El(n,l,a))):i||(l=pl(n,s),l!=null&&o.push(El(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var gA=/\r\n?/g,yA=/\u0000|\uFFFD/g;function I0(t){return(typeof t=="string"?t:""+t).replace(gA,`
`).replace(yA,"")}function Wu(t,e,n){if(e=I0(e),I0(t)!==e&&n)throw Error(q(425))}function Wc(){}var wp=null,Ep=null;function Tp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ip=typeof setTimeout=="function"?setTimeout:void 0,vA=typeof clearTimeout=="function"?clearTimeout:void 0,x0=typeof Promise=="function"?Promise:void 0,_A=typeof queueMicrotask=="function"?queueMicrotask:typeof x0<"u"?function(t){return x0.resolve(null).then(t).catch(wA)}:Ip;function wA(t){setTimeout(function(){throw t})}function Af(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),yl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);yl(e)}function ei(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function S0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Jo=Math.random().toString(36).slice(2),Xn="__reactFiber$"+Jo,Tl="__reactProps$"+Jo,_r="__reactContainer$"+Jo,xp="__reactEvents$"+Jo,EA="__reactListeners$"+Jo,TA="__reactHandles$"+Jo;function Wi(t){var e=t[Xn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[_r]||n[Xn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=S0(t);t!==null;){if(n=t[Xn])return n;t=S0(t)}return e}t=n,n=t.parentNode}return null}function Zl(t){return t=t[Xn]||t[_r],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function so(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Nd(t){return t[Tl]||null}var Sp=[],oo=-1;function Ei(t){return{current:t}}function Ne(t){0>oo||(t.current=Sp[oo],Sp[oo]=null,oo--)}function Ce(t,e){oo++,Sp[oo]=t.current,t.current=e}var ui={},Ft=Ei(ui),sn=Ei(!1),ts=ui;function bo(t,e){var n=t.type.contextTypes;if(!n)return ui;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function on(t){return t=t.childContextTypes,t!=null}function Kc(){Ne(sn),Ne(Ft)}function b0(t,e,n){if(Ft.current!==ui)throw Error(q(168));Ce(Ft,e),Ce(sn,n)}function yE(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(q(108,oR(t)||"Unknown",i));return qe({},n,r)}function Hc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ui,ts=Ft.current,Ce(Ft,t),Ce(sn,sn.current),!0}function R0(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=yE(t,e,ts),r.__reactInternalMemoizedMergedChildContext=t,Ne(sn),Ne(Ft),Ce(Ft,t)):Ne(sn),Ce(sn,n)}var dr=null,Md=!1,Cf=!1;function vE(t){dr===null?dr=[t]:dr.push(t)}function IA(t){Md=!0,vE(t)}function Ti(){if(!Cf&&dr!==null){Cf=!0;var t=0,e=xe;try{var n=dr;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}dr=null,Md=!1}catch(i){throw dr!==null&&(dr=dr.slice(t+1)),Uw(zm,Ti),i}finally{xe=e,Cf=!1}}return null}var ao=[],lo=0,Qc=null,Yc=0,In=[],xn=0,ns=null,hr=1,fr="";function Mi(t,e){ao[lo++]=Yc,ao[lo++]=Qc,Qc=t,Yc=e}function _E(t,e,n){In[xn++]=hr,In[xn++]=fr,In[xn++]=ns,ns=t;var r=hr;t=fr;var i=32-Fn(r)-1;r&=~(1<<i),n+=1;var s=32-Fn(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,hr=1<<32-Fn(e)+i|n<<i|r,fr=s+t}else hr=1<<s|n<<i|r,fr=t}function Xm(t){t.return!==null&&(Mi(t,1),_E(t,1,0))}function Jm(t){for(;t===Qc;)Qc=ao[--lo],ao[lo]=null,Yc=ao[--lo],ao[lo]=null;for(;t===ns;)ns=In[--xn],In[xn]=null,fr=In[--xn],In[xn]=null,hr=In[--xn],In[xn]=null}var pn=null,hn=null,Oe=!1,Ln=null;function wE(t,e){var n=bn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function A0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,pn=t,hn=ei(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,pn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ns!==null?{id:hr,overflow:fr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=bn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,pn=t,hn=null,!0):!1;default:return!1}}function bp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Rp(t){if(Oe){var e=hn;if(e){var n=e;if(!A0(t,e)){if(bp(t))throw Error(q(418));e=ei(n.nextSibling);var r=pn;e&&A0(t,e)?wE(r,n):(t.flags=t.flags&-4097|2,Oe=!1,pn=t)}}else{if(bp(t))throw Error(q(418));t.flags=t.flags&-4097|2,Oe=!1,pn=t}}}function C0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;pn=t}function Ku(t){if(t!==pn)return!1;if(!Oe)return C0(t),Oe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tp(t.type,t.memoizedProps)),e&&(e=hn)){if(bp(t))throw EE(),Error(q(418));for(;e;)wE(t,e),e=ei(e.nextSibling)}if(C0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){hn=ei(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=pn?ei(t.stateNode.nextSibling):null;return!0}function EE(){for(var t=hn;t;)t=ei(t.nextSibling)}function Ro(){hn=pn=null,Oe=!1}function Zm(t){Ln===null?Ln=[t]:Ln.push(t)}var xA=br.ReactCurrentBatchConfig;function Ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function Hu(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function P0(t){var e=t._init;return e(t._payload)}function TE(t){function e(x,E){if(t){var I=x.deletions;I===null?(x.deletions=[E],x.flags|=16):I.push(E)}}function n(x,E){if(!t)return null;for(;E!==null;)e(x,E),E=E.sibling;return null}function r(x,E){for(x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function i(x,E){return x=ii(x,E),x.index=0,x.sibling=null,x}function s(x,E,I){return x.index=I,t?(I=x.alternate,I!==null?(I=I.index,I<E?(x.flags|=2,E):I):(x.flags|=2,E)):(x.flags|=1048576,E)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function a(x,E,I,k){return E===null||E.tag!==6?(E=Of(I,x.mode,k),E.return=x,E):(E=i(E,I),E.return=x,E)}function l(x,E,I,k){var M=I.type;return M===to?d(x,E,I.props.children,k,I.key):E!==null&&(E.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===jr&&P0(M)===E.type)?(k=i(E,I.props),k.ref=Ca(x,E,I),k.return=x,k):(k=Ic(I.type,I.key,I.props,null,x.mode,k),k.ref=Ca(x,E,I),k.return=x,k)}function c(x,E,I,k){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=Lf(I,x.mode,k),E.return=x,E):(E=i(E,I.children||[]),E.return=x,E)}function d(x,E,I,k,M){return E===null||E.tag!==7?(E=Zi(I,x.mode,k,M),E.return=x,E):(E=i(E,I),E.return=x,E)}function f(x,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Of(""+E,x.mode,I),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Lu:return I=Ic(E.type,E.key,E.props,null,x.mode,I),I.ref=Ca(x,null,E),I.return=x,I;case eo:return E=Lf(E,x.mode,I),E.return=x,E;case jr:var k=E._init;return f(x,k(E._payload),I)}if(ja(E)||xa(E))return E=Zi(E,x.mode,I,null),E.return=x,E;Hu(x,E)}return null}function p(x,E,I,k){var M=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return M!==null?null:a(x,E,""+I,k);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Lu:return I.key===M?l(x,E,I,k):null;case eo:return I.key===M?c(x,E,I,k):null;case jr:return M=I._init,p(x,E,M(I._payload),k)}if(ja(I)||xa(I))return M!==null?null:d(x,E,I,k,null);Hu(x,I)}return null}function g(x,E,I,k,M){if(typeof k=="string"&&k!==""||typeof k=="number")return x=x.get(I)||null,a(E,x,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Lu:return x=x.get(k.key===null?I:k.key)||null,l(E,x,k,M);case eo:return x=x.get(k.key===null?I:k.key)||null,c(E,x,k,M);case jr:var F=k._init;return g(x,E,I,F(k._payload),M)}if(ja(k)||xa(k))return x=x.get(I)||null,d(E,x,k,M,null);Hu(E,k)}return null}function _(x,E,I,k){for(var M=null,F=null,v=E,y=E=0,S=null;v!==null&&y<I.length;y++){v.index>y?(S=v,v=null):S=v.sibling;var b=p(x,v,I[y],k);if(b===null){v===null&&(v=S);break}t&&v&&b.alternate===null&&e(x,v),E=s(b,E,y),F===null?M=b:F.sibling=b,F=b,v=S}if(y===I.length)return n(x,v),Oe&&Mi(x,y),M;if(v===null){for(;y<I.length;y++)v=f(x,I[y],k),v!==null&&(E=s(v,E,y),F===null?M=v:F.sibling=v,F=v);return Oe&&Mi(x,y),M}for(v=r(x,v);y<I.length;y++)S=g(v,x,y,I[y],k),S!==null&&(t&&S.alternate!==null&&v.delete(S.key===null?y:S.key),E=s(S,E,y),F===null?M=S:F.sibling=S,F=S);return t&&v.forEach(function(A){return e(x,A)}),Oe&&Mi(x,y),M}function T(x,E,I,k){var M=xa(I);if(typeof M!="function")throw Error(q(150));if(I=M.call(I),I==null)throw Error(q(151));for(var F=M=null,v=E,y=E=0,S=null,b=I.next();v!==null&&!b.done;y++,b=I.next()){v.index>y?(S=v,v=null):S=v.sibling;var A=p(x,v,b.value,k);if(A===null){v===null&&(v=S);break}t&&v&&A.alternate===null&&e(x,v),E=s(A,E,y),F===null?M=A:F.sibling=A,F=A,v=S}if(b.done)return n(x,v),Oe&&Mi(x,y),M;if(v===null){for(;!b.done;y++,b=I.next())b=f(x,b.value,k),b!==null&&(E=s(b,E,y),F===null?M=b:F.sibling=b,F=b);return Oe&&Mi(x,y),M}for(v=r(x,v);!b.done;y++,b=I.next())b=g(v,x,y,b.value,k),b!==null&&(t&&b.alternate!==null&&v.delete(b.key===null?y:b.key),E=s(b,E,y),F===null?M=b:F.sibling=b,F=b);return t&&v.forEach(function(C){return e(x,C)}),Oe&&Mi(x,y),M}function P(x,E,I,k){if(typeof I=="object"&&I!==null&&I.type===to&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Lu:e:{for(var M=I.key,F=E;F!==null;){if(F.key===M){if(M=I.type,M===to){if(F.tag===7){n(x,F.sibling),E=i(F,I.props.children),E.return=x,x=E;break e}}else if(F.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===jr&&P0(M)===F.type){n(x,F.sibling),E=i(F,I.props),E.ref=Ca(x,F,I),E.return=x,x=E;break e}n(x,F);break}else e(x,F);F=F.sibling}I.type===to?(E=Zi(I.props.children,x.mode,k,I.key),E.return=x,x=E):(k=Ic(I.type,I.key,I.props,null,x.mode,k),k.ref=Ca(x,E,I),k.return=x,x=k)}return o(x);case eo:e:{for(F=I.key;E!==null;){if(E.key===F)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){n(x,E.sibling),E=i(E,I.children||[]),E.return=x,x=E;break e}else{n(x,E);break}else e(x,E);E=E.sibling}E=Lf(I,x.mode,k),E.return=x,x=E}return o(x);case jr:return F=I._init,P(x,E,F(I._payload),k)}if(ja(I))return _(x,E,I,k);if(xa(I))return T(x,E,I,k);Hu(x,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(n(x,E.sibling),E=i(E,I),E.return=x,x=E):(n(x,E),E=Of(I,x.mode,k),E.return=x,x=E),o(x)):n(x,E)}return P}var Ao=TE(!0),IE=TE(!1),Xc=Ei(null),Jc=null,uo=null,eg=null;function tg(){eg=uo=Jc=null}function ng(t){var e=Xc.current;Ne(Xc),t._currentValue=e}function Ap(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vo(t,e){Jc=t,eg=uo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(en=!0),t.firstContext=null)}function Pn(t){var e=t._currentValue;if(eg!==t)if(t={context:t,memoizedValue:e,next:null},uo===null){if(Jc===null)throw Error(q(308));uo=t,Jc.dependencies={lanes:0,firstContext:t}}else uo=uo.next=t;return e}var Ki=null;function rg(t){Ki===null?Ki=[t]:Ki.push(t)}function xE(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,rg(e)):(n.next=i.next,i.next=n),e.interleaved=n,wr(t,r)}function wr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var zr=!1;function ig(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function SE(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ti(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ye&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,wr(t,n)}return i=r.interleaved,i===null?(e.next=e,rg(r)):(e.next=i.next,i.next=e),r.interleaved=e,wr(t,n)}function yc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Um(t,n)}}function k0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Zc(t,e,n,r){var i=t.updateQueue;zr=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;o=0,d=c=l=null,a=s;do{var p=a.lane,g=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var _=t,T=a;switch(p=e,g=n,T.tag){case 1:if(_=T.payload,typeof _=="function"){f=_.call(g,f,p);break e}f=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=T.payload,p=typeof _=="function"?_.call(g,f,p):_,p==null)break e;f=qe({},f,p);break e;case 2:zr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[a]:p.push(a))}else g={eventTime:g,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,l=f):d=d.next=g,o|=p;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;p=a,a=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(d===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);is|=o,t.lanes=o,t.memoizedState=f}}function D0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(q(191,i));i.call(r)}}}var eu={},tr=Ei(eu),Il=Ei(eu),xl=Ei(eu);function Hi(t){if(t===eu)throw Error(q(174));return t}function sg(t,e){switch(Ce(xl,e),Ce(Il,t),Ce(tr,eu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:lp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=lp(e,t)}Ne(tr),Ce(tr,e)}function Co(){Ne(tr),Ne(Il),Ne(xl)}function bE(t){Hi(xl.current);var e=Hi(tr.current),n=lp(e,t.type);e!==n&&(Ce(Il,t),Ce(tr,n))}function og(t){Il.current===t&&(Ne(tr),Ne(Il))}var je=Ei(0);function ed(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Pf=[];function ag(){for(var t=0;t<Pf.length;t++)Pf[t]._workInProgressVersionPrimary=null;Pf.length=0}var vc=br.ReactCurrentDispatcher,kf=br.ReactCurrentBatchConfig,rs=0,ze=null,ut=null,yt=null,td=!1,el=!1,Sl=0,SA=0;function Vt(){throw Error(q(321))}function lg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jn(t[n],e[n]))return!1;return!0}function ug(t,e,n,r,i,s){if(rs=s,ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vc.current=t===null||t.memoizedState===null?CA:PA,t=n(r,i),el){s=0;do{if(el=!1,Sl=0,25<=s)throw Error(q(301));s+=1,yt=ut=null,e.updateQueue=null,vc.current=kA,t=n(r,i)}while(el)}if(vc.current=nd,e=ut!==null&&ut.next!==null,rs=0,yt=ut=ze=null,td=!1,e)throw Error(q(300));return t}function cg(){var t=Sl!==0;return Sl=0,t}function Hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?ze.memoizedState=yt=t:yt=yt.next=t,yt}function kn(){if(ut===null){var t=ze.alternate;t=t!==null?t.memoizedState:null}else t=ut.next;var e=yt===null?ze.memoizedState:yt.next;if(e!==null)yt=e,ut=t;else{if(t===null)throw Error(q(310));ut=t,t={memoizedState:ut.memoizedState,baseState:ut.baseState,baseQueue:ut.baseQueue,queue:ut.queue,next:null},yt===null?ze.memoizedState=yt=t:yt=yt.next=t}return yt}function bl(t,e){return typeof e=="function"?e(t):e}function Df(t){var e=kn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=ut,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((rs&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,ze.lanes|=d,is|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,jn(r,e.memoizedState)||(en=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ze.lanes|=s,is|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Vf(t){var e=kn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);jn(s,e.memoizedState)||(en=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function RE(){}function AE(t,e){var n=ze,r=kn(),i=e(),s=!jn(r.memoizedState,i);if(s&&(r.memoizedState=i,en=!0),r=r.queue,dg(kE.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||yt!==null&&yt.memoizedState.tag&1){if(n.flags|=2048,Rl(9,PE.bind(null,n,r,i,e),void 0,null),_t===null)throw Error(q(349));rs&30||CE(n,e,i)}return i}function CE(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function PE(t,e,n,r){e.value=n,e.getSnapshot=r,DE(e)&&VE(t)}function kE(t,e,n){return n(function(){DE(e)&&VE(t)})}function DE(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jn(t,n)}catch{return!0}}function VE(t){var e=wr(t,1);e!==null&&Bn(e,t,1,-1)}function V0(t){var e=Hn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bl,lastRenderedState:t},e.queue=t,t=t.dispatch=AA.bind(null,ze,t),[e.memoizedState,t]}function Rl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ze.updateQueue,e===null?(e={lastEffect:null,stores:null},ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NE(){return kn().memoizedState}function _c(t,e,n,r){var i=Hn();ze.flags|=t,i.memoizedState=Rl(1|e,n,void 0,r===void 0?null:r)}function Od(t,e,n,r){var i=kn();r=r===void 0?null:r;var s=void 0;if(ut!==null){var o=ut.memoizedState;if(s=o.destroy,r!==null&&lg(r,o.deps)){i.memoizedState=Rl(e,n,s,r);return}}ze.flags|=t,i.memoizedState=Rl(1|e,n,s,r)}function N0(t,e){return _c(8390656,8,t,e)}function dg(t,e){return Od(2048,8,t,e)}function ME(t,e){return Od(4,2,t,e)}function OE(t,e){return Od(4,4,t,e)}function LE(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FE(t,e,n){return n=n!=null?n.concat([t]):null,Od(4,4,LE.bind(null,e,t),n)}function hg(){}function BE(t,e){var n=kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function $E(t,e){var n=kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lg(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jE(t,e,n){return rs&21?(jn(n,e)||(n=Ww(),ze.lanes|=n,is|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,en=!0),t.memoizedState=n)}function bA(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=kf.transition;kf.transition={};try{t(!1),e()}finally{xe=n,kf.transition=r}}function zE(){return kn().memoizedState}function RA(t,e,n){var r=ri(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UE(t))qE(e,n);else if(n=xE(t,e,n,r),n!==null){var i=qt();Bn(n,t,r,i),GE(n,e,r)}}function AA(t,e,n){var r=ri(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UE(t))qE(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,jn(a,o)){var l=e.interleaved;l===null?(i.next=i,rg(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=xE(t,e,i,r),n!==null&&(i=qt(),Bn(n,t,r,i),GE(n,e,r))}}function UE(t){var e=t.alternate;return t===ze||e!==null&&e===ze}function qE(t,e){el=td=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GE(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Um(t,n)}}var nd={readContext:Pn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},CA={readContext:Pn,useCallback:function(t,e){return Hn().memoizedState=[t,e===void 0?null:e],t},useContext:Pn,useEffect:N0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_c(4194308,4,LE.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _c(4194308,4,t,e)},useInsertionEffect:function(t,e){return _c(4,2,t,e)},useMemo:function(t,e){var n=Hn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Hn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=RA.bind(null,ze,t),[r.memoizedState,t]},useRef:function(t){var e=Hn();return t={current:t},e.memoizedState=t},useState:V0,useDebugValue:hg,useDeferredValue:function(t){return Hn().memoizedState=t},useTransition:function(){var t=V0(!1),e=t[0];return t=bA.bind(null,t[1]),Hn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ze,i=Hn();if(Oe){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),_t===null)throw Error(q(349));rs&30||CE(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,N0(kE.bind(null,r,s,t),[t]),r.flags|=2048,Rl(9,PE.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Hn(),e=_t.identifierPrefix;if(Oe){var n=fr,r=hr;n=(r&~(1<<32-Fn(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Sl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=SA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},PA={readContext:Pn,useCallback:BE,useContext:Pn,useEffect:dg,useImperativeHandle:FE,useInsertionEffect:ME,useLayoutEffect:OE,useMemo:$E,useReducer:Df,useRef:NE,useState:function(){return Df(bl)},useDebugValue:hg,useDeferredValue:function(t){var e=kn();return jE(e,ut.memoizedState,t)},useTransition:function(){var t=Df(bl)[0],e=kn().memoizedState;return[t,e]},useMutableSource:RE,useSyncExternalStore:AE,useId:zE,unstable_isNewReconciler:!1},kA={readContext:Pn,useCallback:BE,useContext:Pn,useEffect:dg,useImperativeHandle:FE,useInsertionEffect:ME,useLayoutEffect:OE,useMemo:$E,useReducer:Vf,useRef:NE,useState:function(){return Vf(bl)},useDebugValue:hg,useDeferredValue:function(t){var e=kn();return ut===null?e.memoizedState=t:jE(e,ut.memoizedState,t)},useTransition:function(){var t=Vf(bl)[0],e=kn().memoizedState;return[t,e]},useMutableSource:RE,useSyncExternalStore:AE,useId:zE,unstable_isNewReconciler:!1};function Mn(t,e){if(t&&t.defaultProps){e=qe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cp(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:qe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ld={isMounted:function(t){return(t=t._reactInternals)?Es(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=qt(),i=ri(t),s=gr(r,i);s.payload=e,n!=null&&(s.callback=n),e=ti(t,s,i),e!==null&&(Bn(e,t,i,r),yc(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=qt(),i=ri(t),s=gr(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ti(t,s,i),e!==null&&(Bn(e,t,i,r),yc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=qt(),r=ri(t),i=gr(n,r);i.tag=2,e!=null&&(i.callback=e),e=ti(t,i,r),e!==null&&(Bn(e,t,r,n),yc(e,t,r))}};function M0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!_l(n,r)||!_l(i,s):!0}function WE(t,e,n){var r=!1,i=ui,s=e.contextType;return typeof s=="object"&&s!==null?s=Pn(s):(i=on(e)?ts:Ft.current,r=e.contextTypes,s=(r=r!=null)?bo(t,i):ui),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ld,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function O0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ld.enqueueReplaceState(e,e.state,null)}function Pp(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ig(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Pn(s):(s=on(e)?ts:Ft.current,i.context=bo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Cp(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ld.enqueueReplaceState(i,i.state,null),Zc(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Po(t,e){try{var n="",r=e;do n+=sR(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Nf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function kp(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DA=typeof WeakMap=="function"?WeakMap:Map;function KE(t,e,n){n=gr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){id||(id=!0,jp=r),kp(t,e)},n}function HE(t,e,n){n=gr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){kp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){kp(t,e),typeof r!="function"&&(ni===null?ni=new Set([this]):ni.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function L0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DA;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=WA.bind(null,t,e,n),e.then(t,t))}function F0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function B0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gr(-1,1),e.tag=2,ti(n,e,1))),n.lanes|=1),t)}var VA=br.ReactCurrentOwner,en=!1;function jt(t,e,n,r){e.child=t===null?IE(e,null,n,r):Ao(e,t.child,n,r)}function $0(t,e,n,r,i){n=n.render;var s=e.ref;return vo(e,i),r=ug(t,e,n,r,s,i),n=cg(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Er(t,e,i)):(Oe&&n&&Xm(e),e.flags|=1,jt(t,e,r,i),e.child)}function j0(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!wg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,QE(t,e,s,r,i)):(t=Ic(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:_l,n(o,r)&&t.ref===e.ref)return Er(t,e,i)}return e.flags|=1,t=ii(s,r),t.ref=e.ref,t.return=e,e.child=t}function QE(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(_l(s,r)&&t.ref===e.ref)if(en=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(en=!0);else return e.lanes=t.lanes,Er(t,e,i)}return Dp(t,e,n,r,i)}function YE(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(ho,cn),cn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ce(ho,cn),cn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Ce(ho,cn),cn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Ce(ho,cn),cn|=r;return jt(t,e,i,n),e.child}function XE(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Dp(t,e,n,r,i){var s=on(n)?ts:Ft.current;return s=bo(e,s),vo(e,i),n=ug(t,e,n,r,s,i),r=cg(),t!==null&&!en?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Er(t,e,i)):(Oe&&r&&Xm(e),e.flags|=1,jt(t,e,n,i),e.child)}function z0(t,e,n,r,i){if(on(n)){var s=!0;Hc(e)}else s=!1;if(vo(e,i),e.stateNode===null)wc(t,e),WE(e,n,r),Pp(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Pn(c):(c=on(n)?ts:Ft.current,c=bo(e,c));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&O0(e,o,r,c),zr=!1;var p=e.memoizedState;o.state=p,Zc(e,r,o,i),l=e.memoizedState,a!==r||p!==l||sn.current||zr?(typeof d=="function"&&(Cp(e,n,d,r),l=e.memoizedState),(a=zr||M0(e,n,a,r,p,l,c))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,SE(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Mn(e.type,a),o.props=c,f=e.pendingProps,p=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Pn(l):(l=on(n)?ts:Ft.current,l=bo(e,l));var g=n.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==l)&&O0(e,o,r,l),zr=!1,p=e.memoizedState,o.state=p,Zc(e,r,o,i);var _=e.memoizedState;a!==f||p!==_||sn.current||zr?(typeof g=="function"&&(Cp(e,n,g,r),_=e.memoizedState),(c=zr||M0(e,n,c,r,p,_,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,_,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,_,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=_),o.props=r,o.state=_,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return Vp(t,e,n,r,s,i)}function Vp(t,e,n,r,i,s){XE(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&R0(e,n,!1),Er(t,e,s);r=e.stateNode,VA.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Ao(e,t.child,null,s),e.child=Ao(e,null,a,s)):jt(t,e,a,s),e.memoizedState=r.state,i&&R0(e,n,!0),e.child}function JE(t){var e=t.stateNode;e.pendingContext?b0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&b0(t,e.context,!1),sg(t,e.containerInfo)}function U0(t,e,n,r,i){return Ro(),Zm(i),e.flags|=256,jt(t,e,n,r),e.child}var Np={dehydrated:null,treeContext:null,retryLane:0};function Mp(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZE(t,e,n){var r=e.pendingProps,i=je.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ce(je,i&1),t===null)return Rp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=$d(o,r,0,null),t=Zi(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Mp(n),e.memoizedState=Np,t):fg(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return NA(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=ii(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ii(a,s):(s=Zi(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Mp(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Np,r}return s=t.child,t=s.sibling,r=ii(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fg(t,e){return e=$d({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qu(t,e,n,r){return r!==null&&Zm(r),Ao(e,t.child,null,n),t=fg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function NA(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Nf(Error(q(422))),Qu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=$d({mode:"visible",children:r.children},i,0,null),s=Zi(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Ao(e,t.child,null,o),e.child.memoizedState=Mp(o),e.memoizedState=Np,s);if(!(e.mode&1))return Qu(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(q(419)),r=Nf(s,r,void 0),Qu(t,e,o,r)}if(a=(o&t.childLanes)!==0,en||a){if(r=_t,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,wr(t,i),Bn(r,t,i,-1))}return _g(),r=Nf(Error(q(421))),Qu(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=KA.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,hn=ei(i.nextSibling),pn=e,Oe=!0,Ln=null,t!==null&&(In[xn++]=hr,In[xn++]=fr,In[xn++]=ns,hr=t.id,fr=t.overflow,ns=e),e=fg(e,r.children),e.flags|=4096,e)}function q0(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ap(t.return,e,n)}function Mf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function eT(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(jt(t,e,r.children,n),r=je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&q0(t,n,e);else if(t.tag===19)q0(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ce(je,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ed(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Mf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ed(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Mf(e,!0,n,null,s);break;case"together":Mf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Er(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),is|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=ii(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ii(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function MA(t,e,n){switch(e.tag){case 3:JE(e),Ro();break;case 5:bE(e);break;case 1:on(e.type)&&Hc(e);break;case 4:sg(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Ce(Xc,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ce(je,je.current&1),e.flags|=128,null):n&e.child.childLanes?ZE(t,e,n):(Ce(je,je.current&1),t=Er(t,e,n),t!==null?t.sibling:null);Ce(je,je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return eT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ce(je,je.current),r)break;return null;case 22:case 23:return e.lanes=0,YE(t,e,n)}return Er(t,e,n)}var tT,Op,nT,rT;tT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Op=function(){};nT=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Hi(tr.current);var s=null;switch(n){case"input":i=ip(t,i),r=ip(t,r),s=[];break;case"select":i=qe({},i,{value:void 0}),r=qe({},r,{value:void 0}),s=[];break;case"textarea":i=ap(t,i),r=ap(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Wc)}up(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(hl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(hl.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&De("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};rT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Pa(t,e){if(!Oe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Nt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function OA(t,e,n){var r=e.pendingProps;switch(Jm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nt(e),null;case 1:return on(e.type)&&Kc(),Nt(e),null;case 3:return r=e.stateNode,Co(),Ne(sn),Ne(Ft),ag(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ku(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ln!==null&&(qp(Ln),Ln=null))),Op(t,e),Nt(e),null;case 5:og(e);var i=Hi(xl.current);if(n=e.type,t!==null&&e.stateNode!=null)nT(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Nt(e),null}if(t=Hi(tr.current),Ku(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Xn]=e,r[Tl]=s,t=(e.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(i=0;i<Ua.length;i++)De(Ua[i],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":Zv(r,s),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},De("invalid",r);break;case"textarea":t0(r,s),De("invalid",r)}up(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Wu(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Wu(r.textContent,a,t),i=["children",""+a]):hl.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&De("scroll",r)}switch(n){case"input":Fu(r),e0(r,s,!0);break;case"textarea":Fu(r),n0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Wc)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=kw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Xn]=e,t[Tl]=r,tT(t,e,!1,!1),e.stateNode=t;e:{switch(o=cp(n,r),n){case"dialog":De("cancel",t),De("close",t),i=r;break;case"iframe":case"object":case"embed":De("load",t),i=r;break;case"video":case"audio":for(i=0;i<Ua.length;i++)De(Ua[i],t);i=r;break;case"source":De("error",t),i=r;break;case"img":case"image":case"link":De("error",t),De("load",t),i=r;break;case"details":De("toggle",t),i=r;break;case"input":Zv(t,r),i=ip(t,r),De("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=qe({},r,{value:void 0}),De("invalid",t);break;case"textarea":t0(t,r),i=ap(t,r),De("invalid",t);break;default:i=r}up(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Nw(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Dw(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fl(t,l):typeof l=="number"&&fl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(hl.hasOwnProperty(s)?l!=null&&s==="onScroll"&&De("scroll",t):l!=null&&Lm(t,s,l,o))}switch(n){case"input":Fu(t),e0(t,r,!1);break;case"textarea":Fu(t),n0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+li(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?po(t,!!r.multiple,s,!1):r.defaultValue!=null&&po(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nt(e),null;case 6:if(t&&e.stateNode!=null)rT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=Hi(xl.current),Hi(tr.current),Ku(e)){if(r=e.stateNode,n=e.memoizedProps,r[Xn]=e,(s=r.nodeValue!==n)&&(t=pn,t!==null))switch(t.tag){case 3:Wu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Xn]=e,e.stateNode=r}return Nt(e),null;case 13:if(Ne(je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Oe&&hn!==null&&e.mode&1&&!(e.flags&128))EE(),Ro(),e.flags|=98560,s=!1;else if(s=Ku(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[Xn]=e}else Ro(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nt(e),s=!1}else Ln!==null&&(qp(Ln),Ln=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||je.current&1?ct===0&&(ct=3):_g())),e.updateQueue!==null&&(e.flags|=4),Nt(e),null);case 4:return Co(),Op(t,e),t===null&&wl(e.stateNode.containerInfo),Nt(e),null;case 10:return ng(e.type._context),Nt(e),null;case 17:return on(e.type)&&Kc(),Nt(e),null;case 19:if(Ne(je),s=e.memoizedState,s===null)return Nt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Pa(s,!1);else{if(ct!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ed(t),o!==null){for(e.flags|=128,Pa(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ce(je,je.current&1|2),e.child}t=t.sibling}s.tail!==null&&Je()>ko&&(e.flags|=128,r=!0,Pa(s,!1),e.lanes=4194304)}else{if(!r)if(t=ed(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Pa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Oe)return Nt(e),null}else 2*Je()-s.renderingStartTime>ko&&n!==1073741824&&(e.flags|=128,r=!0,Pa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Je(),e.sibling=null,n=je.current,Ce(je,r?n&1|2:n&1),e):(Nt(e),null);case 22:case 23:return vg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?cn&1073741824&&(Nt(e),e.subtreeFlags&6&&(e.flags|=8192)):Nt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function LA(t,e){switch(Jm(e),e.tag){case 1:return on(e.type)&&Kc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Co(),Ne(sn),Ne(Ft),ag(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return og(e),null;case 13:if(Ne(je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));Ro()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ne(je),null;case 4:return Co(),null;case 10:return ng(e.type._context),null;case 22:case 23:return vg(),null;case 24:return null;default:return null}}var Yu=!1,Lt=!1,FA=typeof WeakSet=="function"?WeakSet:Set,Y=null;function co(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){He(t,e,r)}else n.current=null}function Lp(t,e,n){try{n()}catch(r){He(t,e,r)}}var G0=!1;function BA(t,e){if(wp=Uc,t=lE(),Ym(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,f=t,p=null;t:for(;;){for(var g;f!==n||i!==0&&f.nodeType!==3||(a=o+i),f!==s||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)p=f,f=g;for(;;){if(f===t)break t;if(p===n&&++c===i&&(a=o),p===s&&++d===r&&(l=o),(g=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ep={focusedElem:t,selectionRange:n},Uc=!1,Y=e;Y!==null;)if(e=Y,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Y=t;else for(;Y!==null;){e=Y;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var T=_.memoizedProps,P=_.memoizedState,x=e.stateNode,E=x.getSnapshotBeforeUpdate(e.elementType===e.type?T:Mn(e.type,T),P);x.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(k){He(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Y=t;break}Y=e.return}return _=G0,G0=!1,_}function tl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Lp(e,n,s)}i=i.next}while(i!==r)}}function Fd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Fp(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function iT(t){var e=t.alternate;e!==null&&(t.alternate=null,iT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Xn],delete e[Tl],delete e[xp],delete e[EA],delete e[TA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sT(t){return t.tag===5||t.tag===3||t.tag===4}function W0(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bp(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Wc));else if(r!==4&&(t=t.child,t!==null))for(Bp(t,e,n),t=t.sibling;t!==null;)Bp(t,e,n),t=t.sibling}function $p(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for($p(t,e,n),t=t.sibling;t!==null;)$p(t,e,n),t=t.sibling}var St=null,On=!1;function Lr(t,e,n){for(n=n.child;n!==null;)oT(t,e,n),n=n.sibling}function oT(t,e,n){if(er&&typeof er.onCommitFiberUnmount=="function")try{er.onCommitFiberUnmount(Pd,n)}catch{}switch(n.tag){case 5:Lt||co(n,e);case 6:var r=St,i=On;St=null,Lr(t,e,n),St=r,On=i,St!==null&&(On?(t=St,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):St.removeChild(n.stateNode));break;case 18:St!==null&&(On?(t=St,n=n.stateNode,t.nodeType===8?Af(t.parentNode,n):t.nodeType===1&&Af(t,n),yl(t)):Af(St,n.stateNode));break;case 4:r=St,i=On,St=n.stateNode.containerInfo,On=!0,Lr(t,e,n),St=r,On=i;break;case 0:case 11:case 14:case 15:if(!Lt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Lp(n,e,o),i=i.next}while(i!==r)}Lr(t,e,n);break;case 1:if(!Lt&&(co(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){He(n,e,a)}Lr(t,e,n);break;case 21:Lr(t,e,n);break;case 22:n.mode&1?(Lt=(r=Lt)||n.memoizedState!==null,Lr(t,e,n),Lt=r):Lr(t,e,n);break;default:Lr(t,e,n)}}function K0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new FA),e.forEach(function(r){var i=HA.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Nn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:St=a.stateNode,On=!1;break e;case 3:St=a.stateNode.containerInfo,On=!0;break e;case 4:St=a.stateNode.containerInfo,On=!0;break e}a=a.return}if(St===null)throw Error(q(160));oT(s,o,i),St=null,On=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){He(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aT(e,t),e=e.sibling}function aT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(e,t),Kn(t),r&4){try{tl(3,t,t.return),Fd(3,t)}catch(T){He(t,t.return,T)}try{tl(5,t,t.return)}catch(T){He(t,t.return,T)}}break;case 1:Nn(e,t),Kn(t),r&512&&n!==null&&co(n,n.return);break;case 5:if(Nn(e,t),Kn(t),r&512&&n!==null&&co(n,n.return),t.flags&32){var i=t.stateNode;try{fl(i,"")}catch(T){He(t,t.return,T)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Cw(i,s),cp(a,o);var c=cp(a,s);for(o=0;o<l.length;o+=2){var d=l[o],f=l[o+1];d==="style"?Nw(i,f):d==="dangerouslySetInnerHTML"?Dw(i,f):d==="children"?fl(i,f):Lm(i,d,f,c)}switch(a){case"input":sp(i,s);break;case"textarea":Pw(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?po(i,!!s.multiple,g,!1):p!==!!s.multiple&&(s.defaultValue!=null?po(i,!!s.multiple,s.defaultValue,!0):po(i,!!s.multiple,s.multiple?[]:"",!1))}i[Tl]=s}catch(T){He(t,t.return,T)}}break;case 6:if(Nn(e,t),Kn(t),r&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(T){He(t,t.return,T)}}break;case 3:if(Nn(e,t),Kn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{yl(e.containerInfo)}catch(T){He(t,t.return,T)}break;case 4:Nn(e,t),Kn(t);break;case 13:Nn(e,t),Kn(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gg=Je())),r&4&&K0(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Lt=(c=Lt)||d,Nn(e,t),Lt=c):Nn(e,t),Kn(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(Y=t,d=t.child;d!==null;){for(f=Y=d;Y!==null;){switch(p=Y,g=p.child,p.tag){case 0:case 11:case 14:case 15:tl(4,p,p.return);break;case 1:co(p,p.return);var _=p.stateNode;if(typeof _.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(T){He(r,n,T)}}break;case 5:co(p,p.return);break;case 22:if(p.memoizedState!==null){Q0(f);continue}}g!==null?(g.return=p,Y=g):Q0(f)}d=d.sibling}e:for(d=null,f=t;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Vw("display",o))}catch(T){He(t,t.return,T)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(T){He(t,t.return,T)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Nn(e,t),Kn(t),r&4&&K0(t);break;case 21:break;default:Nn(e,t),Kn(t)}}function Kn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sT(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fl(i,""),r.flags&=-33);var s=W0(t);$p(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=W0(t);Bp(t,a,o);break;default:throw Error(q(161))}}catch(l){He(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $A(t,e,n){Y=t,lT(t)}function lT(t,e,n){for(var r=(t.mode&1)!==0;Y!==null;){var i=Y,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Yu;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Lt;a=Yu;var c=Lt;if(Yu=o,(Lt=l)&&!c)for(Y=i;Y!==null;)o=Y,l=o.child,o.tag===22&&o.memoizedState!==null?Y0(i):l!==null?(l.return=o,Y=l):Y0(i);for(;s!==null;)Y=s,lT(s),s=s.sibling;Y=i,Yu=a,Lt=c}H0(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Y=s):H0(t)}}function H0(t){for(;Y!==null;){var e=Y;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Lt||Fd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Lt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Mn(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&D0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}D0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&yl(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Lt||e.flags&512&&Fp(e)}catch(p){He(e,e.return,p)}}if(e===t){Y=null;break}if(n=e.sibling,n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Q0(t){for(;Y!==null;){var e=Y;if(e===t){Y=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Y=n;break}Y=e.return}}function Y0(t){for(;Y!==null;){var e=Y;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Fd(4,e)}catch(l){He(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){He(e,i,l)}}var s=e.return;try{Fp(e)}catch(l){He(e,s,l)}break;case 5:var o=e.return;try{Fp(e)}catch(l){He(e,o,l)}}}catch(l){He(e,e.return,l)}if(e===t){Y=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Y=a;break}Y=e.return}}var jA=Math.ceil,rd=br.ReactCurrentDispatcher,pg=br.ReactCurrentOwner,An=br.ReactCurrentBatchConfig,ye=0,_t=null,st=null,Ct=0,cn=0,ho=Ei(0),ct=0,Al=null,is=0,Bd=0,mg=0,nl=null,Jt=null,gg=0,ko=1/0,cr=null,id=!1,jp=null,ni=null,Xu=!1,Qr=null,sd=0,rl=0,zp=null,Ec=-1,Tc=0;function qt(){return ye&6?Je():Ec!==-1?Ec:Ec=Je()}function ri(t){return t.mode&1?ye&2&&Ct!==0?Ct&-Ct:xA.transition!==null?(Tc===0&&(Tc=Ww()),Tc):(t=xe,t!==0||(t=window.event,t=t===void 0?16:Zw(t.type)),t):1}function Bn(t,e,n,r){if(50<rl)throw rl=0,zp=null,Error(q(185));Xl(t,n,r),(!(ye&2)||t!==_t)&&(t===_t&&(!(ye&2)&&(Bd|=n),ct===4&&qr(t,Ct)),an(t,r),n===1&&ye===0&&!(e.mode&1)&&(ko=Je()+500,Md&&Ti()))}function an(t,e){var n=t.callbackNode;xR(t,e);var r=zc(t,t===_t?Ct:0);if(r===0)n!==null&&s0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&s0(n),e===1)t.tag===0?IA(X0.bind(null,t)):vE(X0.bind(null,t)),_A(function(){!(ye&6)&&Ti()}),n=null;else{switch(Kw(r)){case 1:n=zm;break;case 4:n=qw;break;case 16:n=jc;break;case 536870912:n=Gw;break;default:n=jc}n=gT(n,uT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function uT(t,e){if(Ec=-1,Tc=0,ye&6)throw Error(q(327));var n=t.callbackNode;if(_o()&&t.callbackNode!==n)return null;var r=zc(t,t===_t?Ct:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=od(t,r);else{e=r;var i=ye;ye|=2;var s=dT();(_t!==t||Ct!==e)&&(cr=null,ko=Je()+500,Ji(t,e));do try{qA();break}catch(a){cT(t,a)}while(!0);tg(),rd.current=s,ye=i,st!==null?e=0:(_t=null,Ct=0,e=ct)}if(e!==0){if(e===2&&(i=mp(t),i!==0&&(r=i,e=Up(t,i))),e===1)throw n=Al,Ji(t,0),qr(t,r),an(t,Je()),n;if(e===6)qr(t,r);else{if(i=t.current.alternate,!(r&30)&&!zA(i)&&(e=od(t,r),e===2&&(s=mp(t),s!==0&&(r=s,e=Up(t,s))),e===1))throw n=Al,Ji(t,0),qr(t,r),an(t,Je()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:Oi(t,Jt,cr);break;case 3:if(qr(t,r),(r&130023424)===r&&(e=gg+500-Je(),10<e)){if(zc(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){qt(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ip(Oi.bind(null,t,Jt,cr),e);break}Oi(t,Jt,cr);break;case 4:if(qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-Fn(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Je()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*jA(r/1960))-r,10<r){t.timeoutHandle=Ip(Oi.bind(null,t,Jt,cr),r);break}Oi(t,Jt,cr);break;case 5:Oi(t,Jt,cr);break;default:throw Error(q(329))}}}return an(t,Je()),t.callbackNode===n?uT.bind(null,t):null}function Up(t,e){var n=nl;return t.current.memoizedState.isDehydrated&&(Ji(t,e).flags|=256),t=od(t,e),t!==2&&(e=Jt,Jt=n,e!==null&&qp(e)),t}function qp(t){Jt===null?Jt=t:Jt.push.apply(Jt,t)}function zA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!jn(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qr(t,e){for(e&=~mg,e&=~Bd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Fn(e),r=1<<n;t[n]=-1,e&=~r}}function X0(t){if(ye&6)throw Error(q(327));_o();var e=zc(t,0);if(!(e&1))return an(t,Je()),null;var n=od(t,e);if(t.tag!==0&&n===2){var r=mp(t);r!==0&&(e=r,n=Up(t,r))}if(n===1)throw n=Al,Ji(t,0),qr(t,e),an(t,Je()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Oi(t,Jt,cr),an(t,Je()),null}function yg(t,e){var n=ye;ye|=1;try{return t(e)}finally{ye=n,ye===0&&(ko=Je()+500,Md&&Ti())}}function ss(t){Qr!==null&&Qr.tag===0&&!(ye&6)&&_o();var e=ye;ye|=1;var n=An.transition,r=xe;try{if(An.transition=null,xe=1,t)return t()}finally{xe=r,An.transition=n,ye=e,!(ye&6)&&Ti()}}function vg(){cn=ho.current,Ne(ho)}function Ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,vA(n)),st!==null)for(n=st.return;n!==null;){var r=n;switch(Jm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Kc();break;case 3:Co(),Ne(sn),Ne(Ft),ag();break;case 5:og(r);break;case 4:Co();break;case 13:Ne(je);break;case 19:Ne(je);break;case 10:ng(r.type._context);break;case 22:case 23:vg()}n=n.return}if(_t=t,st=t=ii(t.current,null),Ct=cn=e,ct=0,Al=null,mg=Bd=is=0,Jt=nl=null,Ki!==null){for(e=0;e<Ki.length;e++)if(n=Ki[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Ki=null}return t}function cT(t,e){do{var n=st;try{if(tg(),vc.current=nd,td){for(var r=ze.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}td=!1}if(rs=0,yt=ut=ze=null,el=!1,Sl=0,pg.current=null,n===null||n.return===null){ct=1,Al=e,st=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Ct,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=F0(o);if(g!==null){g.flags&=-257,B0(g,o,a,s,e),g.mode&1&&L0(s,c,e),e=g,l=c;var _=e.updateQueue;if(_===null){var T=new Set;T.add(l),e.updateQueue=T}else _.add(l);break e}else{if(!(e&1)){L0(s,c,e),_g();break e}l=Error(q(426))}}else if(Oe&&a.mode&1){var P=F0(o);if(P!==null){!(P.flags&65536)&&(P.flags|=256),B0(P,o,a,s,e),Zm(Po(l,a));break e}}s=l=Po(l,a),ct!==4&&(ct=2),nl===null?nl=[s]:nl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=KE(s,l,e);k0(s,x);break e;case 1:a=l;var E=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(ni===null||!ni.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=HE(s,a,e);k0(s,k);break e}}s=s.return}while(s!==null)}fT(n)}catch(M){e=M,st===n&&n!==null&&(st=n=n.return);continue}break}while(!0)}function dT(){var t=rd.current;return rd.current=nd,t===null?nd:t}function _g(){(ct===0||ct===3||ct===2)&&(ct=4),_t===null||!(is&268435455)&&!(Bd&268435455)||qr(_t,Ct)}function od(t,e){var n=ye;ye|=2;var r=dT();(_t!==t||Ct!==e)&&(cr=null,Ji(t,e));do try{UA();break}catch(i){cT(t,i)}while(!0);if(tg(),ye=n,rd.current=r,st!==null)throw Error(q(261));return _t=null,Ct=0,ct}function UA(){for(;st!==null;)hT(st)}function qA(){for(;st!==null&&!mR();)hT(st)}function hT(t){var e=mT(t.alternate,t,cn);t.memoizedProps=t.pendingProps,e===null?fT(t):st=e,pg.current=null}function fT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LA(n,e),n!==null){n.flags&=32767,st=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ct=6,st=null;return}}else if(n=OA(n,e,cn),n!==null){st=n;return}if(e=e.sibling,e!==null){st=e;return}st=e=t}while(e!==null);ct===0&&(ct=5)}function Oi(t,e,n){var r=xe,i=An.transition;try{An.transition=null,xe=1,GA(t,e,n,r)}finally{An.transition=i,xe=r}return null}function GA(t,e,n,r){do _o();while(Qr!==null);if(ye&6)throw Error(q(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(SR(t,s),t===_t&&(st=_t=null,Ct=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xu||(Xu=!0,gT(jc,function(){return _o(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=An.transition,An.transition=null;var o=xe;xe=1;var a=ye;ye|=4,pg.current=null,BA(t,n),aT(n,t),dA(Ep),Uc=!!wp,Ep=wp=null,t.current=n,$A(n),gR(),ye=a,xe=o,An.transition=s}else t.current=n;if(Xu&&(Xu=!1,Qr=t,sd=i),s=t.pendingLanes,s===0&&(ni=null),_R(n.stateNode),an(t,Je()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(id)throw id=!1,t=jp,jp=null,t;return sd&1&&t.tag!==0&&_o(),s=t.pendingLanes,s&1?t===zp?rl++:(rl=0,zp=t):rl=0,Ti(),null}function _o(){if(Qr!==null){var t=Kw(sd),e=An.transition,n=xe;try{if(An.transition=null,xe=16>t?16:t,Qr===null)var r=!1;else{if(t=Qr,Qr=null,sd=0,ye&6)throw Error(q(331));var i=ye;for(ye|=4,Y=t.current;Y!==null;){var s=Y,o=s.child;if(Y.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Y=c;Y!==null;){var d=Y;switch(d.tag){case 0:case 11:case 15:tl(8,d,s)}var f=d.child;if(f!==null)f.return=d,Y=f;else for(;Y!==null;){d=Y;var p=d.sibling,g=d.return;if(iT(d),d===c){Y=null;break}if(p!==null){p.return=g,Y=p;break}Y=g}}}var _=s.alternate;if(_!==null){var T=_.child;if(T!==null){_.child=null;do{var P=T.sibling;T.sibling=null,T=P}while(T!==null)}}Y=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Y=o;else e:for(;Y!==null;){if(s=Y,s.flags&2048)switch(s.tag){case 0:case 11:case 15:tl(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Y=x;break e}Y=s.return}}var E=t.current;for(Y=E;Y!==null;){o=Y;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,Y=I;else e:for(o=E;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Fd(9,a)}}catch(M){He(a,a.return,M)}if(a===o){Y=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Y=k;break e}Y=a.return}}if(ye=i,Ti(),er&&typeof er.onPostCommitFiberRoot=="function")try{er.onPostCommitFiberRoot(Pd,t)}catch{}r=!0}return r}finally{xe=n,An.transition=e}}return!1}function J0(t,e,n){e=Po(n,e),e=KE(t,e,1),t=ti(t,e,1),e=qt(),t!==null&&(Xl(t,1,e),an(t,e))}function He(t,e,n){if(t.tag===3)J0(t,t,n);else for(;e!==null;){if(e.tag===3){J0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ni===null||!ni.has(r))){t=Po(n,t),t=HE(e,t,1),e=ti(e,t,1),t=qt(),e!==null&&(Xl(e,1,t),an(e,t));break}}e=e.return}}function WA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=qt(),t.pingedLanes|=t.suspendedLanes&n,_t===t&&(Ct&n)===n&&(ct===4||ct===3&&(Ct&130023424)===Ct&&500>Je()-gg?Ji(t,0):mg|=n),an(t,e)}function pT(t,e){e===0&&(t.mode&1?(e=ju,ju<<=1,!(ju&130023424)&&(ju=4194304)):e=1);var n=qt();t=wr(t,e),t!==null&&(Xl(t,e,n),an(t,n))}function KA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pT(t,n)}function HA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),pT(t,n)}var mT;mT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||sn.current)en=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return en=!1,MA(t,e,n);en=!!(t.flags&131072)}else en=!1,Oe&&e.flags&1048576&&_E(e,Yc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wc(t,e),t=e.pendingProps;var i=bo(e,Ft.current);vo(e,n),i=ug(null,e,r,t,i,n);var s=cg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,on(r)?(s=!0,Hc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ig(e),i.updater=Ld,e.stateNode=i,i._reactInternals=e,Pp(e,r,t,n),e=Vp(null,e,r,!0,s,n)):(e.tag=0,Oe&&s&&Xm(e),jt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wc(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=YA(r),t=Mn(r,t),i){case 0:e=Dp(null,e,r,t,n);break e;case 1:e=z0(null,e,r,t,n);break e;case 11:e=$0(null,e,r,t,n);break e;case 14:e=j0(null,e,r,Mn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),Dp(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),z0(t,e,r,i,n);case 3:e:{if(JE(e),t===null)throw Error(q(387));r=e.pendingProps,s=e.memoizedState,i=s.element,SE(t,e),Zc(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Po(Error(q(423)),e),e=U0(t,e,r,n,i);break e}else if(r!==i){i=Po(Error(q(424)),e),e=U0(t,e,r,n,i);break e}else for(hn=ei(e.stateNode.containerInfo.firstChild),pn=e,Oe=!0,Ln=null,n=IE(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ro(),r===i){e=Er(t,e,n);break e}jt(t,e,r,n)}e=e.child}return e;case 5:return bE(e),t===null&&Rp(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Tp(r,i)?o=null:s!==null&&Tp(r,s)&&(e.flags|=32),XE(t,e),jt(t,e,o,n),e.child;case 6:return t===null&&Rp(e),null;case 13:return ZE(t,e,n);case 4:return sg(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ao(e,null,r,n):jt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),$0(t,e,r,i,n);case 7:return jt(t,e,e.pendingProps,n),e.child;case 8:return jt(t,e,e.pendingProps.children,n),e.child;case 12:return jt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ce(Xc,r._currentValue),r._currentValue=o,s!==null)if(jn(s.value,o)){if(s.children===i.children&&!sn.current){e=Er(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=gr(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Ap(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Ap(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}jt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,vo(e,n),i=Pn(i),r=r(i),e.flags|=1,jt(t,e,r,n),e.child;case 14:return r=e.type,i=Mn(r,e.pendingProps),i=Mn(r.type,i),j0(t,e,r,i,n);case 15:return QE(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Mn(r,i),wc(t,e),e.tag=1,on(r)?(t=!0,Hc(e)):t=!1,vo(e,n),WE(e,r,i),Pp(e,r,i,n),Vp(null,e,r,!0,t,n);case 19:return eT(t,e,n);case 22:return YE(t,e,n)}throw Error(q(156,e.tag))};function gT(t,e){return Uw(t,e)}function QA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,e,n,r){return new QA(t,e,n,r)}function wg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function YA(t){if(typeof t=="function")return wg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Bm)return 11;if(t===$m)return 14}return 2}function ii(t,e){var n=t.alternate;return n===null?(n=bn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ic(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")wg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case to:return Zi(n.children,i,s,e);case Fm:o=8,i|=8;break;case ep:return t=bn(12,n,e,i|2),t.elementType=ep,t.lanes=s,t;case tp:return t=bn(13,n,e,i),t.elementType=tp,t.lanes=s,t;case np:return t=bn(19,n,e,i),t.elementType=np,t.lanes=s,t;case bw:return $d(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xw:o=10;break e;case Sw:o=9;break e;case Bm:o=11;break e;case $m:o=14;break e;case jr:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=bn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Zi(t,e,n,r){return t=bn(7,t,r,e),t.lanes=n,t}function $d(t,e,n,r){return t=bn(22,t,r,e),t.elementType=bw,t.lanes=n,t.stateNode={isHidden:!1},t}function Of(t,e,n){return t=bn(6,t,null,e),t.lanes=n,t}function Lf(t,e,n){return e=bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XA(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yf(0),this.expirationTimes=yf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Eg(t,e,n,r,i,s,o,a,l){return t=new XA(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=bn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ig(s),t}function JA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:eo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yT(t){if(!t)return ui;t=t._reactInternals;e:{if(Es(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(on(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(on(n))return yE(t,n,e)}return e}function vT(t,e,n,r,i,s,o,a,l){return t=Eg(n,r,!0,t,i,s,o,a,l),t.context=yT(null),n=t.current,r=qt(),i=ri(n),s=gr(r,i),s.callback=e??null,ti(n,s,i),t.current.lanes=i,Xl(t,i,r),an(t,r),t}function jd(t,e,n,r){var i=e.current,s=qt(),o=ri(i);return n=yT(n),e.context===null?e.context=n:e.pendingContext=n,e=gr(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ti(i,e,o),t!==null&&(Bn(t,i,o,s),yc(t,i,o)),o}function ad(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Z0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Tg(t,e){Z0(t,e),(t=t.alternate)&&Z0(t,e)}function ZA(){return null}var _T=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ig(t){this._internalRoot=t}zd.prototype.render=Ig.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));jd(t,e,null,null)};zd.prototype.unmount=Ig.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ss(function(){jd(null,t,null,null)}),e[_r]=null}};function zd(t){this._internalRoot=t}zd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Yw();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ur.length&&e!==0&&e<Ur[n].priority;n++);Ur.splice(n,0,t),n===0&&Jw(t)}};function xg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ud(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function e_(){}function eC(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=ad(o);s.call(c)}}var o=vT(e,r,t,0,null,!1,!1,"",e_);return t._reactRootContainer=o,t[_r]=o.current,wl(t.nodeType===8?t.parentNode:t),ss(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=ad(l);a.call(c)}}var l=Eg(t,0,!1,null,null,!1,!1,"",e_);return t._reactRootContainer=l,t[_r]=l.current,wl(t.nodeType===8?t.parentNode:t),ss(function(){jd(e,l,n,r)}),l}function qd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ad(o);a.call(l)}}jd(e,o,t,i)}else o=eC(n,e,t,i,r);return ad(o)}Hw=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=za(e.pendingLanes);n!==0&&(Um(e,n|1),an(e,Je()),!(ye&6)&&(ko=Je()+500,Ti()))}break;case 13:ss(function(){var r=wr(t,1);if(r!==null){var i=qt();Bn(r,t,1,i)}}),Tg(t,1)}};qm=function(t){if(t.tag===13){var e=wr(t,134217728);if(e!==null){var n=qt();Bn(e,t,134217728,n)}Tg(t,134217728)}};Qw=function(t){if(t.tag===13){var e=ri(t),n=wr(t,e);if(n!==null){var r=qt();Bn(n,t,e,r)}Tg(t,e)}};Yw=function(){return xe};Xw=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};hp=function(t,e,n){switch(e){case"input":if(sp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Nd(r);if(!i)throw Error(q(90));Aw(r),sp(r,i)}}}break;case"textarea":Pw(t,n);break;case"select":e=n.value,e!=null&&po(t,!!n.multiple,e,!1)}};Lw=yg;Fw=ss;var tC={usingClientEntryPoint:!1,Events:[Zl,so,Nd,Mw,Ow,yg]},ka={findFiberByHostInstance:Wi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nC={bundleType:ka.bundleType,version:ka.version,rendererPackageName:ka.rendererPackageName,rendererConfig:ka.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:br.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jw(t),t===null?null:t.stateNode},findFiberByHostInstance:ka.findFiberByHostInstance||ZA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{Pd=Ju.inject(nC),er=Ju}catch{}}vn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tC;vn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xg(e))throw Error(q(200));return JA(t,e,null,n)};vn.createRoot=function(t,e){if(!xg(t))throw Error(q(299));var n=!1,r="",i=_T;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Eg(t,1,!1,null,null,n,!1,r,i),t[_r]=e.current,wl(t.nodeType===8?t.parentNode:t),new Ig(e)};vn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=jw(e),t=t===null?null:t.stateNode,t};vn.flushSync=function(t){return ss(t)};vn.hydrate=function(t,e,n){if(!Ud(e))throw Error(q(200));return qd(null,t,e,!0,n)};vn.hydrateRoot=function(t,e,n){if(!xg(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=_T;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vT(e,null,t,1,n??null,i,!1,s,o),t[_r]=e.current,wl(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new zd(e)};vn.render=function(t,e,n){if(!Ud(e))throw Error(q(200));return qd(null,t,e,!1,n)};vn.unmountComponentAtNode=function(t){if(!Ud(t))throw Error(q(40));return t._reactRootContainer?(ss(function(){qd(null,null,t,!1,function(){t._reactRootContainer=null,t[_r]=null})}),!0):!1};vn.unstable_batchedUpdates=yg;vn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ud(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return qd(t,e,n,!1,r)};vn.version="18.3.1-next-f1338f8080-20240426";function wT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wT)}catch(t){console.error(t)}}wT(),ww.exports=vn;var Sg=ww.exports;const Zu=lw(Sg);var ET,t_=Sg;ET=t_.createRoot,t_.hydrateRoot;var n_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},rC=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},IT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|a>>4;let p=(a&15)<<2|c>>6,g=c&63;l||(g=64,o||(p=64)),r.push(n[d],n[f],n[p],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(TT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):rC(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||f==null)throw new iC;const p=s<<2|a>>4;if(r.push(p),c!==64){const g=a<<4&240|c>>2;if(r.push(g),f!==64){const _=c<<6&192|f;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class iC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sC=function(t){const e=TT(t);return IT.encodeByteArray(e,!0)},ld=function(t){return sC(t).replace(/\./g,"")},oC=function(t){try{return IT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ud(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!aC(n)||(t[n]=ud(t[n],e[n]));return t}function aC(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=()=>lC().__FIREBASE_DEFAULTS__,cC=()=>{if(typeof process>"u"||typeof n_>"u")return;const t=n_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},dC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oC(t[1]);return e&&JSON.parse(e)},xT=()=>{try{return uC()||cC()||dC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ST=()=>{var t;return(t=xT())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ld(JSON.stringify(n)),ld(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pC(){var t;const e=(t=xT())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function bT(){return typeof window<"u"||RT()}function RT(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function AT(){return!pC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CT(){try{return typeof indexedDB=="object"}catch{return!1}}function mC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC="FirebaseError";class Ts extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gC,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gd.prototype.create)}}class Gd{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?yC(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ts(i,a,r)}}function yC(t,e){return t.replace(vC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const vC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Cl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(i_(s)&&i_(o)){if(!Cl(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function i_(t){return t!==null&&typeof t=="object"}function _C(t,e){const n=new wC(t,e);return n.subscribe.bind(n)}class wC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");EC(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Ff),i.error===void 0&&(i.error=Ff),i.complete===void 0&&(i.complete=Ff);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function EC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ff(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){return t&&t._delegate?t._delegate:t}class os{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new hC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xC(e))try{this.getOrInitializeService({instanceIdentifier:Li})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Li){return this.instances.has(e)}getOptions(e=Li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:IC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Li){return this.component?this.component.multipleInstances?e:Li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function IC(t){return t===Li?void 0:t}function xC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new TC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bg=[];var pe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pe||(pe={}));const kT={debug:pe.DEBUG,verbose:pe.VERBOSE,info:pe.INFO,warn:pe.WARN,error:pe.ERROR,silent:pe.SILENT},SC=pe.INFO,bC={[pe.DEBUG]:"log",[pe.VERBOSE]:"log",[pe.INFO]:"info",[pe.WARN]:"warn",[pe.ERROR]:"error"},RC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=bC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rg{constructor(e){this.name=e,this._logLevel=SC,this._logHandler=RC,this._userLogHandler=null,bg.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pe.DEBUG,...e),this._logHandler(this,pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pe.VERBOSE,...e),this._logHandler(this,pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pe.INFO,...e),this._logHandler(this,pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pe.WARN,...e),this._logHandler(this,pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pe.ERROR,...e),this._logHandler(this,pe.ERROR,...e)}}function AC(t){bg.forEach(e=>{e.setLogLevel(t)})}function CC(t,e){for(const n of bg){let r=null;e&&e.level&&(r=kT[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:pe[s].toLowerCase(),message:a,args:o,type:i.name})}}}const PC=(t,e)=>e.some(n=>t instanceof n);let s_,o_;function kC(){return s_||(s_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function DC(){return o_||(o_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const DT=new WeakMap,Gp=new WeakMap,VT=new WeakMap,Bf=new WeakMap,Ag=new WeakMap;function VC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(si(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&DT.set(n,t)}).catch(()=>{}),Ag.set(e,t),e}function NC(t){if(Gp.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Gp.set(t,e)}let Wp={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Gp.get(t);if(e==="objectStoreNames")return t.objectStoreNames||VT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return si(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function MC(t){Wp=t(Wp)}function OC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call($f(this),e,...n);return VT.set(r,e.sort?e.sort():[e]),si(r)}:DC().includes(t)?function(...e){return t.apply($f(this),e),si(DT.get(this))}:function(...e){return si(t.apply($f(this),e))}}function LC(t){return typeof t=="function"?OC(t):(t instanceof IDBTransaction&&NC(t),PC(t,kC())?new Proxy(t,Wp):t)}function si(t){if(t instanceof IDBRequest)return VC(t);if(Bf.has(t))return Bf.get(t);const e=LC(t);return e!==t&&(Bf.set(t,e),Ag.set(e,t)),e}const $f=t=>Ag.get(t);function FC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=si(o);return r&&o.addEventListener("upgradeneeded",l=>{r(si(o.result),l.oldVersion,l.newVersion,si(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const BC=["get","getKey","getAll","getAllKeys","count"],$C=["put","add","delete","clear"],jf=new Map;function a_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(jf.get(e))return jf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=$C.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||BC.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return jf.set(e,s),s}MC(t=>({...t,get:(e,n,r)=>a_(e,n)||t.get(e,n,r),has:(e,n)=>!!a_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(zC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function zC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dd="@firebase/app",Kp="0.10.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as=new Rg("@firebase/app"),UC="@firebase/app-compat",qC="@firebase/analytics-compat",GC="@firebase/analytics",WC="@firebase/app-check-compat",KC="@firebase/app-check",HC="@firebase/auth",QC="@firebase/auth-compat",YC="@firebase/database",XC="@firebase/database-compat",JC="@firebase/functions",ZC="@firebase/functions-compat",eP="@firebase/installations",tP="@firebase/installations-compat",nP="@firebase/messaging",rP="@firebase/messaging-compat",iP="@firebase/performance",sP="@firebase/performance-compat",oP="@firebase/remote-config",aP="@firebase/remote-config-compat",lP="@firebase/storage",uP="@firebase/storage-compat",cP="@firebase/firestore",dP="@firebase/vertexai-preview",hP="@firebase/firestore-compat",fP="firebase",pP="10.12.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]",mP={[dd]:"fire-core",[UC]:"fire-core-compat",[GC]:"fire-analytics",[qC]:"fire-analytics-compat",[KC]:"fire-app-check",[WC]:"fire-app-check-compat",[HC]:"fire-auth",[QC]:"fire-auth-compat",[YC]:"fire-rtdb",[XC]:"fire-rtdb-compat",[JC]:"fire-fn",[ZC]:"fire-fn-compat",[eP]:"fire-iid",[tP]:"fire-iid-compat",[nP]:"fire-fcm",[rP]:"fire-fcm-compat",[iP]:"fire-perf",[sP]:"fire-perf-compat",[oP]:"fire-rc",[aP]:"fire-rc-compat",[lP]:"fire-gcs",[uP]:"fire-gcs-compat",[cP]:"fire-fst",[hP]:"fire-fst-compat",[dP]:"fire-vertex","fire-js":"fire-js",[fP]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Map,Do=new Map,Vo=new Map;function Pl(t,e){try{t.container.addComponent(e)}catch(n){as.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function NT(t,e){t.container.addOrOverwriteComponent(e)}function No(t){const e=t.name;if(Vo.has(e))return as.debug(`There were multiple attempts to register component ${e}.`),!1;Vo.set(e,t);for(const n of di.values())Pl(n,t);for(const n of Do.values())Pl(n,t);return!0}function MT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gP(t,e,n=ci){MT(t,e).clearInstance(n)}function OT(t){return t.options!==void 0}function yP(t){return t.settings!==void 0}function vP(){Vo.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cn=new Gd("app","Firebase",_P);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LT=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new os("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP extends LT{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,yr(dd,Kp,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){kg(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Cn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cg=pP;function Pg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ci,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Cn.create("bad-app-name",{appName:String(i)});if(n||(n=ST()),!n)throw Cn.create("no-options");const s=di.get(i);if(s){if(Cl(n,s.options)&&Cl(r,s.config))return s;throw Cn.create("duplicate-app",{appName:i})}const o=new PT(i);for(const l of Vo.values())o.addComponent(l);const a=new LT(n,r,o);return di.set(i,a),a}function EP(t,e){if(bT()&&!RT())throw Cn.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;OT(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=c=>[...c].reduce((d,f)=>Math.imul(31,d)+f.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Cn.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=Do.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new PT(s);for(const c of Vo.values())a.addComponent(c);const l=new wP(n,e,s,a);return Do.set(s,l),l}function TP(t=ci){const e=di.get(t);if(!e&&t===ci&&ST())return Pg();if(!e)throw Cn.create("no-app",{appName:t});return e}function IP(){return Array.from(di.values())}async function kg(t){let e=!1;const n=t.name;di.has(n)?(e=!0,di.delete(n)):Do.has(n)&&t.decRefCount()<=0&&(Do.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function yr(t,e,n){var r;let i=(r=mP[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),as.warn(a.join(" "));return}No(new os(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function FT(t,e){if(t!==null&&typeof t!="function")throw Cn.create("invalid-log-argument");CC(t,e)}function BT(t){AC(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xP="firebase-heartbeat-database",SP=1,kl="firebase-heartbeat-store";let zf=null;function $T(){return zf||(zf=FC(xP,SP,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(kl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cn.create("idb-open",{originalErrorMessage:t.message})})),zf}async function bP(t){try{const n=(await $T()).transaction(kl),r=await n.objectStore(kl).get(jT(t));return await n.done,r}catch(e){if(e instanceof Ts)as.warn(e.message);else{const n=Cn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});as.warn(n.message)}}}async function l_(t,e){try{const r=(await $T()).transaction(kl,"readwrite");await r.objectStore(kl).put(e,jT(t)),await r.done}catch(n){if(n instanceof Ts)as.warn(n.message);else{const r=Cn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});as.warn(r.message)}}}function jT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RP=1024,AP=30*24*60*60*1e3;class CP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=u_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=AP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=u_(),{heartbeatsToSend:r,unsentEntries:i}=PP(this._heartbeatsCache.heartbeats),s=ld(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function u_(){return new Date().toISOString().substring(0,10)}function PP(t,e=RP){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),c_(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),c_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CT()?mC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await bP(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return l_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return l_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function c_(t){return ld(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DP(t){No(new os("platform-logger",e=>new jC(e),"PRIVATE")),No(new os("heartbeat",e=>new CP(e),"PRIVATE")),yr(dd,Kp,t),yr(dd,Kp,"esm2017"),yr("fire-js","")}DP("");const VP=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Ts,SDK_VERSION:Cg,_DEFAULT_ENTRY_NAME:ci,_addComponent:Pl,_addOrOverwriteComponent:NT,_apps:di,_clearComponents:vP,_components:Vo,_getProvider:MT,_isFirebaseApp:OT,_isFirebaseServerApp:yP,_registerComponent:No,_removeServiceInstance:gP,_serverApps:Do,deleteApp:kg,getApp:TP,getApps:IP,initializeApp:Pg,initializeServerApp:EP,onLog:FT,registerVersion:yr,setLogLevel:BT},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,n){this._delegate=e,this.firebase=n,Pl(e,new os("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),kg(this._delegate)))}_getService(e,n=ci){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=ci){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Pl(this._delegate,e)}_addOrOverwriteComponent(e){NT(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},d_=new Gd("app-compat","Firebase",MP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OP(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:yr,setLogLevel:BT,onLog:FT,apps:null,SDK_VERSION:Cg,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:VP}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||ci,!r_(e,c))throw d_.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,d={}){const f=Pg(c,d);if(r_(e,f.name))return e[f.name];const p=new t(f,n);return e[f.name]=p,p}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const d=c.name,f=d.replace("-compat","");if(No(c)&&c.type==="PUBLIC"){const p=(g=i())=>{if(typeof g[f]!="function")throw d_.create("invalid-app-argument",{appName:d});return g[f]()};c.serviceProps!==void 0&&ud(p,c.serviceProps),n[f]=p,t.prototype[f]=function(...g){return this._getService.bind(this,d).apply(this,c.multipleInstances?g:[])}}return c.type==="PUBLIC"?n[f]:null}function l(c,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){const t=OP(NP);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:zT,extendNamespace:e,createSubscribe:_C,ErrorFactory:Gd,deepExtend:ud});function e(n){ud(t,n)}return t}const LP=zT();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_=new Rg("@firebase/app-compat"),FP="@firebase/app-compat",BP="0.2.37";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t){yr(FP,BP,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(bT()&&self.firebase!==void 0){h_.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&h_.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const Wd=LP;$P();var jP="firebase",zP="10.12.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wd.registerVersion(jP,zP,"app-compat");var f_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var es,UT;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(v,y){function S(){}S.prototype=y.prototype,v.D=y.prototype,v.prototype=new S,v.prototype.constructor=v,v.C=function(b,A,C){for(var R=Array(arguments.length-2),te=2;te<arguments.length;te++)R[te-2]=arguments[te];return y.prototype[A].apply(b,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(v,y,S){S||(S=0);var b=Array(16);if(typeof y=="string")for(var A=0;16>A;++A)b[A]=y.charCodeAt(S++)|y.charCodeAt(S++)<<8|y.charCodeAt(S++)<<16|y.charCodeAt(S++)<<24;else for(A=0;16>A;++A)b[A]=y[S++]|y[S++]<<8|y[S++]<<16|y[S++]<<24;y=v.g[0],S=v.g[1],A=v.g[2];var C=v.g[3],R=y+(C^S&(A^C))+b[0]+3614090360&4294967295;y=S+(R<<7&4294967295|R>>>25),R=C+(A^y&(S^A))+b[1]+3905402710&4294967295,C=y+(R<<12&4294967295|R>>>20),R=A+(S^C&(y^S))+b[2]+606105819&4294967295,A=C+(R<<17&4294967295|R>>>15),R=S+(y^A&(C^y))+b[3]+3250441966&4294967295,S=A+(R<<22&4294967295|R>>>10),R=y+(C^S&(A^C))+b[4]+4118548399&4294967295,y=S+(R<<7&4294967295|R>>>25),R=C+(A^y&(S^A))+b[5]+1200080426&4294967295,C=y+(R<<12&4294967295|R>>>20),R=A+(S^C&(y^S))+b[6]+2821735955&4294967295,A=C+(R<<17&4294967295|R>>>15),R=S+(y^A&(C^y))+b[7]+4249261313&4294967295,S=A+(R<<22&4294967295|R>>>10),R=y+(C^S&(A^C))+b[8]+1770035416&4294967295,y=S+(R<<7&4294967295|R>>>25),R=C+(A^y&(S^A))+b[9]+2336552879&4294967295,C=y+(R<<12&4294967295|R>>>20),R=A+(S^C&(y^S))+b[10]+4294925233&4294967295,A=C+(R<<17&4294967295|R>>>15),R=S+(y^A&(C^y))+b[11]+2304563134&4294967295,S=A+(R<<22&4294967295|R>>>10),R=y+(C^S&(A^C))+b[12]+1804603682&4294967295,y=S+(R<<7&4294967295|R>>>25),R=C+(A^y&(S^A))+b[13]+4254626195&4294967295,C=y+(R<<12&4294967295|R>>>20),R=A+(S^C&(y^S))+b[14]+2792965006&4294967295,A=C+(R<<17&4294967295|R>>>15),R=S+(y^A&(C^y))+b[15]+1236535329&4294967295,S=A+(R<<22&4294967295|R>>>10),R=y+(A^C&(S^A))+b[1]+4129170786&4294967295,y=S+(R<<5&4294967295|R>>>27),R=C+(S^A&(y^S))+b[6]+3225465664&4294967295,C=y+(R<<9&4294967295|R>>>23),R=A+(y^S&(C^y))+b[11]+643717713&4294967295,A=C+(R<<14&4294967295|R>>>18),R=S+(C^y&(A^C))+b[0]+3921069994&4294967295,S=A+(R<<20&4294967295|R>>>12),R=y+(A^C&(S^A))+b[5]+3593408605&4294967295,y=S+(R<<5&4294967295|R>>>27),R=C+(S^A&(y^S))+b[10]+38016083&4294967295,C=y+(R<<9&4294967295|R>>>23),R=A+(y^S&(C^y))+b[15]+3634488961&4294967295,A=C+(R<<14&4294967295|R>>>18),R=S+(C^y&(A^C))+b[4]+3889429448&4294967295,S=A+(R<<20&4294967295|R>>>12),R=y+(A^C&(S^A))+b[9]+568446438&4294967295,y=S+(R<<5&4294967295|R>>>27),R=C+(S^A&(y^S))+b[14]+3275163606&4294967295,C=y+(R<<9&4294967295|R>>>23),R=A+(y^S&(C^y))+b[3]+4107603335&4294967295,A=C+(R<<14&4294967295|R>>>18),R=S+(C^y&(A^C))+b[8]+1163531501&4294967295,S=A+(R<<20&4294967295|R>>>12),R=y+(A^C&(S^A))+b[13]+2850285829&4294967295,y=S+(R<<5&4294967295|R>>>27),R=C+(S^A&(y^S))+b[2]+4243563512&4294967295,C=y+(R<<9&4294967295|R>>>23),R=A+(y^S&(C^y))+b[7]+1735328473&4294967295,A=C+(R<<14&4294967295|R>>>18),R=S+(C^y&(A^C))+b[12]+2368359562&4294967295,S=A+(R<<20&4294967295|R>>>12),R=y+(S^A^C)+b[5]+4294588738&4294967295,y=S+(R<<4&4294967295|R>>>28),R=C+(y^S^A)+b[8]+2272392833&4294967295,C=y+(R<<11&4294967295|R>>>21),R=A+(C^y^S)+b[11]+1839030562&4294967295,A=C+(R<<16&4294967295|R>>>16),R=S+(A^C^y)+b[14]+4259657740&4294967295,S=A+(R<<23&4294967295|R>>>9),R=y+(S^A^C)+b[1]+2763975236&4294967295,y=S+(R<<4&4294967295|R>>>28),R=C+(y^S^A)+b[4]+1272893353&4294967295,C=y+(R<<11&4294967295|R>>>21),R=A+(C^y^S)+b[7]+4139469664&4294967295,A=C+(R<<16&4294967295|R>>>16),R=S+(A^C^y)+b[10]+3200236656&4294967295,S=A+(R<<23&4294967295|R>>>9),R=y+(S^A^C)+b[13]+681279174&4294967295,y=S+(R<<4&4294967295|R>>>28),R=C+(y^S^A)+b[0]+3936430074&4294967295,C=y+(R<<11&4294967295|R>>>21),R=A+(C^y^S)+b[3]+3572445317&4294967295,A=C+(R<<16&4294967295|R>>>16),R=S+(A^C^y)+b[6]+76029189&4294967295,S=A+(R<<23&4294967295|R>>>9),R=y+(S^A^C)+b[9]+3654602809&4294967295,y=S+(R<<4&4294967295|R>>>28),R=C+(y^S^A)+b[12]+3873151461&4294967295,C=y+(R<<11&4294967295|R>>>21),R=A+(C^y^S)+b[15]+530742520&4294967295,A=C+(R<<16&4294967295|R>>>16),R=S+(A^C^y)+b[2]+3299628645&4294967295,S=A+(R<<23&4294967295|R>>>9),R=y+(A^(S|~C))+b[0]+4096336452&4294967295,y=S+(R<<6&4294967295|R>>>26),R=C+(S^(y|~A))+b[7]+1126891415&4294967295,C=y+(R<<10&4294967295|R>>>22),R=A+(y^(C|~S))+b[14]+2878612391&4294967295,A=C+(R<<15&4294967295|R>>>17),R=S+(C^(A|~y))+b[5]+4237533241&4294967295,S=A+(R<<21&4294967295|R>>>11),R=y+(A^(S|~C))+b[12]+1700485571&4294967295,y=S+(R<<6&4294967295|R>>>26),R=C+(S^(y|~A))+b[3]+2399980690&4294967295,C=y+(R<<10&4294967295|R>>>22),R=A+(y^(C|~S))+b[10]+4293915773&4294967295,A=C+(R<<15&4294967295|R>>>17),R=S+(C^(A|~y))+b[1]+2240044497&4294967295,S=A+(R<<21&4294967295|R>>>11),R=y+(A^(S|~C))+b[8]+1873313359&4294967295,y=S+(R<<6&4294967295|R>>>26),R=C+(S^(y|~A))+b[15]+4264355552&4294967295,C=y+(R<<10&4294967295|R>>>22),R=A+(y^(C|~S))+b[6]+2734768916&4294967295,A=C+(R<<15&4294967295|R>>>17),R=S+(C^(A|~y))+b[13]+1309151649&4294967295,S=A+(R<<21&4294967295|R>>>11),R=y+(A^(S|~C))+b[4]+4149444226&4294967295,y=S+(R<<6&4294967295|R>>>26),R=C+(S^(y|~A))+b[11]+3174756917&4294967295,C=y+(R<<10&4294967295|R>>>22),R=A+(y^(C|~S))+b[2]+718787259&4294967295,A=C+(R<<15&4294967295|R>>>17),R=S+(C^(A|~y))+b[9]+3951481745&4294967295,v.g[0]=v.g[0]+y&4294967295,v.g[1]=v.g[1]+(A+(R<<21&4294967295|R>>>11))&4294967295,v.g[2]=v.g[2]+A&4294967295,v.g[3]=v.g[3]+C&4294967295}r.prototype.u=function(v,y){y===void 0&&(y=v.length);for(var S=y-this.blockSize,b=this.B,A=this.h,C=0;C<y;){if(A==0)for(;C<=S;)i(this,v,C),C+=this.blockSize;if(typeof v=="string"){for(;C<y;)if(b[A++]=v.charCodeAt(C++),A==this.blockSize){i(this,b),A=0;break}}else for(;C<y;)if(b[A++]=v[C++],A==this.blockSize){i(this,b),A=0;break}}this.h=A,this.o+=y},r.prototype.v=function(){var v=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);v[0]=128;for(var y=1;y<v.length-8;++y)v[y]=0;var S=8*this.o;for(y=v.length-8;y<v.length;++y)v[y]=S&255,S/=256;for(this.u(v),v=Array(16),y=S=0;4>y;++y)for(var b=0;32>b;b+=8)v[S++]=this.g[y]>>>b&255;return v};function s(v,y){var S=a;return Object.prototype.hasOwnProperty.call(S,v)?S[v]:S[v]=y(v)}function o(v,y){this.h=y;for(var S=[],b=!0,A=v.length-1;0<=A;A--){var C=v[A]|0;b&&C==y||(S[A]=C,b=!1)}this.g=S}var a={};function l(v){return-128<=v&&128>v?s(v,function(y){return new o([y|0],0>y?-1:0)}):new o([v|0],0>v?-1:0)}function c(v){if(isNaN(v)||!isFinite(v))return f;if(0>v)return P(c(-v));for(var y=[],S=1,b=0;v>=S;b++)y[b]=v/S|0,S*=4294967296;return new o(y,0)}function d(v,y){if(v.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(v.charAt(0)=="-")return P(d(v.substring(1),y));if(0<=v.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=c(Math.pow(y,8)),b=f,A=0;A<v.length;A+=8){var C=Math.min(8,v.length-A),R=parseInt(v.substring(A,A+C),y);8>C?(C=c(Math.pow(y,C)),b=b.j(C).add(c(R))):(b=b.j(S),b=b.add(c(R)))}return b}var f=l(0),p=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(T(this))return-P(this).m();for(var v=0,y=1,S=0;S<this.g.length;S++){var b=this.i(S);v+=(0<=b?b:4294967296+b)*y,y*=4294967296}return v},t.toString=function(v){if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(_(this))return"0";if(T(this))return"-"+P(this).toString(v);for(var y=c(Math.pow(v,6)),S=this,b="";;){var A=k(S,y).g;S=x(S,A.j(y));var C=((0<S.g.length?S.g[0]:S.h)>>>0).toString(v);if(S=A,_(S))return C+b;for(;6>C.length;)C="0"+C;b=C+b}},t.i=function(v){return 0>v?0:v<this.g.length?this.g[v]:this.h};function _(v){if(v.h!=0)return!1;for(var y=0;y<v.g.length;y++)if(v.g[y]!=0)return!1;return!0}function T(v){return v.h==-1}t.l=function(v){return v=x(this,v),T(v)?-1:_(v)?0:1};function P(v){for(var y=v.g.length,S=[],b=0;b<y;b++)S[b]=~v.g[b];return new o(S,~v.h).add(p)}t.abs=function(){return T(this)?P(this):this},t.add=function(v){for(var y=Math.max(this.g.length,v.g.length),S=[],b=0,A=0;A<=y;A++){var C=b+(this.i(A)&65535)+(v.i(A)&65535),R=(C>>>16)+(this.i(A)>>>16)+(v.i(A)>>>16);b=R>>>16,C&=65535,R&=65535,S[A]=R<<16|C}return new o(S,S[S.length-1]&-2147483648?-1:0)};function x(v,y){return v.add(P(y))}t.j=function(v){if(_(this)||_(v))return f;if(T(this))return T(v)?P(this).j(P(v)):P(P(this).j(v));if(T(v))return P(this.j(P(v)));if(0>this.l(g)&&0>v.l(g))return c(this.m()*v.m());for(var y=this.g.length+v.g.length,S=[],b=0;b<2*y;b++)S[b]=0;for(b=0;b<this.g.length;b++)for(var A=0;A<v.g.length;A++){var C=this.i(b)>>>16,R=this.i(b)&65535,te=v.i(A)>>>16,ue=v.i(A)&65535;S[2*b+2*A]+=R*ue,E(S,2*b+2*A),S[2*b+2*A+1]+=C*ue,E(S,2*b+2*A+1),S[2*b+2*A+1]+=R*te,E(S,2*b+2*A+1),S[2*b+2*A+2]+=C*te,E(S,2*b+2*A+2)}for(b=0;b<y;b++)S[b]=S[2*b+1]<<16|S[2*b];for(b=y;b<2*y;b++)S[b]=0;return new o(S,0)};function E(v,y){for(;(v[y]&65535)!=v[y];)v[y+1]+=v[y]>>>16,v[y]&=65535,y++}function I(v,y){this.g=v,this.h=y}function k(v,y){if(_(y))throw Error("division by zero");if(_(v))return new I(f,f);if(T(v))return y=k(P(v),y),new I(P(y.g),P(y.h));if(T(y))return y=k(v,P(y)),new I(P(y.g),y.h);if(30<v.g.length){if(T(v)||T(y))throw Error("slowDivide_ only works with positive integers.");for(var S=p,b=y;0>=b.l(v);)S=M(S),b=M(b);var A=F(S,1),C=F(b,1);for(b=F(b,2),S=F(S,2);!_(b);){var R=C.add(b);0>=R.l(v)&&(A=A.add(S),C=R),b=F(b,1),S=F(S,1)}return y=x(v,A.j(y)),new I(A,y)}for(A=f;0<=v.l(y);){for(S=Math.max(1,Math.floor(v.m()/y.m())),b=Math.ceil(Math.log(S)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),C=c(S),R=C.j(y);T(R)||0<R.l(v);)S-=b,C=c(S),R=C.j(y);_(C)&&(C=p),A=A.add(C),v=x(v,R)}return new I(A,v)}t.A=function(v){return k(this,v).h},t.and=function(v){for(var y=Math.max(this.g.length,v.g.length),S=[],b=0;b<y;b++)S[b]=this.i(b)&v.i(b);return new o(S,this.h&v.h)},t.or=function(v){for(var y=Math.max(this.g.length,v.g.length),S=[],b=0;b<y;b++)S[b]=this.i(b)|v.i(b);return new o(S,this.h|v.h)},t.xor=function(v){for(var y=Math.max(this.g.length,v.g.length),S=[],b=0;b<y;b++)S[b]=this.i(b)^v.i(b);return new o(S,this.h^v.h)};function M(v){for(var y=v.g.length+1,S=[],b=0;b<y;b++)S[b]=v.i(b)<<1|v.i(b-1)>>>31;return new o(S,v.h)}function F(v,y){var S=y>>5;y%=32;for(var b=v.g.length-S,A=[],C=0;C<b;C++)A[C]=0<y?v.i(C+S)>>>y|v.i(C+S+1)<<32-y:v.i(C+S);return new o(A,v.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,UT=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,es=o}).apply(typeof f_<"u"?f_:typeof self<"u"?self:typeof window<"u"?window:{});var ec=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qT,GT,qa,WT,xc,Hp,KT,HT,QT;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,h,m){return u==Array.prototype||u==Object.prototype||(u[h]=m.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ec=="object"&&ec];for(var h=0;h<u.length;++h){var m=u[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(u,h){if(h)e:{var m=r;u=u.split(".");for(var w=0;w<u.length-1;w++){var N=u[w];if(!(N in m))break e;m=m[N]}u=u[u.length-1],w=m[u],h=h(w),h!=w&&h!=null&&e(m,u,{configurable:!0,writable:!0,value:h})}}function s(u,h){u instanceof String&&(u+="");var m=0,w=!1,N={next:function(){if(!w&&m<u.length){var $=m++;return{value:h($,u[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return N[Symbol.iterator]=function(){return N},N}i("Array.prototype.values",function(u){return u||function(){return s(this,function(h,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var h=typeof u;return h=h!="object"?h:u?Array.isArray(u)?"array":h:"null",h=="array"||h=="object"&&typeof u.length=="number"}function c(u){var h=typeof u;return h=="object"&&u!=null||h=="function"}function d(u,h,m){return u.call.apply(u.bind,arguments)}function f(u,h,m){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var N=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(N,w),u.apply(h,N)}}return function(){return u.apply(h,arguments)}}function p(u,h,m){return p=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:f,p.apply(null,arguments)}function g(u,h){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function _(u,h){function m(){}m.prototype=h.prototype,u.aa=h.prototype,u.prototype=new m,u.prototype.constructor=u,u.Qb=function(w,N,$){for(var G=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)G[Re-2]=arguments[Re];return h.prototype[N].apply(w,G)}}function T(u){const h=u.length;if(0<h){const m=Array(h);for(let w=0;w<h;w++)m[w]=u[w];return m}return[]}function P(u,h){for(let m=1;m<arguments.length;m++){const w=arguments[m];if(l(w)){const N=u.length||0,$=w.length||0;u.length=N+$;for(let G=0;G<$;G++)u[N+G]=w[G]}else u.push(w)}}class x{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function E(u){return/^[\s\xa0]*$/.test(u)}function I(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function k(u){return k[" "](u),u}k[" "]=function(){};var M=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function F(u,h,m){for(const w in u)h.call(m,u[w],w,u)}function v(u,h){for(const m in u)h.call(void 0,u[m],m,u)}function y(u){const h={};for(const m in u)h[m]=u[m];return h}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,h){let m,w;for(let N=1;N<arguments.length;N++){w=arguments[N];for(m in w)u[m]=w[m];for(let $=0;$<S.length;$++)m=S[$],Object.prototype.hasOwnProperty.call(w,m)&&(u[m]=w[m])}}function A(u){var h=1;u=u.split(":");const m=[];for(;0<h&&u.length;)m.push(u.shift()),h--;return u.length&&m.push(u.join(":")),m}function C(u){a.setTimeout(()=>{throw u},0)}function R(){var u=H;let h=null;return u.g&&(h=u.g,u.g=u.g.next,u.g||(u.h=null),h.next=null),h}class te{constructor(){this.h=this.g=null}add(h,m){const w=ue.get();w.set(h,m),this.h?this.h.next=w:this.g=w,this.h=w}}var ue=new x(()=>new ne,u=>u.reset());class ne{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let se,j=!1,H=new te,ee=()=>{const u=a.Promise.resolve(void 0);se=()=>{u.then(fe)}};var fe=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(m){C(m)}var h=ue;h.j(u),100>h.h&&(h.h++,u.next=h.g,h.g=u)}j=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ae(u,h){this.type=u,this.g=this.target=h,this.defaultPrevented=!1}Ae.prototype.h=function(){this.defaultPrevented=!0};var $e=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,h=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return u}();function Xe(u,h){if(Ae.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var m=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=h,h=u.relatedTarget){if(M){e:{try{k(h.nodeName);var N=!0;break e}catch{}N=!1}N||(h=null)}}else m=="mouseover"?h=u.fromElement:m=="mouseout"&&(h=u.toElement);this.relatedTarget=h,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ft[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Xe.aa.h.call(this)}}_(Xe,Ae);var ft={2:"touch",3:"pen",4:"mouse"};Xe.prototype.h=function(){Xe.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Yt="closure_listenable_"+(1e6*Math.random()|0),Cs=0;function Bt(u,h,m,w,N){this.listener=u,this.proxy=null,this.src=h,this.type=m,this.capture=!!w,this.ha=N,this.key=++Cs,this.da=this.fa=!1}function Gn(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pr(u){this.src=u,this.g={},this.h=0}Pr.prototype.add=function(u,h,m,w,N){var $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);var G=En(u,h,w,N);return-1<G?(h=u[G],m||(h.fa=!1)):(h=new Bt(h,this.src,$,!!w,N),h.fa=m,u.push(h)),h};function Ri(u,h){var m=h.type;if(m in u.g){var w=u.g[m],N=Array.prototype.indexOf.call(w,h,void 0),$;($=0<=N)&&Array.prototype.splice.call(w,N,1),$&&(Gn(h),u.g[m].length==0&&(delete u.g[m],u.h--))}}function En(u,h,m,w){for(var N=0;N<u.length;++N){var $=u[N];if(!$.da&&$.listener==h&&$.capture==!!m&&$.ha==w)return N}return-1}var Wn="closure_lm_"+(1e6*Math.random()|0),la={};function wu(u,h,m,w,N){if(Array.isArray(h)){for(var $=0;$<h.length;$++)wu(u,h[$],m,w,N);return null}return m=Dr(m),u&&u[Yt]?u.K(h,m,c(w)?!!w.capture:!!w,N):qh(u,h,m,!1,w,N)}function qh(u,h,m,w,N,$){if(!h)throw Error("Invalid event type");var G=c(N)?!!N.capture:!!N,Re=ua(u);if(Re||(u[Wn]=Re=new Pr(u)),m=Re.add(h,m,w,G,$),m.proxy)return m;if(w=Gh(),m.proxy=w,w.src=u,w.listener=m,u.addEventListener)$e||(N=G),N===void 0&&(N=!1),u.addEventListener(h.toString(),w,N);else if(u.attachEvent)u.attachEvent(Ps(h.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Gh(){function u(m){return h.call(u.src,u.listener,m)}const h=Wh;return u}function Eu(u,h,m,w,N){if(Array.isArray(h))for(var $=0;$<h.length;$++)Eu(u,h[$],m,w,N);else w=c(w)?!!w.capture:!!w,m=Dr(m),u&&u[Yt]?(u=u.i,h=String(h).toString(),h in u.g&&($=u.g[h],m=En($,m,w,N),-1<m&&(Gn($[m]),Array.prototype.splice.call($,m,1),$.length==0&&(delete u.g[h],u.h--)))):u&&(u=ua(u))&&(h=u.g[h.toString()],u=-1,h&&(u=En(h,m,w,N)),(m=-1<u?h[u]:null)&&Ai(m))}function Ai(u){if(typeof u!="number"&&u&&!u.da){var h=u.src;if(h&&h[Yt])Ri(h.i,u);else{var m=u.type,w=u.proxy;h.removeEventListener?h.removeEventListener(m,w,u.capture):h.detachEvent?h.detachEvent(Ps(m),w):h.addListener&&h.removeListener&&h.removeListener(w),(m=ua(h))?(Ri(m,u),m.h==0&&(m.src=null,h[Wn]=null)):Gn(u)}}}function Ps(u){return u in la?la[u]:la[u]="on"+u}function Wh(u,h){if(u.da)u=!0;else{h=new Xe(h,this);var m=u.listener,w=u.ha||u.src;u.fa&&Ai(u),u=m.call(w,h)}return u}function ua(u){return u=u[Wn],u instanceof Pr?u:null}var kr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dr(u){return typeof u=="function"?u:(u[kr]||(u[kr]=function(h){return u.handleEvent(h)}),u[kr])}function pt(){_e.call(this),this.i=new Pr(this),this.M=this,this.F=null}_(pt,_e),pt.prototype[Yt]=!0,pt.prototype.removeEventListener=function(u,h,m,w){Eu(this,u,h,m,w)};function mt(u,h){var m,w=u.F;if(w)for(m=[];w;w=w.F)m.push(w);if(u=u.M,w=h.type||h,typeof h=="string")h=new Ae(h,u);else if(h instanceof Ae)h.target=h.target||u;else{var N=h;h=new Ae(w,u),b(h,N)}if(N=!0,m)for(var $=m.length-1;0<=$;$--){var G=h.g=m[$];N=ks(G,w,!0,h)&&N}if(G=h.g=u,N=ks(G,w,!0,h)&&N,N=ks(G,w,!1,h)&&N,m)for($=0;$<m.length;$++)G=h.g=m[$],N=ks(G,w,!1,h)&&N}pt.prototype.N=function(){if(pt.aa.N.call(this),this.i){var u=this.i,h;for(h in u.g){for(var m=u.g[h],w=0;w<m.length;w++)Gn(m[w]);delete u.g[h],u.h--}}this.F=null},pt.prototype.K=function(u,h,m,w){return this.i.add(String(u),h,!1,m,w)},pt.prototype.L=function(u,h,m,w){return this.i.add(String(u),h,!0,m,w)};function ks(u,h,m,w){if(h=u.i.g[String(h)],!h)return!0;h=h.concat();for(var N=!0,$=0;$<h.length;++$){var G=h[$];if(G&&!G.da&&G.capture==m){var Re=G.listener,xt=G.ha||G.src;G.fa&&Ri(u.i,G),N=Re.call(xt,w)!==!1&&N}}return N&&!w.defaultPrevented}function re(u,h,m){if(typeof u=="function")m&&(u=p(u,m));else if(u&&typeof u.handleEvent=="function")u=p(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:a.setTimeout(u,h||0)}function ca(u){u.g=re(()=>{u.g=null,u.i&&(u.i=!1,ca(u))},u.l);const h=u.h;u.h=null,u.m.apply(null,h)}class Kh extends _e{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ca(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vr(u){_e.call(this),this.h=u,this.g={}}_(Vr,_e);var Hh=[];function ev(u){F(u.g,function(h,m){this.g.hasOwnProperty(m)&&Ai(h)},u),u.g={}}Vr.prototype.N=function(){Vr.aa.N.call(this),ev(this)},Vr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Qh=a.JSON.stringify,ob=a.JSON.parse,ab=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function Yh(){}Yh.prototype.h=null;function tv(u){return u.h||(u.h=u.i())}function nv(){}var da={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xh(){Ae.call(this,"d")}_(Xh,Ae);function Jh(){Ae.call(this,"c")}_(Jh,Ae);var Ci={},rv=null;function Tu(){return rv=rv||new pt}Ci.La="serverreachability";function iv(u){Ae.call(this,Ci.La,u)}_(iv,Ae);function ha(u){const h=Tu();mt(h,new iv(h))}Ci.STAT_EVENT="statevent";function sv(u,h){Ae.call(this,Ci.STAT_EVENT,u),this.stat=h}_(sv,Ae);function $t(u){const h=Tu();mt(h,new sv(h,u))}Ci.Ma="timingevent";function ov(u,h){Ae.call(this,Ci.Ma,u),this.size=h}_(ov,Ae);function fa(u,h){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},h)}function pa(){this.g=!0}pa.prototype.xa=function(){this.g=!1};function lb(u,h,m,w,N,$){u.info(function(){if(u.g)if($)for(var G="",Re=$.split("&"),xt=0;xt<Re.length;xt++){var we=Re[xt].split("=");if(1<we.length){var kt=we[0];we=we[1];var Dt=kt.split("_");G=2<=Dt.length&&Dt[1]=="type"?G+(kt+"="+we+"&"):G+(kt+"=redacted&")}}else G=null;else G=$;return"XMLHTTP REQ ("+w+") [attempt "+N+"]: "+h+`
`+m+`
`+G})}function ub(u,h,m,w,N,$,G){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+N+"]: "+h+`
`+m+`
`+$+" "+G})}function Ds(u,h,m,w){u.info(function(){return"XMLHTTP TEXT ("+h+"): "+db(u,m)+(w?" "+w:"")})}function cb(u,h){u.info(function(){return"TIMEOUT: "+h})}pa.prototype.info=function(){};function db(u,h){if(!u.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m){for(u=0;u<m.length;u++)if(Array.isArray(m[u])){var w=m[u];if(!(2>w.length)){var N=w[1];if(Array.isArray(N)&&!(1>N.length)){var $=N[0];if($!="noop"&&$!="stop"&&$!="close")for(var G=1;G<N.length;G++)N[G]=""}}}}return Qh(m)}catch{return h}}var Iu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},av={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zh;function xu(){}_(xu,Yh),xu.prototype.g=function(){return new XMLHttpRequest},xu.prototype.i=function(){return{}},Zh=new xu;function Nr(u,h,m,w){this.j=u,this.i=h,this.l=m,this.R=w||1,this.U=new Vr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new lv}function lv(){this.i=null,this.g="",this.h=!1}var uv={},ef={};function tf(u,h,m){u.L=1,u.v=Au(lr(h)),u.m=m,u.P=!0,cv(u,null)}function cv(u,h){u.F=Date.now(),Su(u),u.A=lr(u.v);var m=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),xv(m.i,"t",w),u.C=0,m=u.j.J,u.h=new lv,u.g=zv(u.j,m?h:null,!u.m),0<u.O&&(u.M=new Kh(p(u.Y,u,u.g),u.O)),h=u.U,m=u.g,w=u.ca;var N="readystatechange";Array.isArray(N)||(N&&(Hh[0]=N.toString()),N=Hh);for(var $=0;$<N.length;$++){var G=wu(m,N[$],w||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=u.H?y(u.H):{},u.m?(u.u||(u.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,h)):(u.u="GET",u.g.ea(u.A,u.u,null,h)),ha(),lb(u.i,u.u,u.A,u.l,u.R,u.m)}Nr.prototype.ca=function(u){u=u.target;const h=this.M;h&&ur(u)==3?h.j():this.Y(u)},Nr.prototype.Y=function(u){try{if(u==this.g)e:{const Dt=ur(this.g);var h=this.g.Ba();const Ms=this.g.Z();if(!(3>Dt)&&(Dt!=3||this.g&&(this.h.h||this.g.oa()||kv(this.g)))){this.J||Dt!=4||h==7||(h==8||0>=Ms?ha(3):ha(2)),nf(this);var m=this.g.Z();this.X=m;t:if(dv(this)){var w=kv(this.g);u="";var N=w.length,$=ur(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pi(this),ma(this);var G="";break t}this.h.i=new a.TextDecoder}for(h=0;h<N;h++)this.h.h=!0,u+=this.h.i.decode(w[h],{stream:!($&&h==N-1)});w.length=0,this.h.g+=u,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=m==200,ub(this.i,this.u,this.A,this.l,this.R,Dt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,xt=this.g;if((Re=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Re)){var we=Re;break t}}we=null}if(m=we)Ds(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rf(this,m);else{this.o=!1,this.s=3,$t(12),Pi(this),ma(this);break e}}if(this.P){m=!0;let Vn;for(;!this.J&&this.C<G.length;)if(Vn=hb(this,G),Vn==ef){Dt==4&&(this.s=4,$t(14),m=!1),Ds(this.i,this.l,null,"[Incomplete Response]");break}else if(Vn==uv){this.s=4,$t(15),Ds(this.i,this.l,G,"[Invalid Chunk]"),m=!1;break}else Ds(this.i,this.l,Vn,null),rf(this,Vn);if(dv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||G.length!=0||this.h.h||(this.s=1,$t(16),m=!1),this.o=this.o&&m,!m)Ds(this.i,this.l,G,"[Invalid Chunked Response]"),Pi(this),ma(this);else if(0<G.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),cf(kt),kt.M=!0,$t(11))}}else Ds(this.i,this.l,G,null),rf(this,G);Dt==4&&Pi(this),this.o&&!this.J&&(Dt==4?Fv(this.j,this):(this.o=!1,Su(this)))}else Cb(this.g),m==400&&0<G.indexOf("Unknown SID")?(this.s=3,$t(12)):(this.s=0,$t(13)),Pi(this),ma(this)}}}catch{}finally{}};function dv(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function hb(u,h){var m=u.C,w=h.indexOf(`
`,m);return w==-1?ef:(m=Number(h.substring(m,w)),isNaN(m)?uv:(w+=1,w+m>h.length?ef:(h=h.slice(w,w+m),u.C=w+m,h)))}Nr.prototype.cancel=function(){this.J=!0,Pi(this)};function Su(u){u.S=Date.now()+u.I,hv(u,u.I)}function hv(u,h){if(u.B!=null)throw Error("WatchDog timer not null");u.B=fa(p(u.ba,u),h)}function nf(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Nr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(cb(this.i,this.A),this.L!=2&&(ha(),$t(17)),Pi(this),this.s=2,ma(this)):hv(this,this.S-u)};function ma(u){u.j.G==0||u.J||Fv(u.j,u)}function Pi(u){nf(u);var h=u.M;h&&typeof h.ma=="function"&&h.ma(),u.M=null,ev(u.U),u.g&&(h=u.g,u.g=null,h.abort(),h.ma())}function rf(u,h){try{var m=u.j;if(m.G!=0&&(m.g==u||sf(m.h,u))){if(!u.K&&sf(m.h,u)&&m.G==3){try{var w=m.Da.g.parse(h)}catch{w=null}if(Array.isArray(w)&&w.length==3){var N=w;if(N[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<u.F)Vu(m),ku(m);else break e;uf(m),$t(18)}}else m.za=N[1],0<m.za-m.T&&37500>N[2]&&m.F&&m.v==0&&!m.C&&(m.C=fa(p(m.Za,m),6e3));if(1>=mv(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Di(m,11)}else if((u.K||m.g==u)&&Vu(m),!E(h))for(N=m.Da.g.parse(h),h=0;h<N.length;h++){let we=N[h];if(m.T=we[0],we=we[1],m.G==2)if(we[0]=="c"){m.K=we[1],m.ia=we[2];const kt=we[3];kt!=null&&(m.la=kt,m.j.info("VER="+m.la));const Dt=we[4];Dt!=null&&(m.Aa=Dt,m.j.info("SVER="+m.Aa));const Ms=we[5];Ms!=null&&typeof Ms=="number"&&0<Ms&&(w=1.5*Ms,m.L=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;const Vn=u.g;if(Vn){const Mu=Vn.g?Vn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mu){var $=w.h;$.g||Mu.indexOf("spdy")==-1&&Mu.indexOf("quic")==-1&&Mu.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(of($,$.h),$.h=null))}if(w.D){const df=Vn.g?Vn.g.getResponseHeader("X-HTTP-Session-Id"):null;df&&(w.ya=df,ke(w.I,w.D,df))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-u.F,m.j.info("Handshake RTT: "+m.R+"ms")),w=m;var G=u;if(w.qa=jv(w,w.J?w.ia:null,w.W),G.K){gv(w.h,G);var Re=G,xt=w.L;xt&&(Re.I=xt),Re.B&&(nf(Re),Su(Re)),w.g=G}else Ov(w);0<m.i.length&&Du(m)}else we[0]!="stop"&&we[0]!="close"||Di(m,7);else m.G==3&&(we[0]=="stop"||we[0]=="close"?we[0]=="stop"?Di(m,7):lf(m):we[0]!="noop"&&m.l&&m.l.ta(we),m.v=0)}}ha(4)}catch{}}var fb=class{constructor(u,h){this.g=u,this.map=h}};function fv(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pv(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function mv(u){return u.h?1:u.g?u.g.size:0}function sf(u,h){return u.h?u.h==h:u.g?u.g.has(h):!1}function of(u,h){u.g?u.g.add(h):u.h=h}function gv(u,h){u.h&&u.h==h?u.h=null:u.g&&u.g.has(h)&&u.g.delete(h)}fv.prototype.cancel=function(){if(this.i=yv(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function yv(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let h=u.i;for(const m of u.g.values())h=h.concat(m.D);return h}return T(u.i)}function pb(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var h=[],m=u.length,w=0;w<m;w++)h.push(u[w]);return h}h=[],m=0;for(w in u)h[m++]=u[w];return h}function mb(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var h=[];u=u.length;for(var m=0;m<u;m++)h.push(m);return h}h=[],m=0;for(const w in u)h[m++]=w;return h}}}function vv(u,h){if(u.forEach&&typeof u.forEach=="function")u.forEach(h,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,h,void 0);else for(var m=mb(u),w=pb(u),N=w.length,$=0;$<N;$++)h.call(void 0,w[$],m&&m[$],u)}var _v=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gb(u,h){if(u){u=u.split("&");for(var m=0;m<u.length;m++){var w=u[m].indexOf("="),N=null;if(0<=w){var $=u[m].substring(0,w);N=u[m].substring(w+1)}else $=u[m];h($,N?decodeURIComponent(N.replace(/\+/g," ")):"")}}}function ki(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof ki){this.h=u.h,bu(this,u.j),this.o=u.o,this.g=u.g,Ru(this,u.s),this.l=u.l;var h=u.i,m=new va;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),wv(this,m),this.m=u.m}else u&&(h=String(u).match(_v))?(this.h=!1,bu(this,h[1]||"",!0),this.o=ga(h[2]||""),this.g=ga(h[3]||"",!0),Ru(this,h[4]),this.l=ga(h[5]||"",!0),wv(this,h[6]||"",!0),this.m=ga(h[7]||"")):(this.h=!1,this.i=new va(null,this.h))}ki.prototype.toString=function(){var u=[],h=this.j;h&&u.push(ya(h,Ev,!0),":");var m=this.g;return(m||h=="file")&&(u.push("//"),(h=this.o)&&u.push(ya(h,Ev,!0),"@"),u.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&u.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&u.push("/"),u.push(ya(m,m.charAt(0)=="/"?_b:vb,!0))),(m=this.i.toString())&&u.push("?",m),(m=this.m)&&u.push("#",ya(m,Eb)),u.join("")};function lr(u){return new ki(u)}function bu(u,h,m){u.j=m?ga(h,!0):h,u.j&&(u.j=u.j.replace(/:$/,""))}function Ru(u,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);u.s=h}else u.s=null}function wv(u,h,m){h instanceof va?(u.i=h,Tb(u.i,u.h)):(m||(h=ya(h,wb)),u.i=new va(h,u.h))}function ke(u,h,m){u.i.set(h,m)}function Au(u){return ke(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ga(u,h){return u?h?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ya(u,h,m){return typeof u=="string"?(u=encodeURI(u).replace(h,yb),m&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yb(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Ev=/[#\/\?@]/g,vb=/[#\?:]/g,_b=/[#\?]/g,wb=/[#\?@]/g,Eb=/#/g;function va(u,h){this.h=this.g=null,this.i=u||null,this.j=!!h}function Mr(u){u.g||(u.g=new Map,u.h=0,u.i&&gb(u.i,function(h,m){u.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}t=va.prototype,t.add=function(u,h){Mr(this),this.i=null,u=Vs(this,u);var m=this.g.get(u);return m||this.g.set(u,m=[]),m.push(h),this.h+=1,this};function Tv(u,h){Mr(u),h=Vs(u,h),u.g.has(h)&&(u.i=null,u.h-=u.g.get(h).length,u.g.delete(h))}function Iv(u,h){return Mr(u),h=Vs(u,h),u.g.has(h)}t.forEach=function(u,h){Mr(this),this.g.forEach(function(m,w){m.forEach(function(N){u.call(h,N,w,this)},this)},this)},t.na=function(){Mr(this);const u=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let w=0;w<h.length;w++){const N=u[w];for(let $=0;$<N.length;$++)m.push(h[w])}return m},t.V=function(u){Mr(this);let h=[];if(typeof u=="string")Iv(this,u)&&(h=h.concat(this.g.get(Vs(this,u))));else{u=Array.from(this.g.values());for(let m=0;m<u.length;m++)h=h.concat(u[m])}return h},t.set=function(u,h){return Mr(this),this.i=null,u=Vs(this,u),Iv(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[h]),this.h+=1,this},t.get=function(u,h){return u?(u=this.V(u),0<u.length?String(u[0]):h):h};function xv(u,h,m){Tv(u,h),0<m.length&&(u.i=null,u.g.set(Vs(u,h),T(m)),u.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var w=h[m];const $=encodeURIComponent(String(w)),G=this.V(w);for(w=0;w<G.length;w++){var N=$;G[w]!==""&&(N+="="+encodeURIComponent(String(G[w]))),u.push(N)}}return this.i=u.join("&")};function Vs(u,h){return h=String(h),u.j&&(h=h.toLowerCase()),h}function Tb(u,h){h&&!u.j&&(Mr(u),u.i=null,u.g.forEach(function(m,w){var N=w.toLowerCase();w!=N&&(Tv(this,w),xv(this,N,m))},u)),u.j=h}function Ib(u,h){const m=new pa;if(a.Image){const w=new Image;w.onload=g(Or,m,"TestLoadImage: loaded",!0,h,w),w.onerror=g(Or,m,"TestLoadImage: error",!1,h,w),w.onabort=g(Or,m,"TestLoadImage: abort",!1,h,w),w.ontimeout=g(Or,m,"TestLoadImage: timeout",!1,h,w),a.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else h(!1)}function xb(u,h){const m=new pa,w=new AbortController,N=setTimeout(()=>{w.abort(),Or(m,"TestPingServer: timeout",!1,h)},1e4);fetch(u,{signal:w.signal}).then($=>{clearTimeout(N),$.ok?Or(m,"TestPingServer: ok",!0,h):Or(m,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(N),Or(m,"TestPingServer: error",!1,h)})}function Or(u,h,m,w,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),w(m)}catch{}}function Sb(){this.g=new ab}function bb(u,h,m){const w=m||"";try{vv(u,function(N,$){let G=N;c(N)&&(G=Qh(N)),h.push(w+$+"="+encodeURIComponent(G))})}catch(N){throw h.push(w+"type="+encodeURIComponent("_badmap")),N}}function _a(u){this.l=u.Ub||null,this.j=u.eb||!1}_(_a,Yh),_a.prototype.g=function(){return new Cu(this.l,this.j)},_a.prototype.i=function(u){return function(){return u}}({});function Cu(u,h){pt.call(this),this.D=u,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(Cu,pt),t=Cu.prototype,t.open=function(u,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=h,this.readyState=1,Ea(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(h.body=u),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Ea(this)),this.g&&(this.readyState=3,Ea(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sv(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sv(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var h=u.value?u.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!u.done}))&&(this.response=this.responseText+=h)}u.done?wa(this):Ea(this),this.readyState==3&&Sv(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,wa(this))},t.Qa=function(u){this.g&&(this.response=u,wa(this))},t.ga=function(){this.g&&wa(this)};function wa(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Ea(u)}t.setRequestHeader=function(u,h){this.u.append(u,h)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],h=this.h.entries();for(var m=h.next();!m.done;)m=m.value,u.push(m[0]+": "+m[1]),m=h.next();return u.join(`\r
`)};function Ea(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Cu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function bv(u){let h="";return F(u,function(m,w){h+=w,h+=":",h+=m,h+=`\r
`}),h}function af(u,h,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=bv(m),typeof u=="string"?m!=null&&encodeURIComponent(String(m)):ke(u,h,m))}function Ge(u){pt.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_(Ge,pt);var Rb=/^https?$/i,Ab=["POST","PUT"];t=Ge.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,h,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);h=h?h.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zh.g(),this.v=this.o?tv(this.o):tv(Zh),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(u),!0),this.B=!1}catch($){Rv(this,$);return}if(u=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var N in w)m.set(N,w[N]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())m.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find($=>$.toLowerCase()=="content-type"),N=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ab,h,void 0))||w||N||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,G]of m)this.g.setRequestHeader($,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Pv(this),this.u=!0,this.g.send(u),this.u=!1}catch($){Rv(this,$)}};function Rv(u,h){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=h,u.m=5,Av(u),Pu(u)}function Av(u){u.A||(u.A=!0,mt(u,"complete"),mt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,mt(this,"complete"),mt(this,"abort"),Pu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Pu(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Cv(this):this.bb())},t.bb=function(){Cv(this)};function Cv(u){if(u.h&&typeof o<"u"&&(!u.v[1]||ur(u)!=4||u.Z()!=2)){if(u.u&&ur(u)==4)re(u.Ea,0,u);else if(mt(u,"readystatechange"),ur(u)==4){u.h=!1;try{const G=u.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var w;if(w=G===0){var N=String(u.D).match(_v)[1]||null;!N&&a.self&&a.self.location&&(N=a.self.location.protocol.slice(0,-1)),w=!Rb.test(N?N.toLowerCase():"")}m=w}if(m)mt(u,"complete"),mt(u,"success");else{u.m=6;try{var $=2<ur(u)?u.g.statusText:""}catch{$=""}u.l=$+" ["+u.Z()+"]",Av(u)}}finally{Pu(u)}}}}function Pu(u,h){if(u.g){Pv(u);const m=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,h||mt(u,"ready");try{m.onreadystatechange=w}catch{}}}function Pv(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function ur(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<ur(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var h=this.g.responseText;return u&&h.indexOf(u)==0&&(h=h.substring(u.length)),ob(h)}};function kv(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Cb(u){const h={};u=(u.g&&2<=ur(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(E(u[w]))continue;var m=A(u[w]);const N=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const $=h[N]||[];h[N]=$,$.push(m)}v(h,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(u,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[u]||h}function Dv(u){this.Aa=0,this.i=[],this.j=new pa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ta("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ta("baseRetryDelayMs",5e3,u),this.cb=Ta("retryDelaySeedMs",1e4,u),this.Wa=Ta("forwardChannelMaxRetries",2,u),this.wa=Ta("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new fv(u&&u.concurrentRequestLimit),this.Da=new Sb,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Dv.prototype,t.la=8,t.G=1,t.connect=function(u,h,m,w){$t(0),this.W=u,this.H=h||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.I=jv(this,null,this.W),Du(this)};function lf(u){if(Vv(u),u.G==3){var h=u.U++,m=lr(u.I);if(ke(m,"SID",u.K),ke(m,"RID",h),ke(m,"TYPE","terminate"),Ia(u,m),h=new Nr(u,u.j,h),h.L=2,h.v=Au(lr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=h.v,m=!0),m||(h.g=zv(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Su(h)}$v(u)}function ku(u){u.g&&(cf(u),u.g.cancel(),u.g=null)}function Vv(u){ku(u),u.u&&(a.clearTimeout(u.u),u.u=null),Vu(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function Du(u){if(!pv(u.h)&&!u.s){u.s=!0;var h=u.Ga;se||ee(),j||(se(),j=!0),H.add(h,u),u.B=0}}function Pb(u,h){return mv(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=h.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=fa(p(u.Ga,u,h),Bv(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const N=new Nr(this,this.j,u);let $=this.o;if(this.S&&($?($=y($),b($,this.S)):$=this.S),this.m!==null||this.O||(N.H=$,$=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){t:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(h+=w,4096<h){h=m;break e}if(h===4096||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=Mv(this,N,h),m=lr(this.I),ke(m,"RID",u),ke(m,"CVER",22),this.D&&ke(m,"X-HTTP-Session-Id",this.D),Ia(this,m),$&&(this.O?h="headers="+encodeURIComponent(String(bv($)))+"&"+h:this.m&&af(m,this.m,$)),of(this.h,N),this.Ua&&ke(m,"TYPE","init"),this.P?(ke(m,"$req",h),ke(m,"SID","null"),N.T=!0,tf(N,m,null)):tf(N,m,h),this.G=2}}else this.G==3&&(u?Nv(this,u):this.i.length==0||pv(this.h)||Nv(this))};function Nv(u,h){var m;h?m=h.l:m=u.U++;const w=lr(u.I);ke(w,"SID",u.K),ke(w,"RID",m),ke(w,"AID",u.T),Ia(u,w),u.m&&u.o&&af(w,u.m,u.o),m=new Nr(u,u.j,m,u.B+1),u.m===null&&(m.H=u.o),h&&(u.i=h.D.concat(u.i)),h=Mv(u,m,1e3),m.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),of(u.h,m),tf(m,w,h)}function Ia(u,h){u.H&&F(u.H,function(m,w){ke(h,w,m)}),u.l&&vv({},function(m,w){ke(h,w,m)})}function Mv(u,h,m){m=Math.min(u.i.length,m);var w=u.l?p(u.l.Na,u.l,u):null;e:{var N=u.i;let $=-1;for(;;){const G=["count="+m];$==-1?0<m?($=N[0].g,G.push("ofs="+$)):$=0:G.push("ofs="+$);let Re=!0;for(let xt=0;xt<m;xt++){let we=N[xt].g;const kt=N[xt].map;if(we-=$,0>we)$=Math.max(0,N[xt].g-100),Re=!1;else try{bb(kt,G,"req"+we+"_")}catch{w&&w(kt)}}if(Re){w=G.join("&");break e}}}return u=u.i.splice(0,m),h.D=u,w}function Ov(u){if(!u.g&&!u.u){u.Y=1;var h=u.Fa;se||ee(),j||(se(),j=!0),H.add(h,u),u.v=0}}function uf(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=fa(p(u.Fa,u),Bv(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,Lv(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=fa(p(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,$t(10),ku(this),Lv(this))};function cf(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function Lv(u){u.g=new Nr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var h=lr(u.qa);ke(h,"RID","rpc"),ke(h,"SID",u.K),ke(h,"AID",u.T),ke(h,"CI",u.F?"0":"1"),!u.F&&u.ja&&ke(h,"TO",u.ja),ke(h,"TYPE","xmlhttp"),Ia(u,h),u.m&&u.o&&af(h,u.m,u.o),u.L&&(u.g.I=u.L);var m=u.g;u=u.ia,m.L=1,m.v=Au(lr(h)),m.m=null,m.P=!0,cv(m,u)}t.Za=function(){this.C!=null&&(this.C=null,ku(this),uf(this),$t(19))};function Vu(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function Fv(u,h){var m=null;if(u.g==h){Vu(u),cf(u),u.g=null;var w=2}else if(sf(u.h,h))m=h.D,gv(u.h,h),w=1;else return;if(u.G!=0){if(h.o)if(w==1){m=h.m?h.m.length:0,h=Date.now()-h.F;var N=u.B;w=Tu(),mt(w,new ov(w,m)),Du(u)}else Ov(u);else if(N=h.s,N==3||N==0&&0<h.X||!(w==1&&Pb(u,h)||w==2&&uf(u)))switch(m&&0<m.length&&(h=u.h,h.i=h.i.concat(m)),N){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function Bv(u,h){let m=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(m*=2),m*h}function Di(u,h){if(u.j.info("Error code "+h),h==2){var m=p(u.fb,u),w=u.Xa;const N=!w;w=new ki(w||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||bu(w,"https"),Au(w),N?Ib(w.toString(),m):xb(w.toString(),m)}else $t(2);u.G=0,u.l&&u.l.sa(h),$v(u),Vv(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),$t(2)):(this.j.info("Failed to ping google.com"),$t(1))};function $v(u){if(u.G=0,u.ka=[],u.l){const h=yv(u.h);(h.length!=0||u.i.length!=0)&&(P(u.ka,h),P(u.ka,u.i),u.h.i.length=0,T(u.i),u.i.length=0),u.l.ra()}}function jv(u,h,m){var w=m instanceof ki?lr(m):new ki(m);if(w.g!="")h&&(w.g=h+"."+w.g),Ru(w,w.s);else{var N=a.location;w=N.protocol,h=h?h+"."+N.hostname:N.hostname,N=+N.port;var $=new ki(null);w&&bu($,w),h&&($.g=h),N&&Ru($,N),m&&($.l=m),w=$}return m=u.D,h=u.ya,m&&h&&ke(w,m,h),ke(w,"VER",u.la),Ia(u,w),w}function zv(u,h,m){if(h&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=u.Ca&&!u.pa?new Ge(new _a({eb:m})):new Ge(u.pa),h.Ha(u.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Uv(){}t=Uv.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Nu(){}Nu.prototype.g=function(u,h){return new un(u,h)};function un(u,h){pt.call(this),this.g=new Dv(h),this.l=u,this.h=h&&h.messageUrlParams||null,u=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(u?u["X-WebChannel-Content-Type"]=h.messageContentType:u={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(u?u["X-WebChannel-Client-Profile"]=h.va:u={"X-WebChannel-Client-Profile":h.va}),this.g.S=u,(u=h&&h.Sb)&&!E(u)&&(this.g.m=u),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!E(h)&&(this.g.D=h,u=this.h,u!==null&&h in u&&(u=this.h,h in u&&delete u[h])),this.j=new Ns(this)}_(un,pt),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){lf(this.g)},un.prototype.o=function(u){var h=this.g;if(typeof u=="string"){var m={};m.__data__=u,u=m}else this.u&&(m={},m.__data__=Qh(u),u=m);h.i.push(new fb(h.Ya++,u)),h.G==3&&Du(h)},un.prototype.N=function(){this.g.l=null,delete this.j,lf(this.g),delete this.g,un.aa.N.call(this)};function qv(u){Xh.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var h=u.__sm__;if(h){e:{for(const m in h){u=m;break e}u=void 0}(this.i=u)&&(u=this.i,h=h!==null&&u in h?h[u]:void 0),this.data=h}else this.data=u}_(qv,Xh);function Gv(){Jh.call(this),this.status=1}_(Gv,Jh);function Ns(u){this.g=u}_(Ns,Uv),Ns.prototype.ua=function(){mt(this.g,"a")},Ns.prototype.ta=function(u){mt(this.g,new qv(u))},Ns.prototype.sa=function(u){mt(this.g,new Gv)},Ns.prototype.ra=function(){mt(this.g,"b")},Nu.prototype.createWebChannel=Nu.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,QT=function(){return new Nu},HT=function(){return Tu()},KT=Ci,Hp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Iu.NO_ERROR=0,Iu.TIMEOUT=8,Iu.HTTP_ERROR=6,xc=Iu,av.COMPLETE="complete",WT=av,nv.EventType=da,da.OPEN="a",da.CLOSE="b",da.ERROR="c",da.MESSAGE="d",pt.prototype.listen=pt.prototype.K,qa=nv,GT=_a,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,qT=Ge}).apply(typeof ec<"u"?ec:typeof self<"u"?self:typeof window<"u"?window:{});const p_="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zo="10.12.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hi=new Rg("@firebase/firestore");function Ks(){return hi.logLevel}function UP(t){hi.setLogLevel(t)}function U(t,...e){if(hi.logLevel<=pe.DEBUG){const n=e.map(Dg);hi.debug(`Firestore (${Zo}): ${t}`,...n)}}function Ze(t,...e){if(hi.logLevel<=pe.ERROR){const n=e.map(Dg);hi.error(`Firestore (${Zo}): ${t}`,...n)}}function zn(t,...e){if(hi.logLevel<=pe.WARN){const n=e.map(Dg);hi.warn(`Firestore (${Zo}): ${t}`,...n)}}function Dg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q(t="Unexpected state"){const e=`FIRESTORE (${Zo}) INTERNAL ASSERTION FAILED: `+t;throw Ze(e),new Error(e)}function J(t,e){t||Q()}function qP(t,e){t||Q()}function K(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class z extends Ts{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}}class WP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class KP{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new wt;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new wt,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new wt)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(J(typeof r.accessToken=="string"),new YT(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return J(e===null||typeof e=="string"),new vt(e)}}class HP{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class QP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new HP(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,U("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(J(typeof n.token=="string"),this.R=n.token,new YP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=JP(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function ie(t,e){return t<e?-1:t>e?1:0}function Mo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function JT(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(B.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(B.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Be.fromMillis(Date.now())}static fromDate(e){return Be.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Be(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ie(this.nanoseconds,e.nanoseconds):ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Z(e)}static min(){return new Z(new Be(0,0))}static max(){return new Z(new Be(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n,r){n===void 0?n=0:n>e.length&&Q(),r===void 0?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Dl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Dl?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class de extends Dl{construct(e,n,r){return new de(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new z(B.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new de(n)}static emptyPath(){return new de([])}}const ZP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Le extends Dl{construct(e,n,r){return new Le(e,n,r)}static isValidIdentifier(e){return ZP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Le.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Le(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new z(B.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new z(B.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new z(B.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new z(B.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Le(n)}static emptyPath(){return new Le([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.path=e}static fromPath(e){return new W(de.fromString(e))}static fromName(e){return new W(de.fromString(e).popFirst(5))}static empty(){return new W(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&de.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new W(new de(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function Qp(t){return t.fields.find(e=>e.kind===2)}function Fi(t){return t.fields.filter(e=>e.kind!==2)}hd.UNKNOWN_ID=-1;class Sc{constructor(e,n){this.fieldPath=e,this.kind=n}}class Vl{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Vl(0,yn.min())}}function ZT(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Z.fromTimestamp(r===1e9?new Be(n+1,0):new Be(n,r));return new yn(i,W.empty(),e)}function eI(t){return new yn(t.readTime,t.key,-1)}class yn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new yn(Z.min(),W.empty(),-1)}static max(){return new yn(Z.max(),W.empty(),-1)}}function Vg(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=W.comparator(t.documentKey,e.documentKey),n!==0?n:ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ii(t){if(t.code!==B.FAILED_PRECONDITION||t.message!==tI)throw t;U("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Q(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new wt,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new il(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Ng(r.target.error);this.V.reject(new il(e,i))}}static open(e,n,r,i){try{return new Kd(n,e.transaction(i,r))}catch(s){throw new il(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(U("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new tk(n)}}class nr{constructor(e,n,r){this.name=e,this.version=n,this.p=r,nr.S(cd())===12.2&&Ze("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return U("SimpleDb","Removing database:",e),ji(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!CT())return!1;if(nr.C())return!0;const e=cd(),n=nr.S(e),r=0<n&&n<10,i=rI(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.v)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(U("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new il(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new z(B.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new z(B.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new il(e,o))},i.onupgradeneeded=s=>{U("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.O(o,i.transaction,s.oldVersion,this.version).next(()=>{U("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.M(e);const a=Kd.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.g(),c)).catch(c=>(a.abort(c),L.reject(c))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(U("SimpleDb","Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function rI(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class ek{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return ji(this.B.delete())}}class il extends z{constructor(e,n){super(B.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function xi(t){return t.name==="IndexedDbTransactionError"}class tk{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(U("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(U("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ji(r)}add(e){return U("SimpleDb","ADD",this.store.name,e,e),ji(this.store.add(e))}get(e){return ji(this.store.get(e)).next(n=>(n===void 0&&(n=null),U("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return U("SimpleDb","DELETE",this.store.name,e),ji(this.store.delete(e))}count(){return U("SimpleDb","COUNT",this.store.name),ji(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new L((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.W(s,(a,l)=>{o.push(l)}).next(()=>o)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new L((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}j(e,n){U("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(s,o,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new L((r,i)=>{n.onerror=s=>{const o=Ng(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}W(e,n){const r=[];return new L((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new ek(a),c=n(a.primaryKey,a.value,l);if(c instanceof L){const d=c.catch(f=>(l.done(),L.reject(f)));r.push(d)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>L.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function ji(t){return new L((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Ng(r.target.error);n(i)}})}let m_=!1;function Ng(t){const e=nr.S(cd());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new z("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return m_||(m_=!0,setTimeout(()=>{throw r},0)),r}}return t}class nk{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){U("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{U("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){xi(n)?U("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Ii(n)}await this.X(6e4)})}}class rk{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,s=!0;return L.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return U("IndexBackfiller",`Processing collection: ${o}`),this.ne(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.re(i,s)).next(a=>(U("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}re(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=eI(s);Vg(o,r)>0&&(r=o)}),new yn(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}tn.oe=-1;function tu(t){return t==null}function Nl(t){return t===0&&1/t==-1/0}function iI(t){return typeof t=="number"&&Number.isInteger(t)&&!Nl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=g_(e)),e=ik(t.get(n),e);return g_(e)}function ik(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function g_(t){return t+""}function Jn(t){const e=t.length;if(J(e>=2),e===2)return J(t.charAt(0)===""&&t.charAt(1)===""),de.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf("",s);switch((o<0||o>n)&&Q(),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:Q()}s=o+2}return new de(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bc(t,e){return[t,Gt(e)]}function sI(t,e,n){return[t,Gt(e),n]}const sk={},ok=["prefixPath","collectionGroup","readTime","documentId"],ak=["prefixPath","collectionGroup","documentId"],lk=["collectionGroup","readTime","prefixPath","documentId"],uk=["canonicalId","targetId"],ck=["targetId","path"],dk=["path","targetId"],hk=["collectionId","parent"],fk=["indexId","uid"],pk=["uid","sequenceNumber"],mk=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],gk=["indexId","uid","orderedDocumentKey"],yk=["userId","collectionPath","documentId"],vk=["userId","collectionPath","largestBatchId"],_k=["userId","collectionGroup","largestBatchId"],oI=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wk=[...oI,"documentOverlays"],aI=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lI=aI,uI=[...lI,"indexConfiguration","indexState","indexEntries"],Ek=uI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends nI{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Et(t,e){const n=K(t);return nr.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Is(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pe{constructor(e,n){this.comparator=e,this.root=n||bt.EMPTY}insert(e,n){return new Pe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,bt.BLACK,null,null))}remove(e){return new Pe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,bt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tc(this.root,e,this.comparator,!1)}getReverseIterator(){return new tc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tc(this.root,e,this.comparator,!0)}}class tc{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class bt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??bt.RED,this.left=i??bt.EMPTY,this.right=s??bt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new bt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return bt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return bt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}bt.EMPTY=null,bt.RED=!0,bt.BLACK=!1;bt.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(e,n,r,i,s){return this}insert(e,n,r){return new bt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(e){this.comparator=e,this.data=new Pe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new __(this.data.getIterator())}getIteratorFrom(e){return new __(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof be)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new be(this.comparator);return n.data=e,n}}class __{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Ls(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.fields=e,e.sort(Le.comparator)}static empty(){return new nn([])}unionWith(e){let n=new be(Le.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Mo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tk(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dI("Invalid base64 string: "+s):s}}(e);return new dt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new dt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}dt.EMPTY_BYTE_STRING=new dt("");const Ik=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(t){if(J(!!t),typeof t=="string"){let e=0;const n=Ik.exec(t);if(J(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Qe(t.seconds),nanos:Qe(t.nanos)}}function Qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function fi(t){return typeof t=="string"?dt.fromBase64String(t):dt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Mg(t){const e=t.mapValue.fields.__previous_value__;return Hd(e)?Mg(e):e}function Ml(t){const e=Tr(t.mapValue.fields.__local_write_time__.timestampValue);return new Be(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class pi{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new pi("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pi&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yr={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Rc={nullValue:"NULL_VALUE"};function ls(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Hd(t)?4:hI(t)?9007199254740991:10:Q()}function sr(t,e){if(t===e)return!0;const n=ls(t);if(n!==ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ml(t).isEqual(Ml(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Tr(i.timestampValue),a=Tr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return fi(i.bytesValue).isEqual(fi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Qe(i.geoPointValue.latitude)===Qe(s.geoPointValue.latitude)&&Qe(i.geoPointValue.longitude)===Qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Qe(i.integerValue)===Qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Qe(i.doubleValue),a=Qe(s.doubleValue);return o===a?Nl(o)===Nl(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Mo(t.arrayValue.values||[],e.arrayValue.values||[],sr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(v_(o)!==v_(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!sr(o[l],a[l])))return!1;return!0}(t,e);default:return Q()}}function Ol(t,e){return(t.values||[]).find(n=>sr(n,e))!==void 0}function mi(t,e){if(t===e)return 0;const n=ls(t),r=ls(e);if(n!==r)return ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ie(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Qe(s.integerValue||s.doubleValue),l=Qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return w_(t.timestampValue,e.timestampValue);case 4:return w_(Ml(t),Ml(e));case 5:return ie(t.stringValue,e.stringValue);case 6:return function(s,o){const a=fi(s),l=fi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=ie(a[c],l[c]);if(d!==0)return d}return ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=ie(Qe(s.latitude),Qe(o.latitude));return a!==0?a:ie(Qe(s.longitude),Qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let c=0;c<a.length&&c<l.length;++c){const d=mi(a[c],l[c]);if(d)return d}return ie(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===Yr.mapValue&&o===Yr.mapValue)return 0;if(s===Yr.mapValue)return 1;if(o===Yr.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const p=ie(l[f],d[f]);if(p!==0)return p;const g=mi(a[l[f]],c[d[f]]);if(g!==0)return g}return ie(l.length,d.length)}(t.mapValue,e.mapValue);default:throw Q()}}function w_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ie(t,e);const n=Tr(t),r=Tr(e),i=ie(n.seconds,r.seconds);return i!==0?i:ie(n.nanos,r.nanos)}function Oo(t){return Xp(t)}function Xp(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Tr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return fi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return W.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Xp(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Xp(n.fields[o])}`;return i+"}"}(t.mapValue):Q()}function us(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Jp(t){return!!t&&"integerValue"in t}function Ll(t){return!!t&&"arrayValue"in t}function E_(t){return!!t&&"nullValue"in t}function T_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ac(t){return!!t&&"mapValue"in t}function sl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Is(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=sl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function hI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function Sk(t){return"nullValue"in t?Rc:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?us(pi.empty(),W.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?{mapValue:{}}:Q()}function bk(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?us(pi.empty(),W.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?{mapValue:{}}:"mapValue"in t?Yr:Q()}function I_(t,e){const n=mi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function x_(t,e){const n=mi(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.value=e}static empty(){return new At({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ac(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sl(n)}setAll(e){let n=Le.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=sl(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Ac(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return sr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Ac(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Is(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new At(sl(this.value))}}function fI(t){const e=[];return Is(t.fields,(n,r)=>{const i=new Le([n]);if(Ac(r)){const s=fI(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ve(e,0,Z.min(),Z.min(),Z.min(),At.empty(),0)}static newFoundDocument(e,n,r,i){return new Ve(e,1,n,Z.min(),r,i,0)}static newNoDocument(e,n){return new Ve(e,2,n,Z.min(),Z.min(),At.empty(),0)}static newUnknownDocument(e,n){return new Ve(e,3,n,Z.min(),Z.min(),At.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Z.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=At.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=At.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ve&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ve(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,n){this.position=e,this.inclusive=n}}function S_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=W.comparator(W.fromName(o.referenceValue),n.key):r=mi(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function b_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!sr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl{constructor(e,n="asc"){this.field=e,this.dir=n}}function Rk(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{}class he extends pI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Ak(e,n,r):n==="array-contains"?new kk(e,r):n==="in"?new wI(e,r):n==="not-in"?new Dk(e,r):n==="array-contains-any"?new Vk(e,r):new he(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Ck(e,r):new Pk(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(mi(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(mi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Q()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ie extends pI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ie(e,n)}matches(e){return Lo(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Lo(t){return t.op==="and"}function Zp(t){return t.op==="or"}function Og(t){return mI(t)&&Lo(t)}function mI(t){for(const e of t.filters)if(e instanceof Ie)return!1;return!0}function em(t){if(t instanceof he)return t.field.canonicalString()+t.op.toString()+Oo(t.value);if(Og(t))return t.filters.map(e=>em(e)).join(",");{const e=t.filters.map(n=>em(n)).join(",");return`${t.op}(${e})`}}function gI(t,e){return t instanceof he?function(r,i){return i instanceof he&&r.op===i.op&&r.field.isEqual(i.field)&&sr(r.value,i.value)}(t,e):t instanceof Ie?function(r,i){return i instanceof Ie&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&gI(o,i.filters[a]),!0):!1}(t,e):void Q()}function yI(t,e){const n=t.filters.concat(e);return Ie.create(n,t.op)}function vI(t){return t instanceof he?function(n){return`${n.field.canonicalString()} ${n.op} ${Oo(n.value)}`}(t):t instanceof Ie?function(n){return n.op.toString()+" {"+n.getFilters().map(vI).join(" ,")+"}"}(t):"Filter"}class Ak extends he{constructor(e,n,r){super(e,n,r),this.key=W.fromName(r.referenceValue)}matches(e){const n=W.comparator(e.key,this.key);return this.matchesComparison(n)}}class Ck extends he{constructor(e,n){super(e,"in",n),this.keys=_I("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Pk extends he{constructor(e,n){super(e,"not-in",n),this.keys=_I("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function _I(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>W.fromName(r.referenceValue))}class kk extends he{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ll(n)&&Ol(n.arrayValue,this.value)}}class wI extends he{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ol(this.value.arrayValue,n)}}class Dk extends he{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ol(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ol(this.value.arrayValue,n)}}class Vk extends he{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ll(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ol(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function tm(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Nk(t,e,n,r,i,s,o)}function cs(t){const e=K(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>em(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),tu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Oo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Oo(r)).join(",")),e.ue=n}return e.ue}function nu(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Rk(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!gI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!b_(t.startAt,e.startAt)&&b_(t.endAt,e.endAt)}function fd(t){return W.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function pd(t,e){return t.filters.filter(n=>n instanceof he&&n.field.isEqual(e))}function R_(t,e,n){let r=Rc,i=!0;for(const s of pd(t,e)){let o=Rc,a=!0;switch(s.op){case"<":case"<=":o=Sk(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Rc}I_({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];I_({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function A_(t,e,n){let r=Yr,i=!0;for(const s of pd(t,e)){let o=Yr,a=!0;switch(s.op){case">=":case">":o=bk(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=Yr}x_({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];x_({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function EI(t,e,n,r,i,s,o,a){return new Rr(t,e,n,r,i,s,o,a)}function ea(t){return new Rr(t)}function C_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Lg(t){return t.collectionGroup!==null}function wo(t){const e=K(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new be(Le.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Fl(s,r))}),n.has(Le.keyField().canonicalString())||e.ce.push(new Fl(Le.keyField(),r))}return e.ce}function Wt(t){const e=K(t);return e.le||(e.le=Mk(e,wo(t))),e.le}function Mk(t,e){if(t.limitType==="F")return tm(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Fl(i.field,s)});const n=t.endAt?new gi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gi(t.startAt.position,t.startAt.inclusive):null;return tm(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nm(t,e){const n=t.filters.concat([e]);return new Rr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function md(t,e,n){return new Rr(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function ru(t,e){return nu(Wt(t),Wt(e))&&t.limitType===e.limitType}function TI(t){return`${cs(Wt(t))}|lt:${t.limitType}`}function Hs(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>vI(i)).join(", ")}]`),tu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Oo(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Oo(i)).join(",")),`Target(${r})`}(Wt(t))}; limitType=${t.limitType})`}function iu(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):W.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of wo(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=S_(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,wo(r),i)||r.endAt&&!function(o,a,l){const c=S_(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,wo(r),i))}(t,e)}function II(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xI(t){return(e,n)=>{let r=!1;for(const i of wo(t)){const s=Ok(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Ok(t,e,n){const r=t.field.isKeyField()?W.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?mi(l,c):Q()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Q()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Is(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return cI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lk=new Pe(W.comparator);function rn(){return Lk}const SI=new Pe(W.comparator);function Ga(...t){let e=SI;for(const n of t)e=e.insert(n.key,n);return e}function bI(t){let e=SI;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Zn(){return ol()}function RI(){return ol()}function ol(){return new Si(t=>t.toString(),(t,e)=>t.isEqual(e))}const Fk=new Pe(W.comparator),Bk=new be(W.comparator);function oe(...t){let e=Bk;for(const n of t)e=e.add(n);return e}const $k=new be(ie);function Fg(){return $k}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nl(e)?"-0":e}}function CI(t){return{integerValue:""+t}}function PI(t,e){return iI(e)?CI(e):AI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(){this._=void 0}}function jk(t,e,n){return t instanceof Fo?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Hd(s)&&(s=Mg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof ds?DI(t,e):t instanceof hs?VI(t,e):function(i,s){const o=kI(i,s),a=P_(o)+P_(i.Pe);return Jp(o)&&Jp(i.Pe)?CI(a):AI(i.serializer,a)}(t,e)}function zk(t,e,n){return t instanceof ds?DI(t,e):t instanceof hs?VI(t,e):n}function kI(t,e){return t instanceof Bo?function(r){return Jp(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Fo extends Qd{}class ds extends Qd{constructor(e){super(),this.elements=e}}function DI(t,e){const n=NI(e);for(const r of t.elements)n.some(i=>sr(i,r))||n.push(r);return{arrayValue:{values:n}}}class hs extends Qd{constructor(e){super(),this.elements=e}}function VI(t,e){let n=NI(e);for(const r of t.elements)n=n.filter(i=>!sr(i,r));return{arrayValue:{values:n}}}class Bo extends Qd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function P_(t){return Qe(t.integerValue||t.doubleValue)}function NI(t){return Ll(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{constructor(e,n){this.field=e,this.transform=n}}function Uk(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof ds&&i instanceof ds||r instanceof hs&&i instanceof hs?Mo(r.elements,i.elements,sr):r instanceof Bo&&i instanceof Bo?sr(r.Pe,i.Pe):r instanceof Fo&&i instanceof Fo}(t.transform,e.transform)}class qk{constructor(e,n){this.version=e,this.transformResults=n}}class Fe{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fe}static exists(e){return new Fe(void 0,e)}static updateTime(e){return new Fe(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Cc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yd{}function MI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new na(t.key,Fe.none()):new ta(t.key,t.data,Fe.none());{const n=t.data,r=At.empty();let i=new be(Le.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Ar(t.key,r,new nn(i.toArray()),Fe.none())}}function Gk(t,e,n){t instanceof ta?function(i,s,o){const a=i.value.clone(),l=D_(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ar?function(i,s,o){if(!Cc(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=D_(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(OI(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function al(t,e,n,r){return t instanceof ta?function(s,o,a,l){if(!Cc(s.precondition,o))return a;const c=s.value.clone(),d=V_(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ar?function(s,o,a,l){if(!Cc(s.precondition,o))return a;const c=V_(s.fieldTransforms,l,o),d=o.data;return d.setAll(OI(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(s,o,a){return Cc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function Wk(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=kI(r.transform,i||null);s!=null&&(n===null&&(n=At.empty()),n.set(r.field,s))}return n||null}function k_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Mo(r,i,(s,o)=>Uk(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ta extends Yd{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ar extends Yd{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function OI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function D_(t,e,n){const r=new Map;J(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,zk(o,a,n[i]))}return r}function V_(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,jk(s,o,e))}return r}class na extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bg extends Yd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Gk(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=al(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RI();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=MI(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Z.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),oe())}isEqual(e){return this.batchId===e.batchId&&Mo(this.mutations,e.mutations,(n,r)=>k_(n,r))&&Mo(this.baseMutations,e.baseMutations,(n,r)=>k_(n,r))}}class jg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){J(e.mutations.length===r.length);let i=function(){return Fk}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new jg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zg=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt,ge;function LI(t){switch(t){default:return Q();case B.CANCELLED:case B.UNKNOWN:case B.DEADLINE_EXCEEDED:case B.RESOURCE_EXHAUSTED:case B.INTERNAL:case B.UNAVAILABLE:case B.UNAUTHENTICATED:return!1;case B.INVALID_ARGUMENT:case B.NOT_FOUND:case B.ALREADY_EXISTS:case B.PERMISSION_DENIED:case B.FAILED_PRECONDITION:case B.ABORTED:case B.OUT_OF_RANGE:case B.UNIMPLEMENTED:case B.DATA_LOSS:return!0}}function FI(t){if(t===void 0)return Ze("GRPC error has no .code"),B.UNKNOWN;switch(t){case rt.OK:return B.OK;case rt.CANCELLED:return B.CANCELLED;case rt.UNKNOWN:return B.UNKNOWN;case rt.DEADLINE_EXCEEDED:return B.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return B.RESOURCE_EXHAUSTED;case rt.INTERNAL:return B.INTERNAL;case rt.UNAVAILABLE:return B.UNAVAILABLE;case rt.UNAUTHENTICATED:return B.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return B.INVALID_ARGUMENT;case rt.NOT_FOUND:return B.NOT_FOUND;case rt.ALREADY_EXISTS:return B.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return B.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return B.FAILED_PRECONDITION;case rt.ABORTED:return B.ABORTED;case rt.OUT_OF_RANGE:return B.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return B.UNIMPLEMENTED;case rt.DATA_LOSS:return B.DATA_LOSS;default:return Q()}}(ge=rt||(rt={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=new es([4294967295,4294967295],0);function N_(t){const e=BI().encode(t),n=new UT;return n.update(e),new Uint8Array(n.digest())}function M_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new es([n,r],0),new es([i,s],0)]}class Ug{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Wa(`Invalid padding: ${n}`);if(r<0)throw new Wa(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wa(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Wa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=es.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(es.fromNumber(r)));return i.compare(Hk)===1&&(i=new es([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=N_(e),[r,i]=M_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Ug(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=N_(e),[r,i]=M_(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Wa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new ou(Z.min(),i,new Pe(ie),rn(),oe())}}class au{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new au(r,n,oe(),oe(),oe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class $I{constructor(e,n){this.targetId=e,this.me=n}}class jI{constructor(e,n,r=dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class O_{constructor(){this.fe=0,this.ge=F_(),this.pe=dt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=oe(),n=oe(),r=oe();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Q()}}),new au(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=F_()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,J(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class Qk{constructor(e){this.Le=e,this.Be=new Map,this.ke=rn(),this.qe=L_(),this.Qe=new Pe(ie)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Q()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const s=i.target;if(fd(s))if(r===0){const o=new W(s.path);this.Ue(n,o,Ve.newNoDocument(o,Z.min()))}else J(r===1);else{const o=this.Ye(n);if(o!==r){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,c)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=fi(r).toUint8Array()}catch(l){if(l instanceof dI)return zn("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ug(o,i,s)}catch(l){return zn(l instanceof Wa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&fd(a.target)){const l=new W(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Ve.newNoDocument(l,e))}s.be&&(n.set(o,s.Ce()),s.ve())}});let r=oe();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Je(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new ou(e,n,this.Qe,this.ke,r);return this.ke=rn(),this.qe=L_(),this.Qe=new Pe(ie),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new O_,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new be(ie),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||U("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new O_),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function L_(){return new Pe(W.comparator)}function F_(){return new Pe(W.comparator)}const Yk={asc:"ASCENDING",desc:"DESCENDING"},Xk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jk={and:"AND",or:"OR"};class Zk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function rm(t,e){return t.useProto3Json||tu(e)?e:{value:e}}function $o(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function e2(t,e){return $o(t,e.toTimestamp())}function et(t){return J(!!t),Z.fromTimestamp(function(n){const r=Tr(n);return new Be(r.seconds,r.nanos)}(t))}function qg(t,e){return im(t,e).canonicalString()}function im(t,e){const n=function(i){return new de(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function UI(t){const e=de.fromString(t);return J(ZI(e)),e}function Bl(t,e){return qg(t.databaseId,e.path)}function rr(t,e){const n=UI(e);if(n.get(1)!==t.databaseId.projectId)throw new z(B.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new z(B.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new W(WI(n))}function qI(t,e){return qg(t.databaseId,e)}function GI(t){const e=UI(t);return e.length===4?de.emptyPath():WI(e)}function sm(t){return new de(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WI(t){return J(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function B_(t,e,n){return{name:Bl(t,e),fields:n.value.mapValue.fields}}function KI(t,e,n){const r=rr(t,e.name),i=et(e.updateTime),s=e.createTime?et(e.createTime):Z.min(),o=new At({mapValue:{fields:e.fields}}),a=Ve.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function t2(t,e){return"found"in e?function(r,i){J(!!i.found),i.found.name,i.found.updateTime;const s=rr(r,i.found.name),o=et(i.found.updateTime),a=i.found.createTime?et(i.found.createTime):Z.min(),l=new At({mapValue:{fields:i.found.fields}});return Ve.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){J(!!i.missing),J(!!i.readTime);const s=rr(r,i.missing),o=et(i.readTime);return Ve.newNoDocument(s,o)}(t,e):Q()}function n2(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:Q()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(J(d===void 0||typeof d=="string"),dt.fromBase64String(d||"")):(J(d===void 0||d instanceof Buffer||d instanceof Uint8Array),dt.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?B.UNKNOWN:FI(c.code);return new z(d,c.message||"")}(o);n=new jI(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=rr(t,r.document.name),s=et(r.document.updateTime),o=r.document.createTime?et(r.document.createTime):Z.min(),a=new At({mapValue:{fields:r.document.fields}}),l=Ve.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new Pc(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=rr(t,r.document),s=r.readTime?et(r.readTime):Z.min(),o=Ve.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Pc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=rr(t,r.document),s=r.removedTargetIds||[];n=new Pc([],s,i,null)}else{if(!("filter"in e))return Q();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new Kk(i,s),a=r.targetId;n=new $I(a,o)}}return n}function $l(t,e){let n;if(e instanceof ta)n={update:B_(t,e.key,e.value)};else if(e instanceof na)n={delete:Bl(t,e.key)};else if(e instanceof Ar)n={update:B_(t,e.key,e.data),updateMask:l2(e.fieldMask)};else{if(!(e instanceof Bg))return Q();n={verify:Bl(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Fo)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ds)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof hs)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bo)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Q()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:e2(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Q()}(t,e.precondition)),n}function om(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Fe.updateTime(et(s.updateTime)):s.exists!==void 0?Fe.exists(s.exists):Fe.none()}(e.currentDocument):Fe.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)J(a.setToServerValue==="REQUEST_TIME"),l=new Fo;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new ds(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new hs(d)}else"increment"in a?l=new Bo(o,a.increment):Q();const c=Le.fromServerFormat(a.fieldPath);return new su(c,l)}(t,i)):[];if(e.update){e.update.name;const i=rr(t,e.update.name),s=new At({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new nn(c.map(d=>Le.fromServerFormat(d)))}(e.updateMask);return new Ar(i,s,o,n,r)}return new ta(i,s,n,r)}if(e.delete){const i=rr(t,e.delete);return new na(i,n)}if(e.verify){const i=rr(t,e.verify);return new Bg(i,n)}return Q()}function r2(t,e){return t&&t.length>0?(J(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?et(i.updateTime):et(s);return o.isEqual(Z.min())&&(o=et(s)),new qk(o,i.transformResults||[])}(n,e))):[]}function HI(t,e){return{documents:[qI(t,e.path)]}}function QI(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=qI(t,i);const s=function(c){if(c.length!==0)return JI(Ie.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(p){return{field:Qs(p.field),direction:s2(p.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=rm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{_t:n,parent:i}}function YI(t){let e=GI(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){J(r===1);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(f){const p=XI(f);return p instanceof Ie&&Og(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(_){return new Fl(Ys(_.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,tu(p)?null:p}(n.limit));let l=null;n.startAt&&(l=function(f){const p=!!f.before,g=f.values||[];return new gi(g,p)}(n.startAt));let c=null;return n.endAt&&(c=function(f){const p=!f.before,g=f.values||[];return new gi(g,p)}(n.endAt)),EI(e,i,o,s,a,"F",l,c)}function i2(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Q()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function XI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ys(n.unaryFilter.field);return he.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ys(n.unaryFilter.field);return he.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ys(n.unaryFilter.field);return he.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ys(n.unaryFilter.field);return he.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Q()}}(t):t.fieldFilter!==void 0?function(n){return he.create(Ys(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Q()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ie.create(n.compositeFilter.filters.map(r=>XI(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Q()}}(n.compositeFilter.op))}(t):Q()}function s2(t){return Yk[t]}function o2(t){return Xk[t]}function a2(t){return Jk[t]}function Qs(t){return{fieldPath:t.canonicalString()}}function Ys(t){return Le.fromServerFormat(t.fieldPath)}function JI(t){return t instanceof he?function(n){if(n.op==="=="){if(T_(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NAN"}};if(E_(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(T_(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NAN"}};if(E_(n.value))return{unaryFilter:{field:Qs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qs(n.field),op:o2(n.op),value:n.value}}}(t):t instanceof Ie?function(n){const r=n.getFilters().map(i=>JI(i));return r.length===1?r[0]:{compositeFilter:{op:a2(n.op),filters:r}}}(t):Q()}function l2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ZI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e,n,r,i,s=Z.min(),o=Z.min(),a=dt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new pr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new pr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.ct=e}}function u2(t,e){let n;if(e.document)n=KI(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=W.fromSegments(e.noDocument.path),i=ps(e.noDocument.readTime);n=Ve.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return Q();{const r=W.fromSegments(e.unknownDocument.path),i=ps(e.unknownDocument.version);n=Ve.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Be(i[0],i[1]);return Z.fromTimestamp(s)}(e.readTime)),n}function $_(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:gd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:Bl(s,o.key),fields:o.data.value.mapValue.fields,updateTime:$o(s,o.version.toTimestamp()),createTime:$o(s,o.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:fs(e.version)};else{if(!e.isUnknownDocument())return Q();r.unknownDocument={path:n.path.toArray(),version:fs(e.version)}}return r}function gd(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function fs(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function ps(t){const e=new Be(t.seconds,t.nanoseconds);return Z.fromTimestamp(e)}function zi(t,e){const n=(e.baseMutations||[]).map(s=>om(t.ct,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>om(t.ct,s)),i=Be.fromMillis(e.localWriteTimeMs);return new $g(e.batchId,i,n,r)}function Ka(t){const e=ps(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?ps(t.lastLimboFreeSnapshotVersion):Z.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){return J(s.documents.length===1),Wt(ea(GI(s.documents[0])))}(t.query):function(s){return Wt(YI(s))}(t.query),new pr(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,dt.fromBase64String(t.resumeToken))}function tx(t,e){const n=fs(e.snapshotVersion),r=fs(e.lastLimboFreeSnapshotVersion);let i;i=fd(e.target)?HI(t.ct,e.target):QI(t.ct,e.target)._t;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:cs(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Gg(t){const e=YI({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?md(e,e.limit,"L"):e}function Uf(t,e){return new zg(e.largestBatchId,om(t.ct,e.overlayMutation))}function j_(t,e){const n=e.path.lastSegment();return[t,Gt(e.path.popLast()),n]}function z_(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:fs(r.readTime),documentKey:Gt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{getBundleMetadata(e,n){return U_(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:ps(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return U_(e).put(function(i){return{bundleId:i.id,createTime:fs(et(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return q_(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:Gg(s.bundledQuery),readTime:ps(s.readTime)}}(r)})}saveNamedQuery(e,n){return q_(e).put(function(i){return{name:i.name,readTime:fs(et(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function U_(t){return Et(t,"bundles")}function q_(t){return Et(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new Xd(e,r)}getOverlay(e,n){return Da(e).get(j_(this.userId,n)).next(r=>r?Uf(this.serializer,r):null)}getOverlays(e,n){const r=Zn();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new zg(n,o);i.push(this.ht(e,a))}),L.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Gt(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Da(e).j("collectionPathOverlayIndex",a))}),L.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Zn(),s=Gt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Da(e).U("collectionPathOverlayIndex",o).next(a=>{for(const l of a){const c=Uf(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Zn();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Da(e).J({index:"collectionGroupOverlayIndex",range:a},(l,c,d)=>{const f=Uf(this.serializer,c);s.size()<i||f.largestBatchId===o?(s.set(f.getKey(),f),o=f.largestBatchId):d.done()}).next(()=>s)}ht(e,n){return Da(e).put(function(i,s,o){const[a,l,c]=j_(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:$l(i.ct,o.mutation)}}(this.serializer,this.userId,n))}}function Da(t){return Et(t,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(){}Pt(e,n){this.It(e,n),n.Tt()}It(e,n){if("nullValue"in e)this.Et(n,5);else if("booleanValue"in e)this.Et(n,10),n.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(n,15),n.dt(Qe(e.integerValue));else if("doubleValue"in e){const r=Qe(e.doubleValue);isNaN(r)?this.Et(n,13):(this.Et(n,15),Nl(r)?n.dt(0):n.dt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Et(n,20),typeof r=="string"&&(r=Tr(r)),n.At(`${r.seconds||""}`),n.dt(r.nanos||0)}else if("stringValue"in e)this.Rt(e.stringValue,n),this.Vt(n);else if("bytesValue"in e)this.Et(n,30),n.ft(fi(e.bytesValue)),this.Vt(n);else if("referenceValue"in e)this.gt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Et(n,45),n.dt(r.latitude||0),n.dt(r.longitude||0)}else"mapValue"in e?hI(e)?this.Et(n,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,n),this.Vt(n)):"arrayValue"in e?(this.wt(e.arrayValue,n),this.Vt(n)):Q()}Rt(e,n){this.Et(n,25),this.St(e,n)}St(e,n){n.At(e)}yt(e,n){const r=e.fields||{};this.Et(n,55);for(const i of Object.keys(r))this.Rt(i,n),this.It(r[i],n)}wt(e,n){const r=e.values||[];this.Et(n,50);for(const i of r)this.It(i,n)}gt(e,n){this.Et(n,37),W.fromName(e).path.forEach(r=>{this.Et(n,60),this.St(r,n)})}Et(e,n){e.dt(n)}Vt(e){e.dt(2)}}Ui.bt=new Ui;function d2(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function G_(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=d2(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class h2{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ct(r.value),r=n.next();this.vt()}Ft(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Mt(r.value),r=n.next();this.xt()}Ot(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ct(r);else if(r<2048)this.Ct(960|r>>>6),this.Ct(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ct(480|r>>>12),this.Ct(128|63&r>>>6),this.Ct(128|63&r);else{const i=n.codePointAt(0);this.Ct(240|i>>>18),this.Ct(128|63&i>>>12),this.Ct(128|63&i>>>6),this.Ct(128|63&i)}}this.vt()}Nt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Mt(r);else if(r<2048)this.Mt(960|r>>>6),this.Mt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Mt(480|r>>>12),this.Mt(128|63&r>>>6),this.Mt(128|63&r);else{const i=n.codePointAt(0);this.Mt(240|i>>>18),this.Mt(128|63&i>>>12),this.Mt(128|63&i>>>6),this.Mt(128|63&i)}}this.xt()}Lt(e){const n=this.Bt(e),r=G_(n);this.kt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}qt(e){const n=this.Bt(e),r=G_(n);this.kt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ct(e){const n=255&e;n===0?(this.Kt(0),this.Kt(255)):n===255?(this.Kt(255),this.Kt(0)):this.Kt(n)}Mt(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class f2{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class p2{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class Va{constructor(){this.Gt=new h2,this.zt=new f2(this.Gt),this.jt=new p2(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return e===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Jt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new qi(this.indexId,this.documentKey,this.arrayValue,r)}}function Fr(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=W_(t.arrayValue,e.arrayValue),n!==0?n:(n=W_(t.directionalValue,e.directionalValue),n!==0?n:W.comparator(t.documentKey,e.documentKey)))}function W_(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e){this.Yt=new be((n,r)=>Le.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const n of e.filters){const r=n;r.isInequality()?this.Yt=this.Yt.add(r):this.Xt.push(r)}}get en(){return this.Yt.size>1}tn(e){if(J(e.collectionGroup===this.collectionId),this.en)return!1;const n=Qp(e);if(n!==void 0&&!this.nn(n))return!1;const r=Fi(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.nn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Yt.size>0){const a=this.Yt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.rn(a,l)||!this.sn(this.Zt[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.Zt.length||!this.sn(this.Zt[o++],a))return!1}return!0}on(){if(this.en)return null;let e=new be(Le.comparator);const n=[];for(const r of this.Xt)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Sc(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Sc(r.field,0))}for(const r of this.Zt)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Sc(r.field,r.dir==="asc"?0:1)));return new hd(hd.UNKNOWN_ID,this.collectionId,n,Vl.empty())}nn(e){for(const n of this.Xt)if(this.rn(n,e))return!0;return!1}rn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t){var e,n;if(J(t instanceof he||t instanceof Ie),t instanceof he){if(t instanceof wI){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>he.create(t.field,"==",s)))||[];return Ie.create(i,"or")}return t}const r=t.filters.map(i=>nx(i));return Ie.create(r,t.op)}function m2(t){if(t.getFilters().length===0)return[];const e=um(nx(t));return J(rx(e)),am(e)||lm(e)?[e]:e.getFilters()}function am(t){return t instanceof he}function lm(t){return t instanceof Ie&&Og(t)}function rx(t){return am(t)||lm(t)||function(n){if(n instanceof Ie&&Zp(n)){for(const r of n.getFilters())if(!am(r)&&!lm(r))return!1;return!0}return!1}(t)}function um(t){if(J(t instanceof he||t instanceof Ie),t instanceof he)return t;if(t.filters.length===1)return um(t.filters[0]);const e=t.filters.map(r=>um(r));let n=Ie.create(e,t.op);return n=yd(n),rx(n)?n:(J(n instanceof Ie),J(Lo(n)),J(n.filters.length>1),n.filters.reduce((r,i)=>Wg(r,i)))}function Wg(t,e){let n;return J(t instanceof he||t instanceof Ie),J(e instanceof he||e instanceof Ie),n=t instanceof he?e instanceof he?function(i,s){return Ie.create([i,s],"and")}(t,e):H_(t,e):e instanceof he?H_(e,t):function(i,s){if(J(i.filters.length>0&&s.filters.length>0),Lo(i)&&Lo(s))return yI(i,s.getFilters());const o=Zp(i)?i:s,a=Zp(i)?s:i,l=o.filters.map(c=>Wg(c,a));return Ie.create(l,"or")}(t,e),yd(n)}function H_(t,e){if(Lo(e))return yI(e,t.getFilters());{const n=e.filters.map(r=>Wg(t,r));return Ie.create(n,"or")}}function yd(t){if(J(t instanceof he||t instanceof Ie),t instanceof he)return t;const e=t.getFilters();if(e.length===1)return yd(e[0]);if(mI(t))return t;const n=e.map(i=>yd(i)),r=[];return n.forEach(i=>{i instanceof he?r.push(i):i instanceof Ie&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Ie.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this._n=new Kg}addToCollectionParentIndex(e,n){return this._n.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(yn.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(yn.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class Kg{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new be(de.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new be(de.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new Uint8Array(0);class y2{constructor(e,n){this.databaseId=n,this.an=new Kg,this.un=new Si(r=>cs(r),(r,i)=>nu(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.an.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.an.add(n)});const s={collectionId:r,parent:Gt(i)};return Q_(e).put(s)}return L.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[JT(n),""],!1,!0);return Q_(e).U(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Jn(o.parent))}return r})}addFieldIndex(e,n){const r=Na(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=Bs(e);return s.next(a=>{o.put(z_(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=Na(e),i=Bs(e),s=Fs(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=Na(e),r=Fs(e),i=Bs(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return L.forEach(this.cn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new K_(r).on();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=Fs(e);let i=!0;const s=new Map;return L.forEach(this.cn(n),o=>this.ln(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=oe();const a=[];return L.forEach(s,(l,c)=>{U("IndexedDbIndexManager",`Using index ${function(I){return`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(k=>`${k.fieldPath}:${k.kind}`).join(",")}`}(l)} to execute ${cs(n)}`);const d=function(I,k){const M=Qp(k);if(M===void 0)return null;for(const F of pd(I,M.fieldPath))switch(F.op){case"array-contains-any":return F.value.arrayValue.values||[];case"array-contains":return[F.value]}return null}(c,l),f=function(I,k){const M=new Map;for(const F of Fi(k))for(const v of pd(I,F.fieldPath))switch(v.op){case"==":case"in":M.set(F.fieldPath.canonicalString(),v.value);break;case"not-in":case"!=":return M.set(F.fieldPath.canonicalString(),v.value),Array.from(M.values())}return null}(c,l),p=function(I,k){const M=[];let F=!0;for(const v of Fi(k)){const y=v.kind===0?R_(I,v.fieldPath,I.startAt):A_(I,v.fieldPath,I.startAt);M.push(y.value),F&&(F=y.inclusive)}return new gi(M,F)}(c,l),g=function(I,k){const M=[];let F=!0;for(const v of Fi(k)){const y=v.kind===0?A_(I,v.fieldPath,I.endAt):R_(I,v.fieldPath,I.endAt);M.push(y.value),F&&(F=y.inclusive)}return new gi(M,F)}(c,l),_=this.hn(l,c,p),T=this.hn(l,c,g),P=this.Pn(l,c,f),x=this.In(l.indexId,d,_,p.inclusive,T,g.inclusive,P);return L.forEach(x,E=>r.G(E,n.limit).next(I=>{I.forEach(k=>{const M=W.fromSegments(k.documentKey);o.has(M)||(o=o.add(M),a.push(M))})}))}).next(()=>a)}return L.resolve(null)})}cn(e){let n=this.un.get(e);return n||(e.filters.length===0?n=[e]:n=m2(Ie.create(e.filters,"and")).map(r=>tm(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.un.set(e,n),n)}In(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),d=[];for(let f=0;f<l;++f){const p=n?this.Tn(n[f/c]):nc,g=this.En(e,p,r[f%c],i),_=this.dn(e,p,s[f%c],o),T=a.map(P=>this.En(e,p,P,!0));d.push(...this.createRange(g,_,T))}return d}En(e,n,r,i){const s=new qi(e,W.empty(),n,r);return i?s:s.Jt()}dn(e,n,r,i){const s=new qi(e,W.empty(),n,r);return i?s.Jt():s}ln(e,n){const r=new K_(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.tn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.cn(n);return L.forEach(i,s=>this.ln(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new be(Le.comparator),d=!1;for(const f of l.filters)for(const p of f.getFlattenedFilters())p.field.isKeyField()||(p.op==="array-contains"||p.op==="array-contains-any"?d=!0:c=c.add(p.field));for(const f of l.orderBy)f.field.isKeyField()||(c=c.add(f.field));return c.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}An(e,n){const r=new Va;for(const i of Fi(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.Ht(i.kind);Ui.bt.Pt(s,o)}return r.Wt()}Tn(e){const n=new Va;return Ui.bt.Pt(e,n.Ht(0)),n.Wt()}Rn(e,n){const r=new Va;return Ui.bt.Pt(us(this.databaseId,n),r.Ht(function(s){const o=Fi(s);return o.length===0?0:o[o.length-1].kind}(e))),r.Wt()}Pn(e,n,r){if(r===null)return[];let i=[];i.push(new Va);let s=0;for(const o of Fi(e)){const a=r[s++];for(const l of i)if(this.Vn(n,o.fieldPath)&&Ll(a))i=this.mn(i,o,a);else{const c=l.Ht(o.kind);Ui.bt.Pt(a,c)}}return this.fn(i)}hn(e,n,r){return this.Pn(e,n,r.position)}fn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].Wt();return n}mn(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Va;l.seed(a.Wt()),Ui.bt.Pt(o,l.Ht(n.kind)),s.push(l)}return s}Vn(e,n){return!!e.filters.find(r=>r instanceof he&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=Na(e),i=Bs(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(s=>{const o=[];return L.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(d,f){const p=f?new Vl(f.sequenceNumber,new yn(ps(f.readTime),new W(Jn(f.documentKey)),f.largestBatchId)):Vl.empty(),g=d.fields.map(([_,T])=>new Sc(Le.fromServerFormat(_),T));return new hd(d.indexId,d.collectionGroup,g,p)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:ie(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=Na(e),s=Bs(e);return this.gn(e).next(o=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>L.forEach(a,l=>s.put(z_(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return L.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?L.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),L.forEach(a,l=>this.pn(e,i,l).next(c=>{const d=this.yn(s,l);return c.isEqual(d)?L.resolve():this.wn(e,s,l,c,d)}))))})}Sn(e,n,r,i){return Fs(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.Rn(r,n.key),documentKey:n.key.path.toArray()})}bn(e,n,r,i){return Fs(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.Rn(r,n.key),n.key.path.toArray()])}pn(e,n,r){const i=Fs(e);let s=new be(Fr);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.Rn(r,n)])},(o,a)=>{s=s.add(new qi(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>s)}yn(e,n){let r=new be(Fr);const i=this.An(n,e);if(i==null)return r;const s=Qp(n);if(s!=null){const o=e.data.field(s.fieldPath);if(Ll(o))for(const a of o.arrayValue.values||[])r=r.add(new qi(n.indexId,e.key,this.Tn(a),i))}else r=r.add(new qi(n.indexId,e.key,nc,i));return r}wn(e,n,r,i,s){U("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const o=[];return function(l,c,d,f,p){const g=l.getIterator(),_=c.getIterator();let T=Ls(g),P=Ls(_);for(;T||P;){let x=!1,E=!1;if(T&&P){const I=d(T,P);I<0?E=!0:I>0&&(x=!0)}else T!=null?E=!0:x=!0;x?(f(P),P=Ls(_)):E?(p(T),T=Ls(g)):(T=Ls(g),P=Ls(_))}}(i,s,Fr,a=>{o.push(this.Sn(e,n,r,a))},a=>{o.push(this.bn(e,n,r,a))}),L.waitFor(o)}gn(e){let n=1;return Bs(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Fr(o,a)).filter((o,a,l)=>!a||Fr(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Fr(o,e),l=Fr(o,n);if(a===0)i[0]=e.Jt();else if(a>0&&l<0)i.push(o),i.push(o.Jt());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Dn(i[o],i[o+1]))return[];const a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,nc,[]],l=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,nc,[]];s.push(IDBKeyRange.bound(a,l))}return s}Dn(e,n){return Fr(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(Y_)}getMinOffset(e,n){return L.mapArray(this.cn(n),r=>this.ln(e,r).next(i=>i||Q())).next(Y_)}}function Q_(t){return Et(t,"collectionParents")}function Fs(t){return Et(t,"indexEntries")}function Na(t){return Et(t,"indexConfiguration")}function Bs(t){return Et(t,"indexState")}function Y_(t){J(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;Vg(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new yn(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xt{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ix(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:o},(d,f,p)=>(a++,p.delete()));s.push(l.next(()=>{J(a===1)}));const c=[];for(const d of n.mutations){const f=sI(e,d.key.path,n.batchId);s.push(i.delete(f)),c.push(d.key)}return L.waitFor(s).next(()=>c)}function vd(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Q();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(41943040,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);class Jd{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Cn={}}static lt(e,n,r,i){J(e.uid!=="");const s=e.isAuthenticated()?e.uid:"";return new Jd(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Br(e).J({index:"userMutationsIndex",range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Xs(e),o=Br(e);return o.add({}).next(a=>{J(typeof a=="number");const l=new $g(a,n,r,i),c=function(g,_,T){const P=T.baseMutations.map(E=>$l(g.ct,E)),x=T.mutations.map(E=>$l(g.ct,E));return{userId:_,batchId:T.batchId,localWriteTimeMs:T.localWriteTime.toMillis(),baseMutations:P,mutations:x}}(this.serializer,this.userId,l),d=[];let f=new be((p,g)=>ie(p.canonicalString(),g.canonicalString()));for(const p of i){const g=sI(this.userId,p.key.path,a);f=f.add(p.key.path.popLast()),d.push(o.put(c)),d.push(s.put(g,sk))}return f.forEach(p=>{d.push(this.indexManager.addToCollectionParentIndex(e,p))}),e.addOnCommittedListener(()=>{this.Cn[a]=l.keys()}),L.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return Br(e).get(n).next(r=>r?(J(r.userId===this.userId),zi(this.serializer,r)):null)}vn(e,n){return this.Cn[n]?L.resolve(this.Cn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Cn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Br(e).J({index:"userMutationsIndex",range:i},(o,a,l)=>{a.userId===this.userId&&(J(a.batchId>=r),s=zi(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Br(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Br(e).U("userMutationsIndex",n).next(r=>r.map(i=>zi(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=bc(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Xs(e).J({range:i},(o,a,l)=>{const[c,d,f]=o,p=Jn(d);if(c===this.userId&&n.path.isEqual(p))return Br(e).get(f).next(g=>{if(!g)throw Q();J(g.userId===this.userId),s.push(zi(this.serializer,g))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new be(ie);const i=[];return n.forEach(s=>{const o=bc(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Xs(e).J({range:a},(c,d,f)=>{const[p,g,_]=c,T=Jn(g);p===this.userId&&s.path.isEqual(T)?r=r.add(_):f.done()});i.push(l)}),L.waitFor(i).next(()=>this.Fn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=bc(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new be(ie);return Xs(e).J({range:o},(l,c,d)=>{const[f,p,g]=l,_=Jn(p);f===this.userId&&r.isPrefixOf(_)?_.length===i&&(a=a.add(g)):d.done()}).next(()=>this.Fn(e,a))}Fn(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Br(e).get(s).next(o=>{if(o===null)throw Q();J(o.userId===this.userId),r.push(zi(this.serializer,o))}))}),L.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return ix(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.Mn(n.batchId)}),L.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Xs(e).J({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Jn(s[1]);i.push(l)}else a.done()}).next(()=>{J(i.length===0)})})}containsKey(e,n){return sx(e,this.userId,n)}xn(e){return ox(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function sx(t,e,n){const r=bc(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Xs(t).J({range:s,H:!0},(a,l,c)=>{const[d,f,p]=a;d===e&&f===i&&(o=!0),c.done()}).next(()=>o)}function Br(t){return Et(t,"mutations")}function Xs(t){return Et(t,"documentMutations")}function ox(t){return Et(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ms(0)}static Ln(){return new ms(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.Bn(e).next(n=>{const r=new ms(n.highestTargetId);return n.highestTargetId=r.next(),this.kn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Bn(e).next(n=>Z.fromTimestamp(new Be(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Bn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.Bn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.kn(e,i)))}addTargetData(e,n){return this.qn(e,n).next(()=>this.Bn(e).next(r=>(r.targetCount+=1,this.Qn(n,r),this.kn(e,r))))}updateTargetData(e,n){return this.qn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>$s(e).delete(n.targetId)).next(()=>this.Bn(e)).next(r=>(J(r.targetCount>0),r.targetCount-=1,this.kn(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return $s(e).J((o,a)=>{const l=Ka(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>L.waitFor(s)).next(()=>i)}forEachTarget(e,n){return $s(e).J((r,i)=>{const s=Ka(i);n(s)})}Bn(e){return J_(e).get("targetGlobalKey").next(n=>(J(n!==null),n))}kn(e,n){return J_(e).put("targetGlobalKey",n)}qn(e,n){return $s(e).put(tx(this.serializer,n))}Qn(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Bn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=cs(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return $s(e).J({range:i,index:"queryTargetsIndex"},(o,a,l)=>{const c=Ka(a);nu(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=Gr(e);return n.forEach(o=>{const a=Gt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),L.waitFor(i)}removeMatchingKeys(e,n,r){const i=Gr(e);return L.forEach(n,s=>{const o=Gt(s.path);return L.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=Gr(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Gr(e);let s=oe();return i.J({range:r,H:!0},(o,a,l)=>{const c=Jn(o[1]),d=new W(c);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=Gt(n.path),i=IDBKeyRange.bound([r],[JT(r)],!1,!0);let s=0;return Gr(e).J({index:"documentTargetsIndex",H:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}ot(e,n){return $s(e).get(n).next(r=>r?Ka(r):null)}}function $s(t){return Et(t,"targets")}function J_(t){return Et(t,"targetGlobal")}function Gr(t){return Et(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_([t,e],[n,r]){const i=ie(t,n);return i===0?ie(e,r):i}class _2{constructor(e){this.Kn=e,this.buffer=new be(Z_),this.$n=0}Un(){return++this.$n}Wn(e){const n=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Z_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class w2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(e){U("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xi(n)?U("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Ii(n)}await this.zn(3e5)})}}class E2{constructor(e,n){this.jn=e,this.params=n}calculateTargetCount(e,n){return this.jn.Hn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(tn.oe);const r=new _2(n);return this.jn.forEachTarget(e,i=>r.Wn(i.sequenceNumber)).next(()=>this.jn.Jn(e,i=>r.Wn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(U("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(X_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(U("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),X_):this.Yn(e,n))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(U("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(c=Date.now(),Ks()<=pe.DEBUG&&U("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}function T2(t,e){return new E2(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n){this.db=e,this.garbageCollector=T2(this,n)}Hn(e){const n=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Zn(e){let n=0;return this.Jn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Jn(e,n){return this.Xn(e,(r,i)=>n(i))}addReference(e,n,r){return rc(e,r)}removeReference(e,n,r){return rc(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return rc(e,n)}er(e,n){return function(i,s){let o=!1;return ox(i).Y(a=>sx(i,a,s).next(l=>(l&&(o=!0),L.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.Xn(e,(o,a)=>{if(a<=n){const l=this.er(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,Z.min()),Gr(e).delete(function(f){return[0,Gt(f.path)]}(o))))});i.push(l)}}).next(()=>L.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return rc(e,n)}Xn(e,n){const r=Gr(e);let i,s=tn.oe;return r.J({index:"documentTargetsIndex"},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==tn.oe&&n(new W(Jn(i)),s),s=c,i=l):s=tn.oe}).next(()=>{s!==tn.oe&&n(new W(Jn(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function rc(t,e){return Gr(t).put(function(r,i){return{targetId:0,path:Gt(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(){this.changes=new Si(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ve.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x2{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return Vi(e).put(r)}removeEntry(e,n,r){return Vi(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],gd(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.tr(e,r)))}getEntry(e,n){let r=Ve.newInvalidDocument(n);return Vi(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ma(n))},(i,s)=>{r=this.nr(n,s)}).next(()=>r)}rr(e,n){let r={size:0,document:Ve.newInvalidDocument(n)};return Vi(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(Ma(n))},(i,s)=>{r={document:this.nr(n,s),size:vd(s)}}).next(()=>r)}getEntries(e,n){let r=rn();return this.ir(e,n,(i,s)=>{const o=this.nr(i,s);r=r.insert(i,o)}).next(()=>r)}sr(e,n){let r=rn(),i=new Pe(W.comparator);return this.ir(e,n,(s,o)=>{const a=this.nr(s,o);r=r.insert(s,a),i=i.insert(s,vd(o))}).next(()=>({documents:r,_r:i}))}ir(e,n,r){if(n.isEmpty())return L.resolve();let i=new be(n1);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(Ma(i.first()),Ma(i.last())),o=i.getIterator();let a=o.getNext();return Vi(e).J({index:"documentKeyIndex",range:s},(l,c,d)=>{const f=W.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&n1(a,f)<0;)r(a,null),a=o.getNext();a&&a.isEqual(f)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?d.$(Ma(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),gd(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Vi(e).U(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let d=rn();for(const f of c){const p=this.nr(W.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);p.isFoundDocument()&&(iu(n,p)||i.has(p.key))&&(d=d.insert(p.key,p))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=rn();const o=t1(n,r),a=t1(n,yn.max());return Vi(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{const f=this.nr(W.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(f.key,f),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new S2(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return e1(e).get("remoteDocumentGlobalKey").next(n=>(J(!!n),n))}tr(e,n){return e1(e).put("remoteDocumentGlobalKey",n)}nr(e,n){if(n){const r=u2(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(Z.min())))return r}return Ve.newInvalidDocument(e)}}function lx(t){return new x2(t)}class S2 extends ax{constructor(e,n){super(),this.ar=e,this.trackRemovals=n,this.ur=new Si(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new be((s,o)=>ie(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.ur.get(s);if(n.push(this.ar.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=$_(this.ar.serializer,o);i=i.add(s.path.popLast());const c=vd(l);r+=c-a.size,n.push(this.ar.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=$_(this.ar.serializer,o.convertToNoDocument(Z.min()));n.push(this.ar.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.ar.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.ar.updateMetadata(e,r)),L.waitFor(n)}getFromCache(e,n){return this.ar.rr(e,n).next(r=>(this.ur.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.ar.sr(e,n).next(({documents:r,_r:i})=>(i.forEach((s,o)=>{this.ur.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function e1(t){return Et(t,"remoteDocumentGlobal")}function Vi(t){return Et(t,"remoteDocumentsV14")}function Ma(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function t1(t,e){const n=e.documentKey.path.toArray();return[t,gd(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function n1(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=ie(n[s],r[s]),i)return i;return i=ie(n.length,r.length),i||(i=ie(n[n.length-2],r[r.length-2]),i||ie(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&al(r.mutation,i,nn.empty(),Be.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,oe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=oe()){const i=Zn();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ga();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Zn();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,oe()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=rn();const o=ol(),a=function(){return ol()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Ar)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),al(d.mutation,c,d.mutation.getFieldMask(),Be.now())):o.set(c.key,nn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var f;return a.set(c,new b2(d,(f=o.get(c))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=ol();let i=new Pe((o,a)=>o-a),s=oe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||nn.empty();d=a.applyToLocalView(c,d),r.set(l,d);const f=(i.get(a.batchId)||oe()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,f=RI();d.forEach(p=>{if(!s.has(p)){const g=MI(n.get(p),r.get(p));g!==null&&f.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,f))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return W.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Lg(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(Zn());let a=-1,l=s;return o.next(c=>L.forEach(c,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{l=l.insert(d,p)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,oe())).next(d=>({batchId:a,changes:bI(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new W(n)).next(r=>{let i=Ga();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ga();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,l=>{const c=function(f,p){return new Rr(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Ve.newInvalidDocument(d)))});let a=Ga();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&al(d.mutation,c,nn.empty(),Be.now()),iu(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return L.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:et(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:Gg(i.bundledQuery),readTime:et(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(){this.overlays=new Pe(W.comparator),this.hr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Zn();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=Zn(),s=n.length+1,o=new W(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pe((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Zn(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Zn(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new zg(n,r));let s=this.hr.get(n);s===void 0&&(s=oe(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hg{constructor(){this.Pr=new be(gt.Ir),this.Tr=new be(gt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new gt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new gt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new W(new de([])),r=new gt(n,e),i=new gt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new W(new de([])),r=new gt(n,e),i=new gt(n,e+1);let s=oe();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new gt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class gt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return W.comparator(e.key,n.key)||ie(e.pr,n.pr)}static Er(e,n){return ie(e.pr,n.pr)||W.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new be(gt.Ir)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new $g(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new gt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new gt(n,0),i=new gt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new be(ie);return n.forEach(i=>{const s=new gt(i,0),o=new gt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),L.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;W.isDocumentKey(s)||(s=s.child(""));const o=new gt(new W(s),0);let a=new be(ie);return this.wr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.pr)),!0)},o),L.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){J(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return L.forEach(n.mutations,i=>{const s=new gt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new gt(n,0),i=this.wr.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.vr=e,this.docs=function(){return new Pe(W.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Ve.newInvalidDocument(n))}getEntries(e,n){let r=rn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ve.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=rn();const o=n.path,a=new W(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||Vg(eI(d),r)<=0||(i.has(d.key)||iu(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Q()}Fr(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new k2(this)}getSize(e){return L.resolve(this.size)}}class k2 extends ax{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.persistence=e,this.Mr=new Si(n=>cs(n),nu),this.lastRemoteSnapshotVersion=Z.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Hg,this.targetCount=0,this.Lr=ms.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),L.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ms(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.qn(n),L.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n){this.Br={},this.overlays={},this.kr=new tn(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new D2(this),this.indexManager=new g2,this.remoteDocumentCache=function(i){return new P2(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new ex(n),this.$r=new R2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new A2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new C2(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);const i=new V2(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return L.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class V2 extends nI{constructor(e){super(),this.currentSequenceNumber=e}}class Zd{constructor(e){this.persistence=e,this.zr=new Hg,this.jr=null}static Hr(e){return new Zd(e)}get Jr(){if(this.jr)return this.jr;throw Q()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),L.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Jr,r=>{const i=W.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,Z.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return L.or([()=>L.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.serializer=e}O(e,n,r,i){const s=new Kd("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",y_,{unique:!0}),l.createObjectStore("documentMutations")}(e),r1(e),function(l){l.createObjectStore("remoteDocuments")}(e));let o=L.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),r1(e)),o=o.next(()=>function(l){const c=l.store("targetGlobal"),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Z.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store("mutations").U().next(d=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",y_,{unique:!0});const f=c.store("mutations"),p=d.map(g=>f.put(g));return L.waitFor(p)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Xr(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ei(s)))),r<7&&i>=7&&(o=o.next(()=>this.ti(s))),r<8&&i>=8&&(o=o.next(()=>this.ni(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.ri(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore("documentOverlays",{keyPath:yk});c.createIndex("collectionPathOverlayIndex",vk,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",_k,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore("remoteDocumentsV14",{keyPath:ok});c.createIndex("documentKeyIndex",ak),c.createIndex("collectionGroupIndex",lk)}(e)).next(()=>this.ii(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.si(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:fk}).createIndex("sequenceNumberIndex",pk,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:mk}).createIndex("documentKeyIndex",gk,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),o}ei(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=vd(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Xr(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>L.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",o).next(a=>L.forEach(a,l=>{J(l.userId===s.userId);const c=zi(this.serializer,l);return ix(e,s.userId,c).next(()=>{})}))}))}ti(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const s=[];return r.J((o,a)=>{const l=new de(o),c=function(f){return[0,Gt(f)]}(l);s.push(n.get(c).next(d=>d?L.resolve():(f=>n.put({targetId:0,path:Gt(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>L.waitFor(s))})}ni(e,n){e.createObjectStore("collectionParents",{keyPath:hk});const r=n.store("collectionParents"),i=new Kg,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Gt(l)})}};return n.store("remoteDocuments").J({H:!0},(o,a)=>{const l=new de(o);return s(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([o,a,l],c)=>{const d=Jn(a);return s(d.popLast())}))}ri(e){const n=e.store("targets");return n.J((r,i)=>{const s=Ka(i),o=tx(this.serializer,s);return n.put(o)})}ii(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((s,o)=>{const a=n.store("remoteDocumentsV14"),l=function(f){return f.document?new W(de.fromString(f.document.name).popFirst(5)):f.noDocument?W.fromSegments(f.noDocument.path):f.unknownDocument?W.fromSegments(f.unknownDocument.path):Q()}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>L.waitFor(i))}si(e,n){const r=n.store("mutations"),i=lx(this.serializer),s=new cx(Zd.Hr,this.serializer.ct);return r.U().next(o=>{const a=new Map;return o.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:oe();zi(this.serializer,l).keys().forEach(f=>d=d.add(f)),a.set(l.userId,d)}),L.forEach(a,(l,c)=>{const d=new vt(c),f=Xd.lt(this.serializer,d),p=s.getIndexManager(d),g=Jd.lt(d,this.serializer,p,s.referenceDelegate);return new ux(i,g,f,p).recalculateAndSaveOverlaysForDocumentKeys(new Yp(n,tn.oe),l).next()})})}}function r1(t){t.createObjectStore("targetDocuments",{keyPath:ck}).createIndex("documentTargetsIndex",dk,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",uk,{unique:!0}),t.createObjectStore("targetGlobal")}const qf="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qg{constructor(e,n,r,i,s,o,a,l,c,d,f=16){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.oi=s,this.window=o,this.document=a,this._i=c,this.ai=d,this.ui=f,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=p=>Promise.resolve(),!Qg.D())throw new z(B.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new I2(this,i),this.Ti=n+"main",this.serializer=new ex(l),this.Ei=new nr(this.Ti,this.ui,new N2(this.serializer)),this.Qr=new v2(this.referenceDelegate,this.serializer),this.remoteDocumentCache=lx(this.serializer),this.$r=new c2,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,d===!1&&Ze("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new z(B.FAILED_PRECONDITION,qf);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Qr.getHighestSequenceNumber(e))}).then(e=>{this.kr=new tn(e,this._i)}).then(()=>{this.qr=!0}).catch(e=>(this.Ei&&this.Ei.close(),Promise.reject(e)))}fi(e){return this.Ii=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ic(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(e).next(n=>{n||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(e)).next(n=>this.isPrimary&&!n?this.yi(e).next(()=>!1):!!n&&this.wi(e).next(()=>!0))).catch(e=>{if(xi(e))return U("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return U("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.oi.enqueueRetryable(()=>this.Ii(e)),this.isPrimary=e})}gi(e){return Oa(e).get("owner").next(n=>L.resolve(this.Si(n)))}bi(e){return ic(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Et(n,"clientMetadata");return r.U().next(i=>{const s=this.vi(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return L.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.di)for(const n of e)this.di.removeItem(this.Fi(n.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?L.resolve(!0):Oa(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)){if(this.Si(n)&&this.networkEnabled)return!0;if(!this.Si(n)){if(!n.allowTabSynchronization)throw new z(B.FAILED_PRECONDITION,qf);return!1}}return!(!this.networkEnabled||!this.inForeground)||ic(e).U().next(r=>this.vi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&U("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new Yp(e,tn.oe);return this.yi(n).next(()=>this.bi(n))}),this.Ei.close(),this.Li()}vi(e,n){return e.filter(r=>this.Ci(r.updateTimeMs,n)&&!this.Mi(r.clientId))}Bi(){return this.runTransaction("getActiveClients","readonly",e=>ic(e).U().next(n=>this.vi(n,18e5).map(r=>r.clientId)))}get started(){return this.qr}getMutationQueue(e,n){return Jd.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new y2(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return Xd.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,n,r){U("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===16?Ek:l===15?uI:l===14?lI:l===13?aI:l===12?wk:l===11?oI:void Q()}(this.ui);let o;return this.Ei.runTransaction(e,i,s,a=>(o=new Yp(a,this.kr?this.kr.next():tn.oe),n==="readwrite-primary"?this.gi(o).next(l=>!!l||this.pi(o)).next(l=>{if(!l)throw Ze(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new z(B.FAILED_PRECONDITION,tI);return r(o)}).next(l=>this.wi(o).next(()=>l)):this.ki(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}ki(e){return Oa(e).get("owner").next(n=>{if(n!==null&&this.Ci(n.leaseTimestampMs,5e3)&&!this.Mi(n.ownerId)&&!this.Si(n)&&!(this.ai||this.allowTabSynchronization&&n.allowTabSynchronization))throw new z(B.FAILED_PRECONDITION,qf)})}wi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Oa(e).put("owner",n)}static D(){return nr.D()}yi(e){const n=Oa(e);return n.get("owner").next(r=>this.Si(r)?(U("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):L.resolve())}Ci(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Ze(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ci=()=>{this.xi();const n=/(?:Version|Mobile)\/1[456]/;AT()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var n;try{const r=((n=this.di)===null||n===void 0?void 0:n.getItem(this.Fi(e)))!==null;return U("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Ze("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(e){Ze("Failed to set zombie client id.",e)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Oa(t){return Et(t,"owner")}function ic(t){return Et(t,"clientMetadata")}function Yg(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=oe(),i=oe();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Xg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return AT()?8:rI(cd())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new M2;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Ks()<=pe.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Hs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),L.resolve()):(Ks()<=pe.DEBUG&&U("QueryEngine","Query:",Hs(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Ks()<=pe.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Hs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wt(n))):L.resolve())}ji(e,n){if(C_(n))return L.resolve(null);let r=Wt(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=md(n,null,"F"),r=Wt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=oe(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Zi(n,a);return this.Xi(n,c,o,l.readTime)?this.ji(e,md(n,null,"F")):this.es(e,c,n,l)}))})))}Hi(e,n,r,i){return C_(n)||i.isEqual(Z.min())?L.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?L.resolve(null):(Ks()<=pe.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hs(n)),this.es(e,o,n,ZT(i,-1)).next(a=>a))})}Zi(e,n){let r=new be(xI(e));return n.forEach((i,s)=>{iu(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Ks()<=pe.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Hs(n)),this.zi.getDocumentsMatchingQuery(e,n,yn.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new Pe(ie),this.rs=new Si(s=>cs(s),nu),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ux(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function hx(t,e,n,r){return new O2(t,e,n,r)}async function fx(t,e){const n=K(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=oe();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({us:c,removedBatchIds:o,addedBatchIds:a}))})})}function L2(t,e){const n=K(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const f=c.batch,p=f.keys();let g=L.resolve();return p.forEach(_=>{g=g.next(()=>d.getEntry(l,_)).next(T=>{const P=c.docVersions.get(_);J(P!==null),T.version.compareTo(P)<0&&(f.applyToRemoteDocument(T,c),T.isValidDocument()&&(T.setReadTime(c.commitVersion),d.addEntry(T)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=oe();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function px(t){const e=K(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function F2(t,e){const n=K(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(n.Qr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>n.Qr.addMatchingKeys(s,d.addedDocuments,f)));let g=p.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(dt.EMPTY_BYTE_STRING,Z.min()).withLastLimboFreeSnapshotVersion(Z.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),function(T,P,x){return T.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-T.snapshotVersion.toMicroseconds()>=3e8?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(p,g,d)&&a.push(n.Qr.updateTargetData(s,g))});let l=rn(),c=oe();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(mx(s,o,e.documentUpdates).next(d=>{l=d.cs,c=d.ls})),!r.isEqual(Z.min())){const d=n.Qr.getLastRemoteSnapshotVersion(s).next(f=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.ns=i,s))}function mx(t,e,n){let r=oe(),i=oe();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=rn();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Z.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):U("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{cs:o,ls:i}})}function B2(t,e){const n=K(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function jo(t,e){const n=K(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new pr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function zo(t,e,n){const r=K(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!xi(o))throw o;U("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function _d(t,e,n){const r=K(t);let i=Z.min(),s=oe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const f=K(l),p=f.rs.get(d);return p!==void 0?L.resolve(f.ns.get(p)):f.Qr.getTargetData(c,d)}(r,o,Wt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:Z.min(),n?s:oe())).next(a=>(vx(r,II(e),a),{documents:a,hs:s})))}function gx(t,e){const n=K(t),r=K(n.Qr),i=n.ns.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.ot(s,e).next(o=>o?o.target:null))}function yx(t,e){const n=K(t),r=n.ss.get(e)||Z.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.os.getAllFromCollectionGroup(i,e,ZT(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(vx(n,e,i),i))}function vx(t,e,n){let r=t.ss.get(e)||Z.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}async function $2(t,e,n,r){const i=K(t);let s=oe(),o=rn();for(const c of n){const d=e.Ps(c.metadata.name);c.document&&(s=s.add(d));const f=e.Is(c);f.setReadTime(e.Ts(c.metadata.readTime)),o=o.insert(d,f)}const a=i.os.newChangeBuffer({trackRemovals:!0}),l=await jo(i,function(d){return Wt(ea(de.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>mx(c,a,o).next(d=>(a.apply(c),d)).next(d=>i.Qr.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.Qr.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,d.cs,d.ls)).next(()=>d.cs)))}async function j2(t,e,n=oe()){const r=await jo(t,Wt(Gg(e.bundledQuery))),i=K(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=et(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$r.saveNamedQuery(s,e);const a=r.withResumeToken(dt.EMPTY_BYTE_STRING,o);return i.ns=i.ns.insert(a.targetId,a),i.Qr.updateTargetData(s,a).next(()=>i.Qr.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Qr.addMatchingKeys(s,n,r.targetId)).next(()=>i.$r.saveNamedQuery(s,e))})}function i1(t,e){return`firestore_clients_${t}_${e}`}function s1(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Gf(t,e){return`firestore_targets_${t}_${e}`}class wd{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Es(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new z(i.error.code,i.error.message))),o?new wd(e,n,i.state,s):(Ze("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class ll{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Es(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new z(r.error.code,r.error.message))),s?new ll(e,r.state,i):(Ze("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Ed{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Es(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Fg();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=iI(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Ed(e,s):(Ze("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Jg{constructor(e,n){this.clientId=e,this.onlineState=n}static Es(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Jg(n.clientId,n.onlineState):(Ze("SharedClientState",`Failed to parse online state: ${e}`),null)}}class cm{constructor(){this.activeTargetIds=Fg()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wf{constructor(e,n,r,i,s){this.window=e,this.oi=n,this.persistenceKey=r,this.Vs=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new Pe(ie),this.started=!1,this.ys=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.ws=i1(this.persistenceKey,this.Vs),this.Ss=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new cm),this.bs=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.vs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Fs=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const r of e){if(r===this.Vs)continue;const i=this.getItem(i1(this.persistenceKey,r));if(i){const s=Ed.Es(r,i);s&&(this.ps=this.ps.insert(s.clientId,s))}}this.Ms();const n=this.storage.getItem(this.vs);if(n){const r=this.xs(n);r&&this.Os(r)}for(const r of this.ys)this.gs(r);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let n=!1;return this.ps.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,n,r){this.Ls(e,n,r),this.Bs(e)}addLocalQueryTarget(e){let n="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Gf(this.persistenceKey,e));if(r){const i=ll.Es(e,r);i&&(n=i.state)}}return this.ks.As(e),this.Ms(),n}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Gf(this.persistenceKey,e))}updateQueryState(e,n,r){this.qs(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Bs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return U("SharedClientState","READ",e,n),n}setItem(e,n){U("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){U("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const n=e;if(n.storageArea===this.storage){if(U("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ws)return void Ze("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.bs.test(n.key)){if(n.newValue==null){const r=this.$s(n.key);return this.Us(r,null)}{const r=this.Ws(n.key,n.newValue);if(r)return this.Us(r.clientId,r)}}else if(this.Ds.test(n.key)){if(n.newValue!==null){const r=this.Gs(n.key,n.newValue);if(r)return this.zs(r)}}else if(this.Cs.test(n.key)){if(n.newValue!==null){const r=this.js(n.key,n.newValue);if(r)return this.Hs(r)}}else if(n.key===this.vs){if(n.newValue!==null){const r=this.xs(n.newValue);if(r)return this.Os(r)}}else if(n.key===this.Ss){const r=function(s){let o=tn.oe;if(s!=null)try{const a=JSON.parse(s);J(typeof a=="number"),o=a}catch(a){Ze("SharedClientState","Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==tn.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Fs){const r=this.Js(n.newValue);await Promise.all(r.map(i=>this.syncEngine.Ys(i)))}}}else this.ys.push(n)})}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,n,r){const i=new wd(this.currentUser,e,n,r),s=s1(this.persistenceKey,this.currentUser,e);this.setItem(s,i.ds())}Bs(e){const n=s1(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Qs(e){const n={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(n))}qs(e,n,r){const i=Gf(this.persistenceKey,e),s=new ll(e,n,r);this.setItem(i,s.ds())}Ks(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Fs,n)}$s(e){const n=this.bs.exec(e);return n?n[1]:null}Ws(e,n){const r=this.$s(e);return Ed.Es(r,n)}Gs(e,n){const r=this.Ds.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return wd.Es(new vt(s),i,n)}js(e,n){const r=this.Cs.exec(e),i=Number(r[1]);return ll.Es(i,n)}xs(e){return Jg.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);U("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,n){const r=n?this.ps.insert(e,n):this.ps.remove(e),i=this.Ns(this.ps),s=this.Ns(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.eo(o,a).then(()=>{this.ps=r})}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let n=Fg();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class _x{constructor(){this.no=new cm,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new cm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z2{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sc=null;function Kf(){return sc===null?sc=function(){return 268435456+Math.round(2147483648*Math.random())}():sc++,"0x"+sc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}Ao(e){this.Ro=e}onMessage(e){this.Vo=e}close(){this.ho()}send(e){this.lo(e)}mo(){this.Io()}fo(){this.Eo()}po(e){this.Ro(e)}yo(e){this.Vo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mt="WebChannelConnection";class G2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.wo=r+"://"+n.host,this.So=`projects/${i}/databases/${s}`,this.bo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Do(){return!1}Co(n,r,i,s,o){const a=Kf(),l=this.vo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const c={"google-cloud-resource-prefix":this.So,"x-goog-request-params":this.bo};return this.Fo(c,s,o),this.Mo(n,l,c,i).then(d=>(U("RestConnection",`Received RPC '${n}' ${a}: `,d),d),d=>{throw zn("RestConnection",`RPC '${n}' ${a} failed with error: `,d,"url: ",l,"request:",i),d})}xo(n,r,i,s,o,a){return this.Co(n,r,i,s,o)}Fo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Zo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}vo(n,r){const i=U2[n];return`${this.wo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Mo(e,n,r,i){const s=Kf();return new Promise((o,a)=>{const l=new qT;l.setWithCredentials(!0),l.listenOnce(WT.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case xc.NO_ERROR:const d=l.getResponseJson();U(Mt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case xc.TIMEOUT:U(Mt,`RPC '${e}' ${s} timed out`),a(new z(B.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:const f=l.getStatus();if(U(Mt,`RPC '${e}' ${s} failed with status:`,f,"response text:",l.getResponseText()),f>0){let p=l.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p==null?void 0:p.error;if(g&&g.status&&g.message){const _=function(P){const x=P.toLowerCase().replace(/_/g,"-");return Object.values(B).indexOf(x)>=0?x:B.UNKNOWN}(g.status);a(new z(_,g.message))}else a(new z(B.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new z(B.UNAVAILABLE,"Connection failed."));break;default:Q()}}finally{U(Mt,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);U(Mt,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}Oo(e,n,r){const i=Kf(),s=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=QT(),a=HT(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new GT({})),this.Fo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");U(Mt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=o.createWebChannel(d,l);let p=!1,g=!1;const _=new q2({lo:P=>{g?U(Mt,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(p||(U(Mt,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),U(Mt,`RPC '${e}' stream ${i} sending:`,P),f.send(P))},ho:()=>f.close()}),T=(P,x,E)=>{P.listen(x,I=>{try{E(I)}catch(k){setTimeout(()=>{throw k},0)}})};return T(f,qa.EventType.OPEN,()=>{g||(U(Mt,`RPC '${e}' stream ${i} transport opened.`),_.mo())}),T(f,qa.EventType.CLOSE,()=>{g||(g=!0,U(Mt,`RPC '${e}' stream ${i} transport closed`),_.po())}),T(f,qa.EventType.ERROR,P=>{g||(g=!0,zn(Mt,`RPC '${e}' stream ${i} transport errored:`,P),_.po(new z(B.UNAVAILABLE,"The operation could not be completed")))}),T(f,qa.EventType.MESSAGE,P=>{var x;if(!g){const E=P.data[0];J(!!E);const I=E,k=I.error||((x=I[0])===null||x===void 0?void 0:x.error);if(k){U(Mt,`RPC '${e}' stream ${i} received error:`,k);const M=k.status;let F=function(S){const b=rt[S];if(b!==void 0)return FI(b)}(M),v=k.message;F===void 0&&(F=B.INTERNAL,v="Unknown error status: "+M+" with message "+k.message),g=!0,_.po(new z(F,v)),f.close()}else U(Mt,`RPC '${e}' stream ${i} received:`,E),_.yo(E)}}),T(a,KT.STAT_EVENT,P=>{P.stat===Hp.PROXY?U(Mt,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===Hp.NOPROXY&&U(Mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.fo()},0),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wx(){return typeof window<"u"?window:null}function kc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lu(t){return new Zk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.No=r,this.Lo=i,this.Bo=s,this.ko=0,this.qo=null,this.Qo=Date.now(),this.reset()}reset(){this.ko=0}Ko(){this.ko=this.Bo}$o(e){this.cancel();const n=Math.floor(this.ko+this.Uo()),r=Math.max(0,Date.now()-this.Qo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.qo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Qo=Date.now(),e())),this.ko*=this.Lo,this.ko<this.No&&(this.ko=this.No),this.ko>this.Bo&&(this.ko=this.Bo)}Wo(){this.qo!==null&&(this.qo.skipDelay(),this.qo=null)}cancel(){this.qo!==null&&(this.qo.cancel(),this.qo=null)}Uo(){return(Math.random()-.5)*this.ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.Go=r,this.zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.jo=0,this.Ho=null,this.Jo=null,this.stream=null,this.Yo=new Zg(e,n)}Zo(){return this.state===1||this.state===5||this.Xo()}Xo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.e_()}async stop(){this.Zo()&&await this.close(0)}t_(){this.state=0,this.Yo.reset()}n_(){this.Xo()&&this.Ho===null&&(this.Ho=this.oi.enqueueAfterDelay(this.Go,6e4,()=>this.r_()))}i_(e){this.s_(),this.stream.send(e)}async r_(){if(this.Xo())return this.close(0)}s_(){this.Ho&&(this.Ho.cancel(),this.Ho=null)}o_(){this.Jo&&(this.Jo.cancel(),this.Jo=null)}async close(e,n){this.s_(),this.o_(),this.Yo.cancel(),this.jo++,e!==4?this.Yo.reset():n&&n.code===B.RESOURCE_EXHAUSTED?(Ze(n.toString()),Ze("Using maximum backoff delay to prevent overloading the backend."),this.Yo.Ko()):n&&n.code===B.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.__(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Ao(n)}__(){}auth(){this.state=1;const e=this.a_(this.jo),n=this.jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.jo===n&&this.u_(r,i)},r=>{e(()=>{const i=new z(B.UNKNOWN,"Fetching auth token failed: "+r.message);return this.c_(i)})})}u_(e,n){const r=this.a_(this.jo);this.stream=this.l_(e,n),this.stream.Po(()=>{r(()=>this.listener.Po())}),this.stream.To(()=>{r(()=>(this.state=2,this.Jo=this.oi.enqueueAfterDelay(this.zo,1e4,()=>(this.Xo()&&(this.state=3),Promise.resolve())),this.listener.To()))}),this.stream.Ao(i=>{r(()=>this.c_(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}e_(){this.state=5,this.Yo.$o(async()=>{this.state=0,this.start()})}c_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}a_(e){return n=>{this.oi.enqueueAndForget(()=>this.jo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class W2 extends Ex{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}l_(e,n){return this.connection.Oo("Listen",e,n)}onMessage(e){this.Yo.reset();const n=n2(this.serializer,e),r=function(s){if(!("targetChange"in s))return Z.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Z.min():o.readTime?et(o.readTime):Z.min()}(e);return this.listener.h_(n,r)}P_(e){const n={};n.database=sm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=fd(l)?{documents:HI(s,l)}:{query:QI(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=zI(s,o.resumeToken);const c=rm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(Z.min())>0){a.readTime=$o(s,o.snapshotVersion.toTimestamp());const c=rm(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=i2(this.serializer,e);r&&(n.labels=r),this.i_(n)}I_(e){const n={};n.database=sm(this.serializer),n.removeTarget=e,this.i_(n)}}class K2 extends Ex{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.T_=!1}get E_(){return this.T_}start(){this.T_=!1,this.lastStreamToken=void 0,super.start()}__(){this.T_&&this.d_([])}l_(e,n){return this.connection.Oo("Write",e,n)}onMessage(e){if(J(!!e.streamToken),this.lastStreamToken=e.streamToken,this.T_){this.Yo.reset();const n=r2(e.writeResults,e.commitTime),r=et(e.commitTime);return this.listener.A_(r,n)}return J(!e.writeResults||e.writeResults.length===0),this.T_=!0,this.listener.R_()}V_(){const e={};e.database=sm(this.serializer),this.i_(e)}d_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>$l(this.serializer,r))};this.i_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.m_=!1}f_(){if(this.m_)throw new z(B.FAILED_PRECONDITION,"The client has already been terminated.")}Co(e,n,r,i){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Co(e,im(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(B.UNKNOWN,s.toString())})}xo(e,n,r,i,s){return this.f_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.xo(e,im(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===B.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(B.UNKNOWN,o.toString())})}terminate(){this.m_=!0,this.connection.terminate()}}class Q2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.g_=0,this.p_=null,this.y_=!0}w_(){this.g_===0&&(this.S_("Unknown"),this.p_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.p_=null,this.b_("Backend didn't respond within 10 seconds."),this.S_("Offline"),Promise.resolve())))}D_(e){this.state==="Online"?this.S_("Unknown"):(this.g_++,this.g_>=1&&(this.C_(),this.b_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.S_("Offline")))}set(e){this.C_(),this.g_=0,e==="Online"&&(this.y_=!1),this.S_(e)}S_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}b_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.y_?(Ze(n),this.y_=!1):U("OnlineStateTracker",n)}C_(){this.p_!==null&&(this.p_.cancel(),this.p_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.v_=[],this.F_=new Map,this.M_=new Set,this.x_=[],this.O_=s,this.O_.io(o=>{r.enqueueAndForget(async()=>{bi(this)&&(U("RemoteStore","Restarting streams for network reachability change."),await async function(l){const c=K(l);c.M_.add(4),await ra(c),c.N_.set("Unknown"),c.M_.delete(4),await uu(c)}(this))})}),this.N_=new Q2(r,i)}}async function uu(t){if(bi(t))for(const e of t.x_)await e(!0)}async function ra(t){for(const e of t.x_)await e(!1)}function eh(t,e){const n=K(t);n.F_.has(e.targetId)||(n.F_.set(e.targetId,e),ny(n)?ty(n):sa(n).Xo()&&ey(n,e))}function Uo(t,e){const n=K(t),r=sa(n);n.F_.delete(e),r.Xo()&&Tx(n,e),n.F_.size===0&&(r.Xo()?r.n_():bi(n)&&n.N_.set("Unknown"))}function ey(t,e){if(t.L_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Z.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sa(t).P_(e)}function Tx(t,e){t.L_.xe(e),sa(t).I_(e)}function ty(t){t.L_=new Qk({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.F_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),sa(t).start(),t.N_.w_()}function ny(t){return bi(t)&&!sa(t).Zo()&&t.F_.size>0}function bi(t){return K(t).M_.size===0}function Ix(t){t.L_=void 0}async function X2(t){t.N_.set("Online")}async function J2(t){t.F_.forEach((e,n)=>{ey(t,e)})}async function Z2(t,e){Ix(t),ny(t)?(t.N_.D_(e),ty(t)):t.N_.set("Unknown")}async function eD(t,e,n){if(t.N_.set("Online"),e instanceof jI&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.F_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.F_.delete(a),i.L_.removeTarget(a))}(t,e)}catch(r){U("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Td(t,r)}else if(e instanceof Pc?t.L_.Ke(e):e instanceof $I?t.L_.He(e):t.L_.We(e),!n.isEqual(Z.min()))try{const r=await px(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.L_.rt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.F_.get(c);d&&s.F_.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.F_.get(l);if(!d)return;s.F_.set(l,d.withResumeToken(dt.EMPTY_BYTE_STRING,d.snapshotVersion)),Tx(s,l);const f=new pr(d.target,l,c,d.sequenceNumber);ey(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){U("RemoteStore","Failed to raise snapshot:",r),await Td(t,r)}}async function Td(t,e,n){if(!xi(e))throw e;t.M_.add(1),await ra(t),t.N_.set("Offline"),n||(n=()=>px(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{U("RemoteStore","Retrying IndexedDB access"),await n(),t.M_.delete(1),await uu(t)})}function xx(t,e){return e().catch(n=>Td(t,n,e))}async function ia(t){const e=K(t),n=yi(e);let r=e.v_.length>0?e.v_[e.v_.length-1].batchId:-1;for(;tD(e);)try{const i=await B2(e.localStore,r);if(i===null){e.v_.length===0&&n.n_();break}r=i.batchId,nD(e,i)}catch(i){await Td(e,i)}Sx(e)&&bx(e)}function tD(t){return bi(t)&&t.v_.length<10}function nD(t,e){t.v_.push(e);const n=yi(t);n.Xo()&&n.E_&&n.d_(e.mutations)}function Sx(t){return bi(t)&&!yi(t).Zo()&&t.v_.length>0}function bx(t){yi(t).start()}async function rD(t){yi(t).V_()}async function iD(t){const e=yi(t);for(const n of t.v_)e.d_(n.mutations)}async function sD(t,e,n){const r=t.v_.shift(),i=jg.from(r,e,n);await xx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ia(t)}async function oD(t,e){e&&yi(t).E_&&await async function(r,i){if(function(o){return LI(o)&&o!==B.ABORTED}(i.code)){const s=r.v_.shift();yi(r).t_(),await xx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ia(r)}}(t,e),Sx(t)&&bx(t)}async function a1(t,e){const n=K(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");const r=bi(n);n.M_.add(3),await ra(n),r&&n.N_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.M_.delete(3),await uu(n)}async function dm(t,e){const n=K(t);e?(n.M_.delete(2),await uu(n)):e||(n.M_.add(2),await ra(n),n.N_.set("Unknown"))}function sa(t){return t.B_||(t.B_=function(n,r,i){const s=K(n);return s.f_(),new W2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:X2.bind(null,t),To:J2.bind(null,t),Ao:Z2.bind(null,t),h_:eD.bind(null,t)}),t.x_.push(async e=>{e?(t.B_.t_(),ny(t)?ty(t):t.N_.set("Unknown")):(await t.B_.stop(),Ix(t))})),t.B_}function yi(t){return t.k_||(t.k_=function(n,r,i){const s=K(n);return s.f_(),new K2(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:()=>Promise.resolve(),To:rD.bind(null,t),Ao:oD.bind(null,t),R_:iD.bind(null,t),A_:sD.bind(null,t)}),t.x_.push(async e=>{e?(t.k_.t_(),await ia(t)):(await t.k_.stop(),t.v_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.v_.length} pending writes`),t.v_=[]))})),t.k_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new ry(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(B.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function oa(t,e){if(Ze("AsyncQueue",`${e}: ${t}`),xi(t))return new z(B.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||W.comparator(n.key,r.key):(n,r)=>W.comparator(n.key,r.key),this.keyedMap=Ga(),this.sortedSet=new Pe(this.comparator)}static emptySet(e){return new Eo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Eo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Eo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(){this.q_=new Pe(W.comparator)}track(e){const n=e.doc.key,r=this.q_.get(n);r?e.type!==0&&r.type===3?this.q_=this.q_.insert(n,e):e.type===3&&r.type!==1?this.q_=this.q_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.q_=this.q_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.q_=this.q_.remove(n):e.type===1&&r.type===2?this.q_=this.q_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.q_=this.q_.insert(n,{type:2,doc:e.doc}):Q():this.q_=this.q_.insert(n,e)}Q_(){const e=[];return this.q_.inorderTraversal((n,r)=>{e.push(r)}),e}}class qo{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new qo(e,n,Eo.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ru(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(){this.K_=void 0,this.U_=[]}W_(){return this.U_.some(e=>e.G_())}}class lD{constructor(){this.queries=new Si(e=>TI(e),ru),this.onlineState="Unknown",this.z_=new Set}}async function iy(t,e){const n=K(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.W_()&&e.G_()&&(r=2):(s=new aD,r=e.G_()?0:1);try{switch(r){case 0:s.K_=await n.onListen(i,!0);break;case 1:s.K_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=oa(o,`Initialization of query '${Hs(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.U_.push(e),e.j_(n.onlineState),s.K_&&e.H_(s.K_)&&oy(n)}async function sy(t,e){const n=K(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.U_.indexOf(e);o>=0&&(s.U_.splice(o,1),s.U_.length===0?i=e.G_()?0:1:!s.W_()&&e.G_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function uD(t,e){const n=K(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.U_)a.H_(i)&&(r=!0);o.K_=i}}r&&oy(n)}function cD(t,e,n){const r=K(t),i=r.queries.get(e);if(i)for(const s of i.U_)s.onError(n);r.queries.delete(e)}function oy(t){t.z_.forEach(e=>{e.next()})}var hm,u1;(u1=hm||(hm={})).J_="default",u1.Cache="cache";class ay{constructor(e,n,r){this.query=e,this.Y_=n,this.Z_=!1,this.X_=null,this.onlineState="Unknown",this.options=r||{}}H_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new qo(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Z_?this.ea(e)&&(this.Y_.next(e),n=!0):this.ta(e,this.onlineState)&&(this.na(e),n=!0),this.X_=e,n}onError(e){this.Y_.error(e)}j_(e){this.onlineState=e;let n=!1;return this.X_&&!this.Z_&&this.ta(this.X_,e)&&(this.na(this.X_),n=!0),n}ta(e,n){if(!e.fromCache||!this.G_())return!0;const r=n!=="Offline";return(!this.options.ra||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ea(e){if(e.docChanges.length>0)return!0;const n=this.X_&&this.X_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}na(e){e=qo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Z_=!0,this.Y_.next(e)}G_(){return this.options.source!==hm.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e,n){this.ia=e,this.byteLength=n}sa(){return"metadata"in this.ia}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e){this.serializer=e}Ps(e){return rr(this.serializer,e)}Is(e){return e.metadata.exists?KI(this.serializer,e.document,!1):Ve.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return et(e)}}class hD{constructor(e,n,r){this.oa=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Rx(e)}_a(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.ia.namedQuery)this.queries.push(e.ia.namedQuery);else if(e.ia.documentMetadata){this.documents.push({metadata:e.ia.documentMetadata}),e.ia.documentMetadata.exists||++n;const r=de.fromString(e.ia.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.ia.document&&(this.documents[this.documents.length-1].document=e.ia.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}aa(e){const n=new Map,r=new c1(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Ps(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||oe()).add(s);n.set(o,a)}}return n}async complete(){const e=await $2(this.localStore,new c1(this.serializer),this.documents,this.oa.id),n=this.aa(this.documents);for(const r of this.queries)await j2(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,ua:this.collectionGroups,ca:e}}}function Rx(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.key=e}}class Cx{constructor(e){this.key=e}}class Px{constructor(e,n){this.query=e,this.la=n,this.ha=null,this.hasCachedResults=!1,this.current=!1,this.Pa=oe(),this.mutatedKeys=oe(),this.Ia=xI(e),this.Ta=new Eo(this.Ia)}get Ea(){return this.la}da(e,n){const r=n?n.Aa:new l1,i=n?n.Ta:this.Ta;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),g=iu(this.query,f)?f:null,_=!!p&&this.mutatedKeys.has(p.key),T=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let P=!1;p&&g?p.data.isEqual(g.data)?_!==T&&(r.track({type:3,doc:g}),P=!0):this.Ra(p,g)||(r.track({type:2,doc:g}),P=!0,(l&&this.Ia(g,l)>0||c&&this.Ia(g,c)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),P=!0):p&&!g&&(r.track({type:1,doc:p}),P=!0,(l||c)&&(a=!0)),P&&(g?(o=o.add(g),s=T?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ta:o,Aa:r,Xi:a,mutatedKeys:s}}Ra(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.Ta;this.Ta=e.Ta,this.mutatedKeys=e.mutatedKeys;const o=e.Aa.Q_();o.sort((d,f)=>function(g,_){const T=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Q()}};return T(g)-T(_)}(d.type,f.type)||this.Ia(d.doc,f.doc)),this.Va(r),i=i!=null&&i;const a=n&&!i?this.ma():[],l=this.Pa.size===0&&this.current&&!i?1:0,c=l!==this.ha;return this.ha=l,o.length!==0||c?{snapshot:new qo(this.query,e.Ta,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),fa:a}:{fa:a}}j_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ta:this.Ta,Aa:new l1,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{fa:[]}}ga(e){return!this.la.has(e)&&!!this.Ta.has(e)&&!this.Ta.get(e).hasLocalMutations}Va(e){e&&(e.addedDocuments.forEach(n=>this.la=this.la.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.la=this.la.delete(n)),this.current=e.current)}ma(){if(!this.current)return[];const e=this.Pa;this.Pa=oe(),this.Ta.forEach(r=>{this.ga(r.key)&&(this.Pa=this.Pa.add(r.key))});const n=[];return e.forEach(r=>{this.Pa.has(r)||n.push(new Cx(r))}),this.Pa.forEach(r=>{e.has(r)||n.push(new Ax(r))}),n}pa(e){this.la=e.hs,this.Pa=oe();const n=this.da(e.documents);return this.applyChanges(n,!0)}ya(){return qo.fromInitialDocuments(this.query,this.Ta,this.mutatedKeys,this.ha===0,this.hasCachedResults)}}class fD{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class pD{constructor(e){this.key=e,this.wa=!1}}class mD{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Sa={},this.ba=new Si(a=>TI(a),ru),this.Da=new Map,this.Ca=new Set,this.va=new Pe(W.comparator),this.Fa=new Map,this.Ma=new Hg,this.xa={},this.Oa=new Map,this.Na=ms.Ln(),this.onlineState="Unknown",this.La=void 0}get isPrimaryClient(){return this.La===!0}}async function gD(t,e,n=!0){const r=th(t);let i;const s=r.ba.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ya()):i=await kx(r,e,n,!0),i}async function yD(t,e){const n=th(t);await kx(n,e,!0,!1)}async function kx(t,e,n,r){const i=await jo(t.localStore,Wt(e)),s=i.targetId,o=n?t.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await ly(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&eh(t.remoteStore,i),a}async function ly(t,e,n,r,i){t.Ba=(f,p,g)=>async function(T,P,x,E){let I=P.view.da(x);I.Xi&&(I=await _d(T.localStore,P.query,!1).then(({documents:v})=>P.view.da(v,I)));const k=E&&E.targetChanges.get(P.targetId),M=E&&E.targetMismatches.get(P.targetId)!=null,F=P.view.applyChanges(I,T.isPrimaryClient,k,M);return fm(T,P.targetId,F.fa),F.snapshot}(t,f,p,g);const s=await _d(t.localStore,e,!0),o=new Px(e,s.hs),a=o.da(s.documents),l=au.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);fm(t,n,c.fa);const d=new fD(e,n,o);return t.ba.set(e,d),t.Da.has(n)?t.Da.get(n).push(e):t.Da.set(n,[e]),c.snapshot}async function vD(t,e,n){const r=K(t),i=r.ba.get(e),s=r.Da.get(i.targetId);if(s.length>1)return r.Da.set(i.targetId,s.filter(o=>!ru(o,e))),void r.ba.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zo(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Uo(r.remoteStore,i.targetId),Go(r,i.targetId)}).catch(Ii)):(Go(r,i.targetId),await zo(r.localStore,i.targetId,!0))}async function _D(t,e){const n=K(t),r=n.ba.get(e),i=n.Da.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Uo(n.remoteStore,r.targetId))}async function wD(t,e,n){const r=hy(t);try{const i=await function(o,a){const l=K(o),c=Be.now(),d=a.reduce((g,_)=>g.add(_.key),oe());let f,p;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let _=rn(),T=oe();return l.os.getEntries(g,d).next(P=>{_=P,_.forEach((x,E)=>{E.isValidDocument()||(T=T.add(x))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,_)).next(P=>{f=P;const x=[];for(const E of a){const I=Wk(E,f.get(E.key).overlayedDocument);I!=null&&x.push(new Ar(E.key,I,fI(I.value.mapValue),Fe.exists(!0)))}return l.mutationQueue.addMutationBatch(g,c,x,a)}).next(P=>{p=P;const x=P.applyToLocalDocumentSet(f,T);return l.documentOverlayCache.saveOverlays(g,P.batchId,x)})}).then(()=>({batchId:p.batchId,changes:bI(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.xa[o.currentUser.toKey()];c||(c=new Pe(ie)),c=c.insert(a,l),o.xa[o.currentUser.toKey()]=c}(r,i.batchId,n),await Cr(r,i.changes),await ia(r.remoteStore)}catch(i){const s=oa(i,"Failed to persist write");n.reject(s)}}async function Dx(t,e){const n=K(t);try{const r=await F2(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Fa.get(s);o&&(J(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.wa=!0:i.modifiedDocuments.size>0?J(o.wa):i.removedDocuments.size>0&&(J(o.wa),o.wa=!1))}),await Cr(n,r,e)}catch(r){await Ii(r)}}function d1(t,e,n){const r=K(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ba.forEach((s,o)=>{const a=o.view.j_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=K(o);l.onlineState=a;let c=!1;l.queries.forEach((d,f)=>{for(const p of f.U_)p.j_(a)&&(c=!0)}),c&&oy(l)}(r.eventManager,e),i.length&&r.Sa.h_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ED(t,e,n){const r=K(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fa.get(e),s=i&&i.key;if(s){let o=new Pe(W.comparator);o=o.insert(s,Ve.newNoDocument(s,Z.min()));const a=oe().add(s),l=new ou(Z.min(),new Map,new Pe(ie),o,a);await Dx(r,l),r.va=r.va.remove(s),r.Fa.delete(e),dy(r)}else await zo(r.localStore,e,!1).then(()=>Go(r,e,n)).catch(Ii)}async function TD(t,e){const n=K(t),r=e.batch.batchId;try{const i=await L2(n.localStore,e);cy(n,r,null),uy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cr(n,i)}catch(i){await Ii(i)}}async function ID(t,e,n){const r=K(t);try{const i=await function(o,a){const l=K(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(f=>(J(f!==null),d=f.keys(),l.mutationQueue.removeMutationBatch(c,f))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);cy(r,e,n),uy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Cr(r,i)}catch(i){await Ii(i)}}async function xD(t,e){const n=K(t);bi(n.remoteStore)||U("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=K(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.Oa.get(r)||[];i.push(e),n.Oa.set(r,i)}catch(r){const i=oa(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function uy(t,e){(t.Oa.get(e)||[]).forEach(n=>{n.resolve()}),t.Oa.delete(e)}function cy(t,e,n){const r=K(t);let i=r.xa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.xa[r.currentUser.toKey()]=i}}function Go(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Da.get(e))t.ba.delete(r),n&&t.Sa.ka(r,n);t.Da.delete(e),t.isPrimaryClient&&t.Ma.Vr(e).forEach(r=>{t.Ma.containsKey(r)||Vx(t,r)})}function Vx(t,e){t.Ca.delete(e.path.canonicalString());const n=t.va.get(e);n!==null&&(Uo(t.remoteStore,n),t.va=t.va.remove(e),t.Fa.delete(n),dy(t))}function fm(t,e,n){for(const r of n)r instanceof Ax?(t.Ma.addReference(r.key,e),SD(t,r)):r instanceof Cx?(U("SyncEngine","Document no longer in limbo: "+r.key),t.Ma.removeReference(r.key,e),t.Ma.containsKey(r.key)||Vx(t,r.key)):Q()}function SD(t,e){const n=e.key,r=n.path.canonicalString();t.va.get(n)||t.Ca.has(r)||(U("SyncEngine","New document in limbo: "+n),t.Ca.add(r),dy(t))}function dy(t){for(;t.Ca.size>0&&t.va.size<t.maxConcurrentLimboResolutions;){const e=t.Ca.values().next().value;t.Ca.delete(e);const n=new W(de.fromString(e)),r=t.Na.next();t.Fa.set(r,new pD(n)),t.va=t.va.insert(n,r),eh(t.remoteStore,new pr(Wt(ea(n.path)),r,"TargetPurposeLimboResolution",tn.oe))}}async function Cr(t,e,n){const r=K(t),i=[],s=[],o=[];r.ba.isEmpty()||(r.ba.forEach((a,l)=>{o.push(r.Ba(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const f=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(c){i.push(c);const f=Xg.Ki(l.targetId,c);s.push(f)}}))}),await Promise.all(o),r.Sa.h_(i),await async function(l,c){const d=K(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>L.forEach(c,p=>L.forEach(p.qi,g=>d.persistence.referenceDelegate.addReference(f,p.targetId,g)).next(()=>L.forEach(p.Qi,g=>d.persistence.referenceDelegate.removeReference(f,p.targetId,g)))))}catch(f){if(!xi(f))throw f;U("LocalStore","Failed to update sequence numbers: "+f)}for(const f of c){const p=f.targetId;if(!f.fromCache){const g=d.ns.get(p),_=g.snapshotVersion,T=g.withLastLimboFreeSnapshotVersion(_);d.ns=d.ns.insert(p,T)}}}(r.localStore,s))}async function bD(t,e){const n=K(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());const r=await fx(n.localStore,e);n.currentUser=e,function(s,o){s.Oa.forEach(a=>{a.forEach(l=>{l.reject(new z(B.CANCELLED,o))})}),s.Oa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Cr(n,r.us)}}function RD(t,e){const n=K(t),r=n.Fa.get(e);if(r&&r.wa)return oe().add(r.key);{let i=oe();const s=n.Da.get(e);if(!s)return i;for(const o of s){const a=n.ba.get(o);i=i.unionWith(a.view.Ea)}return i}}async function AD(t,e){const n=K(t),r=await _d(n.localStore,e.query,!0),i=e.view.pa(r);return n.isPrimaryClient&&fm(n,e.targetId,i.fa),i}async function CD(t,e){const n=K(t);return yx(n.localStore,e).then(r=>Cr(n,r))}async function PD(t,e,n,r){const i=K(t),s=await function(a,l){const c=K(a),d=K(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",f=>d.vn(f,l).next(p=>p?c.localDocuments.getDocuments(f,p):L.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await ia(i.remoteStore):n==="acknowledged"||n==="rejected"?(cy(i,e,r||null),uy(i,e),function(a,l){K(K(a).mutationQueue).Mn(l)}(i.localStore,e)):Q(),await Cr(i,s)):U("SyncEngine","Cannot apply mutation batch with id: "+e)}async function kD(t,e){const n=K(t);if(th(n),hy(n),e===!0&&n.La!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await h1(n,r.toArray());n.La=!0,await dm(n.remoteStore,!0);for(const s of i)eh(n.remoteStore,s)}else if(e===!1&&n.La!==!1){const r=[];let i=Promise.resolve();n.Da.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Go(n,o),zo(n.localStore,o,!0))),Uo(n.remoteStore,o)}),await i,await h1(n,r),function(o){const a=K(o);a.Fa.forEach((l,c)=>{Uo(a.remoteStore,c)}),a.Ma.mr(),a.Fa=new Map,a.va=new Pe(W.comparator)}(n),n.La=!1,await dm(n.remoteStore,!1)}}async function h1(t,e,n){const r=K(t),i=[],s=[];for(const o of e){let a;const l=r.Da.get(o);if(l&&l.length!==0){a=await jo(r.localStore,Wt(l[0]));for(const c of l){const d=r.ba.get(c),f=await AD(r,d);f.snapshot&&s.push(f.snapshot)}}else{const c=await gx(r.localStore,o);a=await jo(r.localStore,c),await ly(r,Nx(c),o,!1,a.resumeToken)}i.push(a)}return r.Sa.h_(s),i}function Nx(t){return EI(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function DD(t){return function(n){return K(K(n).persistence).Bi()}(K(t).localStore)}async function VD(t,e,n,r){const i=K(t);if(i.La)return void U("SyncEngine","Ignoring unexpected query state notification.");const s=i.Da.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await yx(i.localStore,II(s[0])),a=ou.createSynthesizedRemoteEventForCurrentChange(e,n==="current",dt.EMPTY_BYTE_STRING);await Cr(i,o,a);break}case"rejected":await zo(i.localStore,e,!0),Go(i,e,r);break;default:Q()}}async function ND(t,e,n){const r=th(t);if(r.La){for(const i of e){if(r.Da.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){U("SyncEngine","Adding an already active target "+i);continue}const s=await gx(r.localStore,i),o=await jo(r.localStore,s);await ly(r,Nx(s),o.targetId,!1,o.resumeToken),eh(r.remoteStore,o)}for(const i of n)r.Da.has(i)&&await zo(r.localStore,i,!1).then(()=>{Uo(r.remoteStore,i),Go(r,i)}).catch(Ii)}}function th(t){const e=K(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Dx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=RD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ED.bind(null,e),e.Sa.h_=uD.bind(null,e.eventManager),e.Sa.ka=cD.bind(null,e.eventManager),e}function hy(t){const e=K(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ID.bind(null,e),e}function MD(t,e,n){const r=K(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(g,_){const T=K(g),P=et(_.createTime);return T.persistence.runTransaction("hasNewerBundle","readonly",x=>T.$r.getBundleMetadata(x,_.id)).then(x=>!!x&&x.createTime.compareTo(P)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(g){return{taskState:"Success",documentsLoaded:g.totalDocuments,bytesLoaded:g.totalBytes,totalDocuments:g.totalDocuments,totalBytes:g.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(Rx(l));const c=new hD(l,s.localStore,o.serializer);let d=await o.qa();for(;d;){const p=await c._a(d);p&&a._updateProgress(p),d=await o.qa()}const f=await c.complete();return await Cr(s,f.ca,void 0),await function(g,_){const T=K(g);return T.persistence.runTransaction("Save bundle","readwrite",P=>T.$r.saveBundleMetadata(P,_))}(s.localStore,l),a._completeWith(f.progress),Promise.resolve(f.ua)}catch(l){return zn("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class pm{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=lu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return hx(this.persistence,new dx,e.initialUser,this.serializer)}createPersistence(e){return new cx(Zd.Hr,this.serializer)}createSharedClientState(e){return new _x}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Mx extends pm{constructor(e,n,r){super(),this.Qa=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Qa.initialize(this,e),await hy(this.Qa.syncEngine),await ia(this.Qa.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(e){return hx(this.persistence,new dx,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new w2(r,e.asyncQueue,n)}createIndexBackfillerScheduler(e,n){const r=new rk(n,this.persistence);return new nk(e.asyncQueue,r)}createPersistence(e){const n=Yg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new Qg(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,wx(),kc(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new _x}}class OD extends Mx{constructor(e,n){super(e,n,!1),this.Qa=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Qa.syncEngine;this.sharedClientState instanceof Wf&&(this.sharedClientState.syncEngine={Zs:PD.bind(null,n),Xs:VD.bind(null,n),eo:ND.bind(null,n),Bi:DD.bind(null,n),Ys:CD.bind(null,n)},await this.sharedClientState.start()),await this.persistence.fi(async r=>{await kD(this.Qa.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}createSharedClientState(e){const n=wx();if(!Wf.D(n))throw new z(B.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Yg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wf(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class fy{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>d1(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bD.bind(null,this.syncEngine),await dm(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lD}()}createDatastore(e){const n=lu(e.databaseInfo.databaseId),r=function(s){return new G2(s)}(e.databaseInfo);return function(s,o,a,l){return new H2(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new Y2(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>d1(this.syncEngine,n,0),function(){return o1.D()?new o1:new z2}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const f=new mD(i,s,o,a,l,c);return d&&(f.La=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=K(r);U("RemoteStore","RemoteStore shutting down."),i.M_.add(5),await ra(i),i.O_.shutdown(),i.N_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f1(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ka(this.observer.next,e)}error(e){this.observer.error?this.Ka(this.observer.error,e):Ze("Uncaught Error in snapshot listener:",e.toString())}$a(){this.muted=!0}Ka(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(e,n){this.Ua=e,this.serializer=n,this.metadata=new wt,this.buffer=new Uint8Array,this.Wa=function(){return new TextDecoder("utf-8")}(),this.Ga().then(r=>{r&&r.sa()?this.metadata.resolve(r.ia.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.ia)}`))},r=>this.metadata.reject(r))}close(){return this.Ua.cancel()}async getMetadata(){return this.metadata.promise}async qa(){return await this.getMetadata(),this.Ga()}async Ga(){const e=await this.za();if(e===null)return null;const n=this.Wa.decode(e),r=Number(n);isNaN(r)&&this.ja(`length string (${n}) is not valid number`);const i=await this.Ha(r);return new dD(JSON.parse(i),e.length+r)}Ja(){return this.buffer.findIndex(e=>e===123)}async za(){for(;this.Ja()<0&&!await this.Ya(););if(this.buffer.length===0)return null;const e=this.Ja();e<0&&this.ja("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Ha(e){for(;this.buffer.length<e;)await this.Ya()&&this.ja("Reached the end of bundle when more is expected.");const n=this.Wa.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}ja(e){throw this.Ua.cancel(),new Error(`Invalid bundle format: ${e}`)}async Ya(){const e=await this.Ua.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FD{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new z(B.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=K(i),a={documents:s.map(f=>Bl(o.serializer,f))},l=await o.xo("BatchGetDocuments",o.serializer.databaseId,de.emptyPath(),a,s.length),c=new Map;l.forEach(f=>{const p=t2(o.serializer,f);c.set(p.key.toString(),p)});const d=[];return s.forEach(f=>{const p=c.get(f.toString());J(!!p),d.push(p)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new na(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=W.fromPath(r);this.mutations.push(new Bg(i,this.precondition(i)))}),await async function(r,i){const s=K(r),o={writes:i.map(a=>$l(s.serializer,a))};await s.Co("Commit",s.serializer.databaseId,de.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw Q();n=Z.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new z(B.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(Z.min())?Fe.exists(!1):Fe.updateTime(n):Fe.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(Z.min()))throw new z(B.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Fe.updateTime(n)}return Fe.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Za=r.maxAttempts,this.Yo=new Zg(this.asyncQueue,"transaction_retry")}Xa(){this.Za-=1,this.eu()}eu(){this.Yo.$o(async()=>{const e=new FD(this.datastore),n=this.tu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.nu(i)}))}).catch(r=>{this.nu(r)})})}tu(e){try{const n=this.updateFunction(e);return!tu(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}nu(e){this.Za>0&&this.ru(e)?(this.Za-=1,this.asyncQueue.enqueueAndForget(()=>(this.eu(),Promise.resolve()))):this.deferred.reject(e)}ru(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!LI(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $D{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=XT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{U("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(U("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(B.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new wt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=oa(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Dc(t,e){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fx(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function mm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await py(t);U("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>a1(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>a1(e.remoteStore,i)),t._onlineComponents=e}function Ox(t){return t.name==="FirebaseError"?t.code===B.FAILED_PRECONDITION||t.code===B.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function py(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{await Dc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!Ox(n))throw n;zn("Error using user provided cache. Falling back to memory cache: "+n),await Dc(t,new pm)}}else U("FirestoreClient","Using default OfflineComponentProvider"),await Dc(t,new pm);return t._offlineComponents}async function rh(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),await mm(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),await mm(t,new fy))),t._onlineComponents}function Lx(t){return py(t).then(e=>e.persistence)}function my(t){return py(t).then(e=>e.localStore)}function Fx(t){return rh(t).then(e=>e.remoteStore)}function gy(t){return rh(t).then(e=>e.syncEngine)}function jD(t){return rh(t).then(e=>e.datastore)}async function Wo(t){const e=await rh(t),n=e.eventManager;return n.onListen=gD.bind(null,e.syncEngine),n.onUnlisten=vD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_D.bind(null,e.syncEngine),n}function zD(t){return t.asyncQueue.enqueue(async()=>{const e=await Lx(t),n=await Fx(t);return e.setNetworkEnabled(!0),function(i){const s=K(i);return s.M_.delete(0),uu(s)}(n)})}function UD(t){return t.asyncQueue.enqueue(async()=>{const e=await Lx(t),n=await Fx(t);return e.setNetworkEnabled(!1),async function(i){const s=K(i);s.M_.add(0),await ra(s),s.N_.set("Offline")}(n)})}function qD(t,e){const n=new wt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(c,d){const f=K(c);return f.persistence.runTransaction("read document","readonly",p=>f.localDocuments.getDocument(p,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new z(B.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=oa(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await my(t),e,n)),n.promise}function Bx(t,e,n={}){const r=new wt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new nh({next:p=>{o.enqueueAndForget(()=>sy(s,f));const g=p.docs.has(a);!g&&p.fromCache?c.reject(new z(B.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&l&&l.source==="server"?c.reject(new z(B.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new ay(ea(a.path),d,{includeMetadataChanges:!0,ra:!0});return iy(s,f)}(await Wo(t),t.asyncQueue,e,n,r)),r.promise}function GD(t,e){const n=new wt;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await _d(i,s,!0),l=new Px(s,a.hs),c=l.da(a.documents),d=l.applyChanges(c,!1);o.resolve(d.snapshot)}catch(a){const l=oa(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await my(t),e,n)),n.promise}function $x(t,e,n={}){const r=new wt;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new nh({next:p=>{o.enqueueAndForget(()=>sy(s,f)),p.fromCache&&l.source==="server"?c.reject(new z(B.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(p)},error:p=>c.reject(p)}),f=new ay(a,d,{includeMetadataChanges:!0,ra:!0});return iy(s,f)}(await Wo(t),t.asyncQueue,e,n,r)),r.promise}function WD(t,e){const n=new nh(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){K(i).z_.add(s),s.next()}(await Wo(t),n)),()=>{n.$a(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){K(i).z_.delete(s)}(await Wo(t),n))}}function KD(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?BI().encode(o):o,function(d,f){return new LD(d,f)}(function(d,f){if(d instanceof Uint8Array)return f1(d,f);if(d instanceof ArrayBuffer)return f1(new Uint8Array(d),f);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,lu(e));t.asyncQueue.enqueueAndForget(async()=>{MD(await gy(t),i,r)})}function HD(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=K(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.$r.getNamedQuery(o,i))}(await my(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t,e,n){if(!n)throw new z(B.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zx(t,e,n,r){if(e===!0&&r===!0)throw new z(B.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function m1(t){if(!W.isDocumentKey(t))throw new z(B.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function g1(t){if(W.isDocumentKey(t))throw new z(B.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ih(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Q()}function ve(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(B.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ih(t);throw new z(B.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Ux(t,e){if(e<=0)throw new z(B.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(B.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(B.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new z(B.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cu{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new y1({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(B.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(B.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new y1(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new GP;switch(r.type){case"firstParty":return new QP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(B.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=p1.get(n);r&&(U("ComponentProvider","Removing Datastore"),p1.delete(n),r.terminate())}(this),Promise.resolve()}}function QD(t,e,n,r={}){var i;const s=(t=ve(t,cu))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&zn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=vt.MOCK_USER;else{a=fC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new z(B.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new vt(c)}t._authCredentials=new WP(new YT(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kt=class qx{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qx(this.firestore,e,this._query)}},Ue=class Gx{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gx(this.firestore,e,this._key)}},oi=class Wx extends Kt{constructor(e,n,r){super(e,n,ea(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ue(this.firestore,null,new W(e))}withConverter(e){return new Wx(this.firestore,e,this._path)}};function Kx(t,e,...n){if(t=ot(t),yy("collection","path",e),t instanceof cu){const r=de.fromString(e,...n);return g1(r),new oi(t,null,r)}{if(!(t instanceof Ue||t instanceof oi))throw new z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return g1(r),new oi(t.firestore,null,r)}}function YD(t,e){if(t=ve(t,cu),yy("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new z(B.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Kt(t,null,function(r){return new Rr(de.emptyPath(),r)}(e))}function Id(t,e,...n){if(t=ot(t),arguments.length===1&&(e=XT.newId()),yy("doc","path",e),t instanceof cu){const r=de.fromString(e,...n);return m1(r),new Ue(t,null,new W(r))}{if(!(t instanceof Ue||t instanceof oi))throw new z(B.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return m1(r),new Ue(t.firestore,t instanceof oi?t.converter:null,new W(r))}}function Hx(t,e){return t=ot(t),e=ot(e),(t instanceof Ue||t instanceof oi)&&(e instanceof Ue||e instanceof oi)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Qx(t,e){return t=ot(t),e=ot(e),t instanceof Kt&&e instanceof Kt&&t.firestore===e.firestore&&ru(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(){this.iu=Promise.resolve(),this.su=[],this.ou=!1,this._u=[],this.au=null,this.uu=!1,this.cu=!1,this.lu=[],this.Yo=new Zg(this,"async_queue_retry"),this.hu=()=>{const n=kc();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Yo.Wo()};const e=kc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.hu)}get isShuttingDown(){return this.ou}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Pu(),this.Iu(e)}enterRestrictedMode(e){if(!this.ou){this.ou=!0,this.cu=e||!1;const n=kc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.hu)}}enqueue(e){if(this.Pu(),this.ou)return new Promise(()=>{});const n=new wt;return this.Iu(()=>this.ou&&this.cu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.su.push(e),this.Tu()))}async Tu(){if(this.su.length!==0){try{await this.su[0](),this.su.shift(),this.Yo.reset()}catch(e){if(!xi(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.su.length>0&&this.Yo.$o(()=>this.Tu())}}Iu(e){const n=this.iu.then(()=>(this.uu=!0,e().catch(r=>{this.au=r,this.uu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Ze("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.uu=!1,r))));return this.iu=n,n}enqueueAfterDelay(e,n,r){this.Pu(),this.lu.indexOf(e)>-1&&(n=0);const i=ry.createAndSchedule(this,e,n,r,s=>this.Eu(s));return this._u.push(i),i}Pu(){this.au&&Q()}verifyOperationInProgress(){}async du(){let e;do e=this.iu,await e;while(e!==this.iu)}Au(e){for(const n of this._u)if(n.timerId===e)return!0;return!1}Ru(e){return this.du().then(()=>{this._u.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this._u)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.du()})}Vu(e){this.lu.push(e)}Eu(e){const n=this._u.indexOf(e);this._u.splice(n,1)}}function gm(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class JD{constructor(){this._progressObserver={},this._taskCompletionResolver=new wt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZD=-1;let Ye=class extends cu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new XD}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Yx(this),this._firestoreClient.terminate()}};function Tt(t){return t._firestoreClient||Yx(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Yx(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new xk(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,jx(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new $D(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function eV(t,e){Jx(t=ve(t,Ye));const n=Tt(t);if(n._uninitializedComponentsProvider)throw new z(B.FAILED_PRECONDITION,"SDK cache is already specified.");zn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=t._freezeSettings(),i=new fy;return Xx(n,i,new Mx(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function tV(t){Jx(t=ve(t,Ye));const e=Tt(t);if(e._uninitializedComponentsProvider)throw new z(B.FAILED_PRECONDITION,"SDK cache is already specified.");zn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings(),r=new fy;return Xx(e,r,new OD(r,n.cacheSizeBytes))}function Xx(t,e,n){const r=new wt;return t.asyncQueue.enqueue(async()=>{try{await Dc(t,n),await mm(t,e),r.resolve()}catch(i){const s=i;if(!Ox(s))throw s;zn("Error enabling indexeddb cache. Falling back to memory cache: "+s),r.reject(s)}}).then(()=>r.promise)}function nV(t){if(t._initialized&&!t._terminated)throw new z(B.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new wt;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!nr.D())return Promise.resolve();const i=r+"main";await nr.delete(i)}(Yg(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function rV(t){return function(n){const r=new wt;return n.asyncQueue.enqueueAndForget(async()=>xD(await gy(n),r)),r.promise}(Tt(t=ve(t,Ye)))}function iV(t){return zD(Tt(t=ve(t,Ye)))}function sV(t){return UD(Tt(t=ve(t,Ye)))}function oV(t,e){const n=Tt(t=ve(t,Ye)),r=new JD;return KD(n,t._databaseId,e,r),r}function aV(t,e){return HD(Tt(t=ve(t,Ye)),e).then(n=>n?new Kt(t,null,n.query):null)}function Jx(t){if(t._initialized||t._terminated)throw new z(B.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or{constructor(e){this._byteString=e}static fromBase64String(e){try{return new or(dt.fromBase64String(e))}catch(n){throw new z(B.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new or(dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vi=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(B.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Le(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(B.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(B.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ie(this._lat,e._lat)||ie(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV=/^__.*__$/;class uV{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ar(e,this.data,this.fieldMask,n,this.fieldTransforms):new ta(e,this.data,n,this.fieldTransforms)}}class Zx{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Ar(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function eS(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Q()}}class oh{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.mu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get fu(){return this.settings.fu}gu(e){return new oh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}pu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.wu(e),i}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.gu({path:r,yu:!1});return i.mu(),i}bu(e){return this.gu({path:void 0,yu:!0})}Du(e){return xd(e,this.settings.methodName,this.settings.Cu||!1,this.path,this.settings.vu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}mu(){if(this.path)for(let e=0;e<this.path.length;e++)this.wu(this.path.get(e))}wu(e){if(e.length===0)throw this.Du("Document fields must not be empty");if(eS(this.fu)&&lV.test(e))throw this.Du('Document fields cannot begin and end with "__"')}}class cV{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||lu(e)}Fu(e,n,r,i=!1){return new oh({fu:e,methodName:n,vu:r,path:Le.emptyPath(),yu:!1,Cu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ss(t){const e=t._freezeSettings(),n=lu(t._databaseId);return new cV(t._databaseId,!!e.ignoreUndefinedProperties,n)}function ah(t,e,n,r,i,s={}){const o=t.Fu(s.merge||s.mergeFields?2:0,e,n,i);xy("Data must be an object, but it was:",o,r);const a=rS(r,o);let l,c;if(s.merge)l=new nn(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=ym(e,f,n);if(!o.contains(p))throw new z(B.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);sS(d,p)||d.push(p)}l=new nn(d),c=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,c=o.fieldTransforms;return new uV(new At(a),l,c)}class du extends xs{_toFieldTransform(e){if(e.fu!==2)throw e.fu===1?e.Du(`${this._methodName}() can only appear at the top level of your update data`):e.Du(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof du}}function tS(t,e,n){return new oh({fu:3,vu:e.settings.vu,methodName:t._methodName,yu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class vy extends xs{_toFieldTransform(e){return new su(e.path,new Fo)}isEqual(e){return e instanceof vy}}class _y extends xs{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=tS(this,e,!0),r=this.Mu.map(s=>bs(s,n)),i=new ds(r);return new su(e.path,i)}isEqual(e){return e instanceof _y&&Cl(this.Mu,e.Mu)}}class wy extends xs{constructor(e,n){super(e),this.Mu=n}_toFieldTransform(e){const n=tS(this,e,!0),r=this.Mu.map(s=>bs(s,n)),i=new hs(r);return new su(e.path,i)}isEqual(e){return e instanceof wy&&Cl(this.Mu,e.Mu)}}class Ey extends xs{constructor(e,n){super(e),this.xu=n}_toFieldTransform(e){const n=new Bo(e.serializer,PI(e.serializer,this.xu));return new su(e.path,n)}isEqual(e){return e instanceof Ey&&this.xu===e.xu}}function Ty(t,e,n,r){const i=t.Fu(1,e,n);xy("Data must be an object, but it was:",i,r);const s=[],o=At.empty();Is(r,(l,c)=>{const d=Sy(e,l,n);c=ot(c);const f=i.Su(d);if(c instanceof du)s.push(d);else{const p=bs(c,f);p!=null&&(s.push(d),o.set(d,p))}});const a=new nn(s);return new Zx(o,a,i.fieldTransforms)}function Iy(t,e,n,r,i,s){const o=t.Fu(1,e,n),a=[ym(e,r,n)],l=[i];if(s.length%2!=0)throw new z(B.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<s.length;p+=2)a.push(ym(e,s[p])),l.push(s[p+1]);const c=[],d=At.empty();for(let p=a.length-1;p>=0;--p)if(!sS(c,a[p])){const g=a[p];let _=l[p];_=ot(_);const T=o.Su(g);if(_ instanceof du)c.push(g);else{const P=bs(_,T);P!=null&&(c.push(g),d.set(g,P))}}const f=new nn(c);return new Zx(d,f,o.fieldTransforms)}function nS(t,e,n,r=!1){return bs(n,t.Fu(r?4:3,e))}function bs(t,e){if(iS(t=ot(t)))return xy("Unsupported field value:",e,t),rS(t,e);if(t instanceof xs)return function(r,i){if(!eS(i.fu))throw i.Du(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Du(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.yu&&e.fu!==4)throw e.Du("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=bs(a,i.bu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return PI(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Be.fromDate(r);return{timestampValue:$o(i.serializer,s)}}if(r instanceof Be){const s=new Be(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:$o(i.serializer,s)}}if(r instanceof sh)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof or)return{bytesValue:zI(i.serializer,r._byteString)};if(r instanceof Ue){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Du(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:qg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Du(`Unsupported field value: ${ih(r)}`)}(t,e)}function rS(t,e){const n={};return cI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Is(t,(r,i)=>{const s=bs(i,e.pu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function iS(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Be||t instanceof sh||t instanceof or||t instanceof Ue||t instanceof xs)}function xy(t,e,n){if(!iS(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=ih(n);throw r==="an object"?e.Du(t+" a custom object"):e.Du(t+" "+r)}}function ym(t,e,n){if((e=ot(e))instanceof vi)return e._internalPath;if(typeof e=="string")return Sy(t,e);throw xd("Field path arguments must be of type string or ",t,!1,void 0,n)}const dV=new RegExp("[~\\*/\\[\\]]");function Sy(t,e,n){if(e.search(dV)>=0)throw xd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new vi(...e.split("."))._internalPath}catch{throw xd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function xd(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new z(B.INVALID_ARGUMENT,a+t+l)}function sS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ue(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new hV(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(lh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class hV extends jl{data(){return super.data()}}function lh(t,e){return typeof e=="string"?Sy(t,e):e instanceof vi?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new z(B.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class by{}class hu extends by{}function $r(t,e,...n){let r=[];e instanceof by&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof Ry).length,a=s.filter(l=>l instanceof uh).length;if(o>1||o>0&&a>0)throw new z(B.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class uh extends hu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new uh(e,n,r)}_apply(e){const n=this._parse(e);return lS(e._query,n),new Kt(e.firestore,e.converter,nm(e._query,n))}_parse(e){const n=Ss(e.firestore);return function(s,o,a,l,c,d,f){let p;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new z(B.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){_1(f,d);const g=[];for(const _ of f)g.push(v1(l,s,_));p={arrayValue:{values:g}}}else p=v1(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||_1(f,d),p=nS(a,o,f,d==="in"||d==="not-in");return he.create(c,d,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function fV(t,e,n){const r=e,i=lh("where",t);return uh._create(i,r,n)}class Ry extends by{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Ry(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ie.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)lS(o,l),o=nm(o,l)}(e._query,n),new Kt(e.firestore,e.converter,nm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ay extends hu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ay(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new z(B.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new z(B.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fl(s,o)}(e._query,this._field,this._direction);return new Kt(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Rr(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function pV(t,e="asc"){const n=e,r=lh("orderBy",t);return Ay._create(r,n)}class ch extends hu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new ch(e,n,r)}_apply(e){return new Kt(e.firestore,e.converter,md(e._query,this._limit,this._limitType))}}function mV(t){return Ux("limit",t),ch._create("limit",t,"F")}function gV(t){return Ux("limitToLast",t),ch._create("limitToLast",t,"L")}class dh extends hu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new dh(e,n,r)}_apply(e){const n=aS(e,this.type,this._docOrFields,this._inclusive);return new Kt(e.firestore,e.converter,function(i,s){return new Rr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function yV(...t){return dh._create("startAt",t,!0)}function vV(...t){return dh._create("startAfter",t,!1)}class hh extends hu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new hh(e,n,r)}_apply(e){const n=aS(e,this.type,this._docOrFields,this._inclusive);return new Kt(e.firestore,e.converter,function(i,s){return new Rr(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function _V(...t){return hh._create("endBefore",t,!1)}function wV(...t){return hh._create("endAt",t,!0)}function aS(t,e,n,r){if(n[0]=ot(n[0]),n[0]instanceof jl)return function(s,o,a,l,c){if(!l)throw new z(B.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const f of wo(s))if(f.field.isKeyField())d.push(us(o,l.key));else{const p=l.data.field(f.field);if(Hd(p))throw new z(B.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(p===null){const g=f.field.canonicalString();throw new z(B.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${g}' (used as the orderBy) does not exist.`)}d.push(p)}return new gi(d,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Ss(t.firestore);return function(o,a,l,c,d,f){const p=o.explicitOrderBy;if(d.length>p.length)throw new z(B.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const g=[];for(let _=0;_<d.length;_++){const T=d[_];if(p[_].field.isKeyField()){if(typeof T!="string")throw new z(B.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof T}`);if(!Lg(o)&&T.indexOf("/")!==-1)throw new z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${T}' contains a slash.`);const P=o.path.child(de.fromString(T));if(!W.isDocumentKey(P))throw new z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${P}' is not because it contains an odd number of segments.`);const x=new W(P);g.push(us(a,x))}else{const P=nS(l,c,T);g.push(P)}}return new gi(g,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function v1(t,e,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new z(B.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Lg(e)&&n.indexOf("/")!==-1)throw new z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(de.fromString(n));if(!W.isDocumentKey(r))throw new z(B.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return us(t,new W(r))}if(n instanceof Ue)return us(t,n._key);throw new z(B.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ih(n)}.`)}function _1(t,e){if(!Array.isArray(t)||t.length===0)throw new z(B.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lS(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new z(B.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new z(B.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class Cy{convertValue(e,n="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Q()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Is(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new sh(Qe(e.latitude),Qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Mg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Ml(e));default:return null}}convertTimestamp(e){const n=Tr(e);return new Be(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=de.fromString(e);J(ZI(r));const i=new pi(r.get(1),r.get(3)),s=new W(r.popFirst(5));return i.isEqual(n)||Ze(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class EV extends Cy{constructor(e){super(),this.firestore=e}convertBytes(e){return new or(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Ir=class extends jl{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ul(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(lh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ul=class extends Ir{data(e={}){return super.data(e)}},_i=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qi(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ul(this._firestore,this._userDataWriter,r.key,r,new Qi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new z(B.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new ul(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new ul(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qi(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:TV(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function TV(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Q()}}function uS(t,e){return t instanceof Ir&&e instanceof Ir?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof _i&&e instanceof _i&&t._firestore===e._firestore&&Qx(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IV(t){t=ve(t,Ue);const e=ve(t.firestore,Ye);return Bx(Tt(e),t._key).then(n=>Py(e,t,n))}class Rs extends Cy{constructor(e){super(),this.firestore=e}convertBytes(e){return new or(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ue(this.firestore,null,n)}}function xV(t){t=ve(t,Ue);const e=ve(t.firestore,Ye),n=Tt(e),r=new Rs(e);return qD(n,t._key).then(i=>new Ir(e,r,t._key,i,new Qi(i!==null&&i.hasLocalMutations,!0),t.converter))}function SV(t){t=ve(t,Ue);const e=ve(t.firestore,Ye);return Bx(Tt(e),t._key,{source:"server"}).then(n=>Py(e,t,n))}function bV(t){t=ve(t,Kt);const e=ve(t.firestore,Ye),n=Tt(e),r=new Rs(e);return oS(t._query),$x(n,t._query).then(i=>new _i(e,r,t,i))}function RV(t){t=ve(t,Kt);const e=ve(t.firestore,Ye),n=Tt(e),r=new Rs(e);return GD(n,t._query).then(i=>new _i(e,r,t,i))}function AV(t){t=ve(t,Kt);const e=ve(t.firestore,Ye),n=Tt(e),r=new Rs(e);return $x(n,t._query,{source:"server"}).then(i=>new _i(e,r,t,i))}function w1(t,e,n){t=ve(t,Ue);const r=ve(t.firestore,Ye),i=fh(t.converter,e,n);return fu(r,[ah(Ss(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Fe.none())])}function E1(t,e,n,...r){t=ve(t,Ue);const i=ve(t.firestore,Ye),s=Ss(i);let o;return o=typeof(e=ot(e))=="string"||e instanceof vi?Iy(s,"updateDoc",t._key,e,n,r):Ty(s,"updateDoc",t._key,e),fu(i,[o.toMutation(t._key,Fe.exists(!0))])}function CV(t){return fu(ve(t.firestore,Ye),[new na(t._key,Fe.none())])}function PV(t,e){const n=ve(t.firestore,Ye),r=Id(t),i=fh(t.converter,e);return fu(n,[ah(Ss(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Fe.exists(!1))]).then(()=>r)}function cS(t,...e){var n,r,i;t=ot(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||gm(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(gm(e[o])){const f=e[o];e[o]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[o+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[o+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,c,d;if(t instanceof Ue)c=ve(t.firestore,Ye),d=ea(t._key.path),l={next:f=>{e[o]&&e[o](Py(c,t,f))},error:e[o+1],complete:e[o+2]};else{const f=ve(t,Kt);c=ve(f.firestore,Ye),d=f._query;const p=new Rs(c);l={next:g=>{e[o]&&e[o](new _i(c,p,f,g))},error:e[o+1],complete:e[o+2]},oS(t._query)}return function(p,g,_,T){const P=new nh(T),x=new ay(g,P,_);return p.asyncQueue.enqueueAndForget(async()=>iy(await Wo(p),x)),()=>{P.$a(),p.asyncQueue.enqueueAndForget(async()=>sy(await Wo(p),x))}}(Tt(c),d,a,l)}function kV(t,e){return WD(Tt(t=ve(t,Ye)),gm(e)?e:{next:e})}function fu(t,e){return function(r,i){const s=new wt;return r.asyncQueue.enqueueAndForget(async()=>wD(await gy(r),i,s)),s.promise}(Tt(t),e)}function Py(t,e,n){const r=n.docs.get(e._key),i=new Rs(t);return new Ir(t,i,e._key,r,new Qi(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DV={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VV=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=Ss(e)}set(e,n,r){this._verifyNotCommitted();const i=Wr(e,this._firestore),s=fh(i.converter,n,r),o=ah(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Fe.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=Wr(e,this._firestore);let o;return o=typeof(n=ot(n))=="string"||n instanceof vi?Iy(this._dataReader,"WriteBatch.update",s._key,n,r,i):Ty(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Fe.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Wr(e,this._firestore);return this._mutations=this._mutations.concat(new na(n._key,Fe.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new z(B.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Wr(t,e){if((t=ot(t)).firestore!==e)throw new z(B.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NV=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=Ss(n)}get(n){const r=Wr(n,this._firestore),i=new EV(this._firestore);return this._transaction.lookup([r._key]).then(s=>{if(!s||s.length!==1)return Q();const o=s[0];if(o.isFoundDocument())return new jl(this._firestore,i,o.key,o,r.converter);if(o.isNoDocument())return new jl(this._firestore,i,r._key,null,r.converter);throw Q()})}set(n,r,i){const s=Wr(n,this._firestore),o=fh(s.converter,r,i),a=ah(this._dataReader,"Transaction.set",s._key,o,s.converter!==null,i);return this._transaction.set(s._key,a),this}update(n,r,i,...s){const o=Wr(n,this._firestore);let a;return a=typeof(r=ot(r))=="string"||r instanceof vi?Iy(this._dataReader,"Transaction.update",o._key,r,i,s):Ty(this._dataReader,"Transaction.update",o._key,r),this._transaction.update(o._key,a),this}delete(n){const r=Wr(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Wr(e,this._firestore),r=new Rs(this._firestore);return super.get(e).then(i=>new Ir(this._firestore,r,n._key,i._document,new Qi(!1,!1),n.converter))}};function MV(t,e,n){t=ve(t,Ye);const r=Object.assign(Object.assign({},DV),n);return function(s){if(s.maxAttempts<1)throw new z(B.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new wt;return s.asyncQueue.enqueueAndForget(async()=>{const c=await jD(s);new BD(s.asyncQueue,c,a,o,l).Xa()}),l.promise}(Tt(t),i=>e(new NV(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OV(){return new du("deleteField")}function LV(){return new vy("serverTimestamp")}function FV(...t){return new _y("arrayUnion",t)}function BV(...t){return new wy("arrayRemove",t)}function $V(t){return new Ey("increment",t)}(function(e,n=!0){(function(i){Zo=i})(Cg),No(new os("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ye(new KP(r.getProvider("auth-internal")),new XP(r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new z(B.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pi(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),yr(p_,"4.6.4",e),yr(p_,"4.6.4","esm2017")})();const jV="@firebase/firestore-compat",zV="0.3.33";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ky(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new z("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T1(){if(typeof Uint8Array>"u")throw new z("unimplemented","Uint8Arrays are not available in this environment.")}function I1(){if(!Tk())throw new z("unimplemented","Blobs are unavailable in Firestore in this environment.")}class zl{constructor(e){this._delegate=e}static fromBase64String(e){return I1(),new zl(or.fromBase64String(e))}static fromUint8Array(e){return T1(),new zl(or.fromUint8Array(e))}toBase64(){return I1(),this._delegate.toBase64()}toUint8Array(){return T1(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vm(t){return UV(t,["next","error","complete"])}function UV(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qV{enableIndexedDbPersistence(e,n){return eV(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return tV(e._delegate)}clearIndexedDbPersistence(e){return nV(e._delegate)}}class dS{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof pi||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&zn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){QD(this._delegate,e,n,r)}enableNetwork(){return iV(this._delegate)}disableNetwork(){return sV(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,zx("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return rV(this._delegate)}onSnapshotsInSync(e){return kV(this._delegate,e)}get app(){if(!this._appCompat)throw new z("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ko(this,Kx(this._delegate,e))}catch(n){throw Ut(n,"collection()","Firestore.collection()")}}doc(e){try{return new Rn(this,Id(this._delegate,e))}catch(n){throw Ut(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new zt(this,YD(this._delegate,e))}catch(n){throw Ut(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return MV(this._delegate,n=>e(new hS(this,n)))}batch(){return Tt(this._delegate),new fS(new VV(this._delegate,e=>fu(this._delegate,e)))}loadBundle(e){return oV(this._delegate,e)}namedQuery(e){return aV(this._delegate,e).then(n=>n?new zt(this,n):null)}}class ph extends Cy{constructor(e){super(),this.firestore=e}convertBytes(e){return new zl(new or(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Rn.forKey(n,this.firestore,null)}}function GV(t){UP(t)}class hS{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new ph(e)}get(e){const n=Yi(e);return this._delegate.get(n).then(r=>new Ul(this._firestore,new Ir(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Yi(e);return r?(ky("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Yi(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Yi(e);return this._delegate.delete(n),this}}class fS{constructor(e){this._delegate=e}set(e,n,r){const i=Yi(e);return r?(ky("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=Yi(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=Yi(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class gs{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new ul(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ql(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=gs.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new gs(e,new ph(e),n),i.set(n,s)),s}}gs.INSTANCES=new WeakMap;class Rn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ph(e)}static forPath(e,n,r){if(e.length%2!==0)throw new z("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Rn(n,new Ue(n._delegate,r,new W(e)))}static forKey(e,n,r){return new Rn(n,new Ue(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ko(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ko(this.firestore,Kx(this._delegate,e))}catch(n){throw Ut(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=ot(e),e instanceof Ue?Hx(this._delegate,e):!1}set(e,n){n=ky("DocumentReference.set",n);try{return n?w1(this._delegate,e,n):w1(this._delegate,e)}catch(r){throw Ut(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?E1(this._delegate,e):E1(this._delegate,e,n,...r)}catch(i){throw Ut(i,"updateDoc()","DocumentReference.update()")}}delete(){return CV(this._delegate)}onSnapshot(...e){const n=pS(e),r=mS(e,i=>new Ul(this.firestore,new Ir(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return cS(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=xV(this._delegate):(e==null?void 0:e.source)==="server"?n=SV(this._delegate):n=IV(this._delegate),n.then(r=>new Ul(this.firestore,new Ir(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Rn(this.firestore,e?this._delegate.withConverter(gs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ut(t,e,n){return t.message=t.message.replace(e,n),t}function pS(t){for(const e of t)if(typeof e=="object"&&!vm(e))return e;return{}}function mS(t,e){var n,r;let i;return vm(t[0])?i=t[0]:vm(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Ul{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Rn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return uS(this._delegate,e._delegate)}}class ql extends Ul{data(e){const n=this._delegate.data(e);return this._delegate._converter||qP(n!==void 0),n}}class zt{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new ph(e)}where(e,n,r){try{return new zt(this.firestore,$r(this._delegate,fV(e,n,r)))}catch(i){throw Ut(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new zt(this.firestore,$r(this._delegate,pV(e,n)))}catch(r){throw Ut(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new zt(this.firestore,$r(this._delegate,mV(e)))}catch(n){throw Ut(n,"limit()","Query.limit()")}}limitToLast(e){try{return new zt(this.firestore,$r(this._delegate,gV(e)))}catch(n){throw Ut(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new zt(this.firestore,$r(this._delegate,yV(...e)))}catch(n){throw Ut(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new zt(this.firestore,$r(this._delegate,vV(...e)))}catch(n){throw Ut(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new zt(this.firestore,$r(this._delegate,_V(...e)))}catch(n){throw Ut(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new zt(this.firestore,$r(this._delegate,wV(...e)))}catch(n){throw Ut(n,"endAt()","Query.endAt()")}}isEqual(e){return Qx(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=RV(this._delegate):(e==null?void 0:e.source)==="server"?n=AV(this._delegate):n=bV(this._delegate),n.then(r=>new _m(this.firestore,new _i(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=pS(e),r=mS(e,i=>new _m(this.firestore,new _i(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return cS(this._delegate,n,r)}withConverter(e){return new zt(this.firestore,e?this._delegate.withConverter(gs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class WV{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new ql(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _m{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new zt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ql(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new WV(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new ql(this._firestore,r))})}isEqual(e){return uS(this._delegate,e._delegate)}}class Ko extends zt{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Rn(this.firestore,e):null}doc(e){try{return e===void 0?new Rn(this.firestore,Id(this._delegate)):new Rn(this.firestore,Id(this._delegate,e))}catch(n){throw Ut(n,"doc()","CollectionReference.doc()")}}add(e){return PV(this._delegate,e).then(n=>new Rn(this.firestore,n))}isEqual(e){return Hx(this._delegate,e._delegate)}withConverter(e){return new Ko(this.firestore,e?this._delegate.withConverter(gs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Yi(t){return ve(t,Ue)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(...e){this._delegate=new vi(...e)}static documentId(){return new Dy(Le.keyField().canonicalString())}isEqual(e){return e=ot(e),e instanceof vi?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e){this._delegate=e}static serverTimestamp(){const e=LV();return e._methodName="FieldValue.serverTimestamp",new Gi(e)}static delete(){const e=OV();return e._methodName="FieldValue.delete",new Gi(e)}static arrayUnion(...e){const n=FV(...e);return n._methodName="FieldValue.arrayUnion",new Gi(n)}static arrayRemove(...e){const n=BV(...e);return n._methodName="FieldValue.arrayRemove",new Gi(n)}static increment(e){const n=$V(e);return n._methodName="FieldValue.increment",new Gi(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV={Firestore:dS,GeoPoint:sh,Timestamp:Be,Blob:zl,Transaction:hS,WriteBatch:fS,DocumentReference:Rn,DocumentSnapshot:Ul,Query:zt,QueryDocumentSnapshot:ql,QuerySnapshot:_m,CollectionReference:Ko,FieldPath:Dy,FieldValue:Gi,setLogLevel:GV,CACHE_SIZE_UNLIMITED:ZD};function HV(t,e){t.INTERNAL.registerComponent(new os("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},KV)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t){HV(t,(e,n)=>new dS(e,n,new qV)),t.registerVersion(jV,zV)}QV(Wd);const YV=Wd.initializeApp({apiKey:"AIzaSyDppmLtncvkP74BUORjN-75TxfCLn7tkCU",authDomain:"yasmin-hiasche-web.firebaseapp.com",projectId:"yasmin-hiasche-web",storageBucket:"yasmin-hiasche-web.appspot.com",messagingSenderId:"667705000750",appId:"1:667705000750:web:617a1707868b053e1df0bf"});function XV(){return Wd.firestore(YV)}const gS=O.createContext(null),JV=({children:t})=>{const[e,n]=O.useState(!1),[r,i]=O.useState(!1),[s,o]=O.useState([]),a=s==null?void 0:s.sort((d,f)=>d.order-f.order),l=()=>i(!0);O.useEffect(()=>{n(!0),XV().collection("sections").get().then(p=>{p.size===0&&console.error("No hay resultados en la Base de Datos"),o(p.docs.map(g=>g.data()))}).catch(p=>{console.error("Error al conectar con la BD ---> ",p)}).finally(()=>n(!1))},[]);const c={loading:e,sectionOrdered:a,passToHomePage:r,setLoading:n,handleBackgroundPreview:l};return D.jsx(gS.Provider,{value:c,children:t})},Gl={black:"#000",white:"#fff"},js={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},zs={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Us={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},qs={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Gs={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},La={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},ZV={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function V(){return V=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},V.apply(null,arguments)}function Kr(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function yS(t){if(!Kr(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=yS(t[n])}),e}function $n(t,e,n={clone:!0}){const r=n.clone?V({},t):t;return Kr(t)&&Kr(e)&&Object.keys(e).forEach(i=>{Kr(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Kr(t[i])?r[i]=$n(t[i],e[i],n):n.clone?r[i]=Kr(e[i])?yS(e[i]):e[i]:r[i]=e[i]}),r}function Ho(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}function me(t){if(typeof t!="string")throw new Error(Ho(7));return t.charAt(0).toUpperCase()+t.slice(1)}function x1(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function eN(t,e=166){let n;function r(...i){const s=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(s,e)}return r.clear=()=>{clearTimeout(n)},r}function tN(t,e){var n,r;return O.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function ai(t){return t&&t.ownerDocument||document}function pu(t){return ai(t).defaultView||window}function wm(t,e){typeof t=="function"?t(e):t&&(t.current=e)}const Wl=typeof window<"u"?O.useLayoutEffect:O.useEffect;function fo(t){const e=O.useRef(t);return Wl(()=>{e.current=t}),O.useRef((...n)=>(0,e.current)(...n)).current}function xr(...t){return O.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{wm(n,e)})},t)}class Vy{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Vy}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}let mh=!0,Em=!1;const nN=new Vy,rN={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function iN(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&rN[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function sN(t){t.metaKey||t.altKey||t.ctrlKey||(mh=!0)}function Hf(){mh=!1}function oN(){this.visibilityState==="hidden"&&Em&&(mh=!0)}function aN(t){t.addEventListener("keydown",sN,!0),t.addEventListener("mousedown",Hf,!0),t.addEventListener("pointerdown",Hf,!0),t.addEventListener("touchstart",Hf,!0),t.addEventListener("visibilitychange",oN,!0)}function lN(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return mh||iN(e)}function uN(){const t=O.useCallback(i=>{i!=null&&aN(i.ownerDocument)},[]),e=O.useRef(!1);function n(){return e.current?(Em=!0,nN.start(100,()=>{Em=!1}),e.current=!1,!0):!1}function r(i){return lN(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function cN(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function Ny(t,e){const n=V({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=V({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},s=e[r];n[r]={},!s||!Object.keys(s)?n[r]=i:!i||!Object.keys(i)?n[r]=s:(n[r]=V({},s),Object.keys(i).forEach(o=>{n[r][o]=Ny(i[o],s[o])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function ht(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((s,o)=>{if(o){const a=e(o);a!==""&&s.push(a),n&&n[o]&&s.push(n[o])}return s},[]).join(" ")}),r}const S1=t=>t,dN=()=>{let t=S1;return{configure(e){t=e},generate(e){return t(e)},reset(){t=S1}}},vS=dN(),hN={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function at(t,e,n="Mui"){const r=hN[e];return r?`${n}-${r}`:`${vS.generate(t)}-${e}`}function lt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=at(t,i,n)}),r}function fN(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}function ae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function _S(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=_S(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function le(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=_S(t))&&(r&&(r+=" "),r+=e);return r}const ys="$$material";function wS(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var pN=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,mN=wS(function(t){return pN.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),gN=!1;function yN(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function vN(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var _N=function(){function t(n){var r=this;this._insertTag=function(i){var s;r.tags.length===0?r.insertionPoint?s=r.insertionPoint.nextSibling:r.prepend?s=r.container.firstChild:s=r.before:s=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,s),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!gN:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(vN(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var s=yN(i);try{s.insertRule(r,s.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ot="-ms-",Sd="-moz-",Ee="-webkit-",ES="comm",My="rule",Oy="decl",wN="@import",TS="@keyframes",EN="@layer",TN=Math.abs,gh=String.fromCharCode,IN=Object.assign;function xN(t,e){return Rt(t,0)^45?(((e<<2^Rt(t,0))<<2^Rt(t,1))<<2^Rt(t,2))<<2^Rt(t,3):0}function IS(t){return t.trim()}function SN(t,e){return(t=e.exec(t))?t[0]:t}function Te(t,e,n){return t.replace(e,n)}function Tm(t,e){return t.indexOf(e)}function Rt(t,e){return t.charCodeAt(e)|0}function Kl(t,e,n){return t.slice(e,n)}function Qn(t){return t.length}function Ly(t){return t.length}function oc(t,e){return e.push(t),t}function bN(t,e){return t.map(e).join("")}var yh=1,Qo=1,xS=0,ln=0,it=0,aa="";function vh(t,e,n,r,i,s,o){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:yh,column:Qo,length:o,return:""}}function Fa(t,e){return IN(vh("",null,null,"",null,null,0),t,{length:-t.length},e)}function RN(){return it}function AN(){return it=ln>0?Rt(aa,--ln):0,Qo--,it===10&&(Qo=1,yh--),it}function mn(){return it=ln<xS?Rt(aa,ln++):0,Qo++,it===10&&(Qo=1,yh++),it}function ir(){return Rt(aa,ln)}function Vc(){return ln}function mu(t,e){return Kl(aa,t,e)}function Hl(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function SS(t){return yh=Qo=1,xS=Qn(aa=t),ln=0,[]}function bS(t){return aa="",t}function Nc(t){return IS(mu(ln-1,Im(t===91?t+2:t===40?t+1:t)))}function CN(t){for(;(it=ir())&&it<33;)mn();return Hl(t)>2||Hl(it)>3?"":" "}function PN(t,e){for(;--e&&mn()&&!(it<48||it>102||it>57&&it<65||it>70&&it<97););return mu(t,Vc()+(e<6&&ir()==32&&mn()==32))}function Im(t){for(;mn();)switch(it){case t:return ln;case 34:case 39:t!==34&&t!==39&&Im(it);break;case 40:t===41&&Im(t);break;case 92:mn();break}return ln}function kN(t,e){for(;mn()&&t+it!==57;)if(t+it===84&&ir()===47)break;return"/*"+mu(e,ln-1)+"*"+gh(t===47?t:mn())}function DN(t){for(;!Hl(ir());)mn();return mu(t,ln)}function VN(t){return bS(Mc("",null,null,null,[""],t=SS(t),0,[0],t))}function Mc(t,e,n,r,i,s,o,a,l){for(var c=0,d=0,f=o,p=0,g=0,_=0,T=1,P=1,x=1,E=0,I="",k=i,M=s,F=r,v=I;P;)switch(_=E,E=mn()){case 40:if(_!=108&&Rt(v,f-1)==58){Tm(v+=Te(Nc(E),"&","&\f"),"&\f")!=-1&&(x=-1);break}case 34:case 39:case 91:v+=Nc(E);break;case 9:case 10:case 13:case 32:v+=CN(_);break;case 92:v+=PN(Vc()-1,7);continue;case 47:switch(ir()){case 42:case 47:oc(NN(kN(mn(),Vc()),e,n),l);break;default:v+="/"}break;case 123*T:a[c++]=Qn(v)*x;case 125*T:case 59:case 0:switch(E){case 0:case 125:P=0;case 59+d:x==-1&&(v=Te(v,/\f/g,"")),g>0&&Qn(v)-f&&oc(g>32?R1(v+";",r,n,f-1):R1(Te(v," ","")+";",r,n,f-2),l);break;case 59:v+=";";default:if(oc(F=b1(v,e,n,c,d,i,a,I,k=[],M=[],f),s),E===123)if(d===0)Mc(v,e,F,F,k,s,f,a,M);else switch(p===99&&Rt(v,3)===110?100:p){case 100:case 108:case 109:case 115:Mc(t,F,F,r&&oc(b1(t,F,F,0,0,i,a,I,i,k=[],f),M),i,M,f,a,r?k:M);break;default:Mc(v,F,F,F,[""],M,0,a,M)}}c=d=g=0,T=x=1,I=v="",f=o;break;case 58:f=1+Qn(v),g=_;default:if(T<1){if(E==123)--T;else if(E==125&&T++==0&&AN()==125)continue}switch(v+=gh(E),E*T){case 38:x=d>0?1:(v+="\f",-1);break;case 44:a[c++]=(Qn(v)-1)*x,x=1;break;case 64:ir()===45&&(v+=Nc(mn())),p=ir(),d=f=Qn(I=v+=DN(Vc())),E++;break;case 45:_===45&&Qn(v)==2&&(T=0)}}return s}function b1(t,e,n,r,i,s,o,a,l,c,d){for(var f=i-1,p=i===0?s:[""],g=Ly(p),_=0,T=0,P=0;_<r;++_)for(var x=0,E=Kl(t,f+1,f=TN(T=o[_])),I=t;x<g;++x)(I=IS(T>0?p[x]+" "+E:Te(E,/&\f/g,p[x])))&&(l[P++]=I);return vh(t,e,n,i===0?My:a,l,c,d)}function NN(t,e,n){return vh(t,e,n,ES,gh(RN()),Kl(t,2,-2),0)}function R1(t,e,n,r){return vh(t,e,n,Oy,Kl(t,0,r),Kl(t,r+1,-1),r)}function To(t,e){for(var n="",r=Ly(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function MN(t,e,n,r){switch(t.type){case EN:if(t.children.length)break;case wN:case Oy:return t.return=t.return||t.value;case ES:return"";case TS:return t.return=t.value+"{"+To(t.children,r)+"}";case My:t.value=t.props.join(",")}return Qn(n=To(t.children,r))?t.return=t.value+"{"+n+"}":""}function ON(t){var e=Ly(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function LN(t){return function(e){e.root||(e=e.return)&&t(e)}}var FN=function(e,n,r){for(var i=0,s=0;i=s,s=ir(),i===38&&s===12&&(n[r]=1),!Hl(s);)mn();return mu(e,ln)},BN=function(e,n){var r=-1,i=44;do switch(Hl(i)){case 0:i===38&&ir()===12&&(n[r]=1),e[r]+=FN(ln-1,n,r);break;case 2:e[r]+=Nc(i);break;case 4:if(i===44){e[++r]=ir()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=gh(i)}while(i=mn());return e},$N=function(e,n){return bS(BN(SS(e),n))},A1=new WeakMap,jN=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!A1.get(r))&&!i){A1.set(e,!0);for(var s=[],o=$N(n,s),a=r.props,l=0,c=0;l<o.length;l++)for(var d=0;d<a.length;d++,c++)e.props[c]=s[l]?o[l].replace(/&\f/g,a[d]):a[d]+" "+o[l]}}},zN=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function RS(t,e){switch(xN(t,e)){case 5103:return Ee+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ee+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ee+t+Sd+t+Ot+t+t;case 6828:case 4268:return Ee+t+Ot+t+t;case 6165:return Ee+t+Ot+"flex-"+t+t;case 5187:return Ee+t+Te(t,/(\w+).+(:[^]+)/,Ee+"box-$1$2"+Ot+"flex-$1$2")+t;case 5443:return Ee+t+Ot+"flex-item-"+Te(t,/flex-|-self/,"")+t;case 4675:return Ee+t+Ot+"flex-line-pack"+Te(t,/align-content|flex-|-self/,"")+t;case 5548:return Ee+t+Ot+Te(t,"shrink","negative")+t;case 5292:return Ee+t+Ot+Te(t,"basis","preferred-size")+t;case 6060:return Ee+"box-"+Te(t,"-grow","")+Ee+t+Ot+Te(t,"grow","positive")+t;case 4554:return Ee+Te(t,/([^-])(transform)/g,"$1"+Ee+"$2")+t;case 6187:return Te(Te(Te(t,/(zoom-|grab)/,Ee+"$1"),/(image-set)/,Ee+"$1"),t,"")+t;case 5495:case 3959:return Te(t,/(image-set\([^]*)/,Ee+"$1$`$1");case 4968:return Te(Te(t,/(.+:)(flex-)?(.*)/,Ee+"box-pack:$3"+Ot+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ee+t+t;case 4095:case 3583:case 4068:case 2532:return Te(t,/(.+)-inline(.+)/,Ee+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Qn(t)-1-e>6)switch(Rt(t,e+1)){case 109:if(Rt(t,e+4)!==45)break;case 102:return Te(t,/(.+:)(.+)-([^]+)/,"$1"+Ee+"$2-$3$1"+Sd+(Rt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Tm(t,"stretch")?RS(Te(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Rt(t,e+1)!==115)break;case 6444:switch(Rt(t,Qn(t)-3-(~Tm(t,"!important")&&10))){case 107:return Te(t,":",":"+Ee)+t;case 101:return Te(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ee+(Rt(t,14)===45?"inline-":"")+"box$3$1"+Ee+"$2$3$1"+Ot+"$2box$3")+t}break;case 5936:switch(Rt(t,e+11)){case 114:return Ee+t+Ot+Te(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ee+t+Ot+Te(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ee+t+Ot+Te(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ee+t+Ot+t+t}return t}var UN=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case Oy:e.return=RS(e.value,e.length);break;case TS:return To([Fa(e,{value:Te(e.value,"@","@"+Ee)})],i);case My:if(e.length)return bN(e.props,function(s){switch(SN(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return To([Fa(e,{props:[Te(s,/:(read-\w+)/,":"+Sd+"$1")]})],i);case"::placeholder":return To([Fa(e,{props:[Te(s,/:(plac\w+)/,":"+Ee+"input-$1")]}),Fa(e,{props:[Te(s,/:(plac\w+)/,":"+Sd+"$1")]}),Fa(e,{props:[Te(s,/:(plac\w+)/,Ot+"input-$1")]})],i)}return""})}},qN=[UN],GN=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(T){var P=T.getAttribute("data-emotion");P.indexOf(" ")!==-1&&(document.head.appendChild(T),T.setAttribute("data-s",""))})}var i=e.stylisPlugins||qN,s={},o,a=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(T){for(var P=T.getAttribute("data-emotion").split(" "),x=1;x<P.length;x++)s[P[x]]=!0;a.push(T)});var l,c=[jN,zN];{var d,f=[MN,LN(function(T){d.insert(T)})],p=ON(c.concat(i,f)),g=function(P){return To(VN(P),p)};l=function(P,x,E,I){d=E,g(P?P+"{"+x.styles+"}":x.styles),I&&(_.inserted[x.name]=!0)}}var _={key:n,sheet:new _N({key:n,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:l};return _.sheet.hydrate(a),_},AS={exports:{}},Se={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var It=typeof Symbol=="function"&&Symbol.for,Fy=It?Symbol.for("react.element"):60103,By=It?Symbol.for("react.portal"):60106,_h=It?Symbol.for("react.fragment"):60107,wh=It?Symbol.for("react.strict_mode"):60108,Eh=It?Symbol.for("react.profiler"):60114,Th=It?Symbol.for("react.provider"):60109,Ih=It?Symbol.for("react.context"):60110,$y=It?Symbol.for("react.async_mode"):60111,xh=It?Symbol.for("react.concurrent_mode"):60111,Sh=It?Symbol.for("react.forward_ref"):60112,bh=It?Symbol.for("react.suspense"):60113,WN=It?Symbol.for("react.suspense_list"):60120,Rh=It?Symbol.for("react.memo"):60115,Ah=It?Symbol.for("react.lazy"):60116,KN=It?Symbol.for("react.block"):60121,HN=It?Symbol.for("react.fundamental"):60117,QN=It?Symbol.for("react.responder"):60118,YN=It?Symbol.for("react.scope"):60119;function wn(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case Fy:switch(t=t.type,t){case $y:case xh:case _h:case Eh:case wh:case bh:return t;default:switch(t=t&&t.$$typeof,t){case Ih:case Sh:case Ah:case Rh:case Th:return t;default:return e}}case By:return e}}}function CS(t){return wn(t)===xh}Se.AsyncMode=$y;Se.ConcurrentMode=xh;Se.ContextConsumer=Ih;Se.ContextProvider=Th;Se.Element=Fy;Se.ForwardRef=Sh;Se.Fragment=_h;Se.Lazy=Ah;Se.Memo=Rh;Se.Portal=By;Se.Profiler=Eh;Se.StrictMode=wh;Se.Suspense=bh;Se.isAsyncMode=function(t){return CS(t)||wn(t)===$y};Se.isConcurrentMode=CS;Se.isContextConsumer=function(t){return wn(t)===Ih};Se.isContextProvider=function(t){return wn(t)===Th};Se.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fy};Se.isForwardRef=function(t){return wn(t)===Sh};Se.isFragment=function(t){return wn(t)===_h};Se.isLazy=function(t){return wn(t)===Ah};Se.isMemo=function(t){return wn(t)===Rh};Se.isPortal=function(t){return wn(t)===By};Se.isProfiler=function(t){return wn(t)===Eh};Se.isStrictMode=function(t){return wn(t)===wh};Se.isSuspense=function(t){return wn(t)===bh};Se.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===_h||t===xh||t===Eh||t===wh||t===bh||t===WN||typeof t=="object"&&t!==null&&(t.$$typeof===Ah||t.$$typeof===Rh||t.$$typeof===Th||t.$$typeof===Ih||t.$$typeof===Sh||t.$$typeof===HN||t.$$typeof===QN||t.$$typeof===YN||t.$$typeof===KN)};Se.typeOf=wn;AS.exports=Se;var XN=AS.exports,PS=XN,JN={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},ZN={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},kS={};kS[PS.ForwardRef]=JN;kS[PS.Memo]=ZN;var eM=!0;function tM(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):r+=i+" "}),r}var DS=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||eM===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},VS=function(e,n,r){DS(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var s=n;do e.insert(n===s?"."+i:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function nM(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var rM={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},iM=!1,sM=/[A-Z]|^ms/g,oM=/_EMO_([^_]+?)_([^]*?)_EMO_/g,NS=function(e){return e.charCodeAt(1)===45},C1=function(e){return e!=null&&typeof e!="boolean"},Qf=wS(function(t){return NS(t)?t:t.replace(sM,"-$&").toLowerCase()}),P1=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(oM,function(r,i,s){return Yn={name:i,styles:s,next:Yn},i})}return rM[e]!==1&&!NS(e)&&typeof n=="number"&&n!==0?n+"px":n},aM="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function Ql(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Yn={name:i.name,styles:i.styles,next:Yn},i.name;var s=n;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Yn={name:o.name,styles:o.styles,next:Yn},o=o.next;var a=s.styles+";";return a}return lM(t,e,n)}case"function":{if(t!==void 0){var l=Yn,c=n(t);return Yn=l,Ql(t,e,c)}break}}var d=n;if(e==null)return d;var f=e[d];return f!==void 0?f:d}function lM(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ql(t,e,n[i])+";";else for(var s in n){var o=n[s];if(typeof o!="object"){var a=o;e!=null&&e[a]!==void 0?r+=s+"{"+e[a]+"}":C1(a)&&(r+=Qf(s)+":"+P1(s,a)+";")}else{if(s==="NO_COMPONENT_SELECTOR"&&iM)throw new Error(aM);if(Array.isArray(o)&&typeof o[0]=="string"&&(e==null||e[o[0]]===void 0))for(var l=0;l<o.length;l++)C1(o[l])&&(r+=Qf(s)+":"+P1(s,o[l])+";");else{var c=Ql(t,e,o);switch(s){case"animation":case"animationName":{r+=Qf(s)+":"+c+";";break}default:r+=s+"{"+c+"}"}}}}return r}var k1=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Yn;function jy(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Yn=void 0;var s=t[0];if(s==null||s.raw===void 0)r=!1,i+=Ql(n,e,s);else{var o=s;i+=o[0]}for(var a=1;a<t.length;a++)if(i+=Ql(n,e,t[a]),r){var l=s;i+=l[a]}k1.lastIndex=0;for(var c="",d;(d=k1.exec(i))!==null;)c+="-"+d[1];var f=nM(i)+c;return{name:f,styles:i,next:Yn}}var uM=function(e){return e()},MS=Qv.useInsertionEffect?Qv.useInsertionEffect:!1,cM=MS||uM,D1=MS||O.useLayoutEffect,OS=O.createContext(typeof HTMLElement<"u"?GN({key:"css"}):null);OS.Provider;var LS=function(e){return O.forwardRef(function(n,r){var i=O.useContext(OS);return e(n,i,r)})},Ch=O.createContext({}),dM=LS(function(t,e){var n=t.styles,r=jy([n],void 0,O.useContext(Ch)),i=O.useRef();return D1(function(){var s=e.key+"-global",o=new e.sheet.constructor({key:s,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+s+" "+r.name+'"]');return e.sheet.tags.length&&(o.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",s),o.hydrate([l])),i.current=[o,a],function(){o.flush()}},[e]),D1(function(){var s=i.current,o=s[0],a=s[1];if(a){s[1]=!1;return}if(r.next!==void 0&&VS(e,r.next,!0),o.tags.length){var l=o.tags[o.tags.length-1].nextElementSibling;o.before=l,o.flush()}e.insert("",r,o,!1)},[e,r.name]),null});function hM(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return jy(e)}var zy=function(){var e=hM.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},fM=mN,pM=function(e){return e!=="theme"},V1=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?fM:pM},N1=function(e,n,r){var i;if(n){var s=n.shouldForwardProp;i=e.__emotion_forwardProp&&s?function(o){return e.__emotion_forwardProp(o)&&s(o)}:s}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},mM=!1,gM=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return DS(n,r,i),cM(function(){return VS(n,r,i)}),null},yM=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,s,o;n!==void 0&&(s=n.label,o=n.target);var a=N1(e,n,r),l=a||V1(i),c=!l("as");return function(){var d=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(s!==void 0&&f.push("label:"+s+";"),d[0]==null||d[0].raw===void 0)f.push.apply(f,d);else{f.push(d[0][0]);for(var p=d.length,g=1;g<p;g++)f.push(d[g],d[0][g])}var _=LS(function(T,P,x){var E=c&&T.as||i,I="",k=[],M=T;if(T.theme==null){M={};for(var F in T)M[F]=T[F];M.theme=O.useContext(Ch)}typeof T.className=="string"?I=tM(P.registered,k,T.className):T.className!=null&&(I=T.className+" ");var v=jy(f.concat(k),P.registered,M);I+=P.key+"-"+v.name,o!==void 0&&(I+=" "+o);var y=c&&a===void 0?V1(E):l,S={};for(var b in T)c&&b==="as"||y(b)&&(S[b]=T[b]);return S.className=I,x&&(S.ref=x),O.createElement(O.Fragment,null,O.createElement(gM,{cache:P,serialized:v,isStringTag:typeof E=="string"}),O.createElement(E,S))});return _.displayName=s!==void 0?s:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",_.defaultProps=e.defaultProps,_.__emotion_real=_,_.__emotion_base=i,_.__emotion_styles=f,_.__emotion_forwardProp=a,Object.defineProperty(_,"toString",{value:function(){return o===void 0&&mM?"NO_COMPONENT_SELECTOR":"."+o}}),_.withComponent=function(T,P){return t(T,V({},n,P,{shouldForwardProp:N1(_,P,!0)})).apply(void 0,f)},_}},vM=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],xm=yM.bind();vM.forEach(function(t){xm[t]=xm(t)});function _M(t){return t==null||Object.keys(t).length===0}function wM(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(_M(i)?n:i):e;return D.jsx(dM,{styles:r})}function FS(t,e){return xm(t,e)}const EM=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},TM=["values","unit","step"],IM=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>V({},n,{[r.key]:r.val}),{})};function xM(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=ae(t,TM),s=IM(e),o=Object.keys(s);function a(p){return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n})`}function l(p){return`@media (max-width:${(typeof e[p]=="number"?e[p]:p)-r/100}${n})`}function c(p,g){const _=o.indexOf(g);return`@media (min-width:${typeof e[p]=="number"?e[p]:p}${n}) and (max-width:${(_!==-1&&typeof e[o[_]]=="number"?e[o[_]]:g)-r/100}${n})`}function d(p){return o.indexOf(p)+1<o.length?c(p,o[o.indexOf(p)+1]):a(p)}function f(p){const g=o.indexOf(p);return g===0?a(o[1]):g===o.length-1?l(o[g]):c(p,o[o.indexOf(p)+1]).replace("@media","@media not all and")}return V({keys:o,values:s,up:a,down:l,between:c,only:d,not:f,unit:n},i)}const SM={borderRadius:4};function cl(t,e){return e?$n(t,e,{clone:!1}):t}const Uy={xs:0,sm:600,md:900,lg:1200,xl:1536},M1={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${Uy[t]}px)`};function Un(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const s=r.breakpoints||M1;return e.reduce((o,a,l)=>(o[s.up(s.keys[l])]=n(e[l]),o),{})}if(typeof e=="object"){const s=r.breakpoints||M1;return Object.keys(e).reduce((o,a)=>{if(Object.keys(s.values||Uy).indexOf(a)!==-1){const l=s.up(a);o[l]=n(e[a],a)}else{const l=a;o[l]=e[l]}return o},{})}return n(e)}function BS(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const s=t.up(i);return r[s]={},r},{}))||{}}function $S(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function bM(t,...e){const n=BS(t),r=[n,...e].reduce((i,s)=>$n(i,s),{});return $S(Object.keys(n),r)}function RM(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,s)=>{s<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function Yf({values:t,breakpoints:e,base:n}){const r=n||RM(t,e),i=Object.keys(r);if(i.length===0)return t;let s;return i.reduce((o,a,l)=>(Array.isArray(t)?(o[a]=t[l]!=null?t[l]:t[s],s=l):typeof t=="object"?(o[a]=t[a]!=null?t[a]:t[s],s=a):o[a]=t,o),{})}function Ph(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,s)=>i&&i[s]?i[s]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function bd(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=Ph(t,n)||r,e&&(i=e(i,r,t)),i}function tt(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,s=o=>{if(o[e]==null)return null;const a=o[e],l=o.theme,c=Ph(l,r)||{};return Un(o,a,f=>{let p=bd(c,i,f);return f===p&&typeof f=="string"&&(p=bd(c,i,`${e}${f==="default"?"":me(f)}`,f)),n===!1?p:{[n]:p}})};return s.propTypes={},s.filterProps=[e],s}function AM(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const CM={m:"margin",p:"padding"},PM={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},O1={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},kM=AM(t=>{if(t.length>2)if(O1[t])t=O1[t];else return[t];const[e,n]=t.split(""),r=CM[e],i=PM[n]||"";return Array.isArray(i)?i.map(s=>r+s):[r+i]}),qy=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Gy=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...qy,...Gy];function gu(t,e,n,r){var i;const s=(i=Ph(t,e,!1))!=null?i:n;return typeof s=="number"?o=>typeof o=="string"?o:s*o:Array.isArray(s)?o=>typeof o=="string"?o:s[o]:typeof s=="function"?s:()=>{}}function Wy(t){return gu(t,"spacing",8)}function vs(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function DM(t,e){return n=>t.reduce((r,i)=>(r[i]=vs(e,n),r),{})}function VM(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=kM(n),s=DM(i,r),o=t[n];return Un(t,o,s)}function jS(t,e){const n=Wy(t.theme);return Object.keys(t).map(r=>VM(t,e,r,n)).reduce(cl,{})}function We(t){return jS(t,qy)}We.propTypes={};We.filterProps=qy;function Ke(t){return jS(t,Gy)}Ke.propTypes={};Ke.filterProps=Gy;function NM(t=8){if(t.mui)return t;const e=Wy({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(s=>{const o=e(s);return typeof o=="number"?`${o}px`:o}).join(" ");return n.mui=!0,n}function kh(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(s=>{r[s]=i}),r),{}),n=r=>Object.keys(r).reduce((i,s)=>e[s]?cl(i,e[s](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function Sn(t){return typeof t!="number"?t:`${t}px solid`}function Dn(t,e){return tt({prop:t,themeKey:"borders",transform:e})}const MM=Dn("border",Sn),OM=Dn("borderTop",Sn),LM=Dn("borderRight",Sn),FM=Dn("borderBottom",Sn),BM=Dn("borderLeft",Sn),$M=Dn("borderColor"),jM=Dn("borderTopColor"),zM=Dn("borderRightColor"),UM=Dn("borderBottomColor"),qM=Dn("borderLeftColor"),GM=Dn("outline",Sn),WM=Dn("outlineColor"),Dh=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=gu(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:vs(e,r)});return Un(t,t.borderRadius,n)}return null};Dh.propTypes={};Dh.filterProps=["borderRadius"];kh(MM,OM,LM,FM,BM,$M,jM,zM,UM,qM,Dh,GM,WM);const Vh=t=>{if(t.gap!==void 0&&t.gap!==null){const e=gu(t.theme,"spacing",8),n=r=>({gap:vs(e,r)});return Un(t,t.gap,n)}return null};Vh.propTypes={};Vh.filterProps=["gap"];const Nh=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=gu(t.theme,"spacing",8),n=r=>({columnGap:vs(e,r)});return Un(t,t.columnGap,n)}return null};Nh.propTypes={};Nh.filterProps=["columnGap"];const Mh=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=gu(t.theme,"spacing",8),n=r=>({rowGap:vs(e,r)});return Un(t,t.rowGap,n)}return null};Mh.propTypes={};Mh.filterProps=["rowGap"];const KM=tt({prop:"gridColumn"}),HM=tt({prop:"gridRow"}),QM=tt({prop:"gridAutoFlow"}),YM=tt({prop:"gridAutoColumns"}),XM=tt({prop:"gridAutoRows"}),JM=tt({prop:"gridTemplateColumns"}),ZM=tt({prop:"gridTemplateRows"}),eO=tt({prop:"gridTemplateAreas"}),tO=tt({prop:"gridArea"});kh(Vh,Nh,Mh,KM,HM,QM,YM,XM,JM,ZM,eO,tO);function Io(t,e){return e==="grey"?e:t}const nO=tt({prop:"color",themeKey:"palette",transform:Io}),rO=tt({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Io}),iO=tt({prop:"backgroundColor",themeKey:"palette",transform:Io});kh(nO,rO,iO);function dn(t){return t<=1&&t!==0?`${t*100}%`:t}const sO=tt({prop:"width",transform:dn}),Ky=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const s=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||Uy[n];return s?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${s}${t.theme.breakpoints.unit}`}:{maxWidth:s}:{maxWidth:dn(n)}};return Un(t,t.maxWidth,e)}return null};Ky.filterProps=["maxWidth"];const oO=tt({prop:"minWidth",transform:dn}),aO=tt({prop:"height",transform:dn}),lO=tt({prop:"maxHeight",transform:dn}),uO=tt({prop:"minHeight",transform:dn});tt({prop:"size",cssProperty:"width",transform:dn});tt({prop:"size",cssProperty:"height",transform:dn});const cO=tt({prop:"boxSizing"});kh(sO,Ky,oO,aO,lO,uO,cO);const Oh={border:{themeKey:"borders",transform:Sn},borderTop:{themeKey:"borders",transform:Sn},borderRight:{themeKey:"borders",transform:Sn},borderBottom:{themeKey:"borders",transform:Sn},borderLeft:{themeKey:"borders",transform:Sn},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:Sn},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:Dh},color:{themeKey:"palette",transform:Io},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Io},backgroundColor:{themeKey:"palette",transform:Io},p:{style:Ke},pt:{style:Ke},pr:{style:Ke},pb:{style:Ke},pl:{style:Ke},px:{style:Ke},py:{style:Ke},padding:{style:Ke},paddingTop:{style:Ke},paddingRight:{style:Ke},paddingBottom:{style:Ke},paddingLeft:{style:Ke},paddingX:{style:Ke},paddingY:{style:Ke},paddingInline:{style:Ke},paddingInlineStart:{style:Ke},paddingInlineEnd:{style:Ke},paddingBlock:{style:Ke},paddingBlockStart:{style:Ke},paddingBlockEnd:{style:Ke},m:{style:We},mt:{style:We},mr:{style:We},mb:{style:We},ml:{style:We},mx:{style:We},my:{style:We},margin:{style:We},marginTop:{style:We},marginRight:{style:We},marginBottom:{style:We},marginLeft:{style:We},marginX:{style:We},marginY:{style:We},marginInline:{style:We},marginInlineStart:{style:We},marginInlineEnd:{style:We},marginBlock:{style:We},marginBlockStart:{style:We},marginBlockEnd:{style:We},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:Vh},rowGap:{style:Mh},columnGap:{style:Nh},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:dn},maxWidth:{style:Ky},minWidth:{transform:dn},height:{transform:dn},maxHeight:{transform:dn},minHeight:{transform:dn},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function dO(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function hO(t,e){return typeof t=="function"?t(e):t}function fO(){function t(n,r,i,s){const o={[n]:r,theme:i},a=s[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:c,transform:d,style:f}=a;if(r==null)return null;if(c==="typography"&&r==="inherit")return{[n]:r};const p=Ph(i,c)||{};return f?f(o):Un(o,r,_=>{let T=bd(p,d,_);return _===T&&typeof _=="string"&&(T=bd(p,d,`${n}${_==="default"?"":me(_)}`,_)),l===!1?T:{[l]:T}})}function e(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const o=(r=s.unstable_sxConfig)!=null?r:Oh;function a(l){let c=l;if(typeof l=="function")c=l(s);else if(typeof l!="object")return l;if(!c)return null;const d=BS(s.breakpoints),f=Object.keys(d);let p=d;return Object.keys(c).forEach(g=>{const _=hO(c[g],s);if(_!=null)if(typeof _=="object")if(o[g])p=cl(p,t(g,_,s,o));else{const T=Un({theme:s},_,P=>({[g]:P}));dO(T,_)?p[g]=e({sx:_,theme:s}):p=cl(p,T)}else p=cl(p,t(g,_,s,o))}),$S(f,p)}return Array.isArray(i)?i.map(a):a(i)}return e}const yu=fO();yu.filterProps=["sx"];function pO(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const mO=["breakpoints","palette","spacing","shape"];function Lh(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:s={}}=t,o=ae(t,mO),a=xM(n),l=NM(i);let c=$n({breakpoints:a,direction:"ltr",components:{},palette:V({mode:"light"},r),spacing:l,shape:V({},SM,s)},o);return c.applyStyles=pO,c=e.reduce((d,f)=>$n(d,f),c),c.unstable_sxConfig=V({},Oh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return yu({sx:f,theme:this})},c}function gO(t){return Object.keys(t).length===0}function Hy(t=null){const e=O.useContext(Ch);return!e||gO(e)?t:e}const yO=Lh();function Fh(t=yO){return Hy(t)}function vO({styles:t,themeId:e,defaultTheme:n={}}){const r=Fh(n),i=typeof t=="function"?t(e&&r[e]||r):t;return D.jsx(wM,{styles:i})}const _O=["sx"],wO=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:Oh;return Object.keys(t).forEach(s=>{i[s]?r.systemProps[s]=t[s]:r.otherProps[s]=t[s]}),r};function Qy(t){const{sx:e}=t,n=ae(t,_O),{systemProps:r,otherProps:i}=wO(n);let s;return Array.isArray(e)?s=[r,...e]:typeof e=="function"?s=(...o)=>{const a=e(...o);return Kr(a)?V({},r,a):r}:s=V({},r,e),V({},i,{sx:s})}const EO=["className","component"];function TO(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,s=FS("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(yu);return O.forwardRef(function(l,c){const d=Fh(n),f=Qy(l),{className:p,component:g="div"}=f,_=ae(f,EO);return D.jsx(s,V({as:g,ref:c,className:le(p,i?i(r):r),theme:e&&d[e]||d},_))})}const IO=["ownerState"],xO=["variants"],SO=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function bO(t){return Object.keys(t).length===0}function RO(t){return typeof t=="string"&&t.charCodeAt(0)>96}function Oc(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const AO=Lh(),CO=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function ac({defaultTheme:t,theme:e,themeId:n}){return bO(e)?t:e[n]||e}function PO(t){return t?(e,n)=>n[t]:null}function Lc(t,e){let{ownerState:n}=e,r=ae(e,IO);const i=typeof t=="function"?t(V({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(s=>Lc(s,V({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:s=[]}=i;let a=ae(i,xO);return s.forEach(l=>{let c=!0;typeof l.props=="function"?c=l.props(V({ownerState:n},r,n)):Object.keys(l.props).forEach(d=>{(n==null?void 0:n[d])!==l.props[d]&&r[d]!==l.props[d]&&(c=!1)}),c&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(V({ownerState:n},r,n)):l.style))}),a}return i}function zS(t={}){const{themeId:e,defaultTheme:n=AO,rootShouldForwardProp:r=Oc,slotShouldForwardProp:i=Oc}=t,s=o=>yu(V({},o,{theme:ac(V({},o,{defaultTheme:n,themeId:e}))}));return s.__mui_systemSx=!0,(o,a={})=>{EM(o,M=>M.filter(F=>!(F!=null&&F.__mui_systemSx)));const{name:l,slot:c,skipVariantsResolver:d,skipSx:f,overridesResolver:p=PO(CO(c))}=a,g=ae(a,SO),_=d!==void 0?d:c&&c!=="Root"&&c!=="root"||!1,T=f||!1;let P,x=Oc;c==="Root"||c==="root"?x=r:c?x=i:RO(o)&&(x=void 0);const E=FS(o,V({shouldForwardProp:x,label:P},g)),I=M=>typeof M=="function"&&M.__emotion_real!==M||Kr(M)?F=>Lc(M,V({},F,{theme:ac({theme:F.theme,defaultTheme:n,themeId:e})})):M,k=(M,...F)=>{let v=I(M);const y=F?F.map(I):[];l&&p&&y.push(A=>{const C=ac(V({},A,{defaultTheme:n,themeId:e}));if(!C.components||!C.components[l]||!C.components[l].styleOverrides)return null;const R=C.components[l].styleOverrides,te={};return Object.entries(R).forEach(([ue,ne])=>{te[ue]=Lc(ne,V({},A,{theme:C}))}),p(A,te)}),l&&!_&&y.push(A=>{var C;const R=ac(V({},A,{defaultTheme:n,themeId:e})),te=R==null||(C=R.components)==null||(C=C[l])==null?void 0:C.variants;return Lc({variants:te},V({},A,{theme:R}))}),T||y.push(s);const S=y.length-F.length;if(Array.isArray(M)&&S>0){const A=new Array(S).fill("");v=[...M,...A],v.raw=[...M.raw,...A]}const b=E(v,...y);return o.muiName&&(b.muiName=o.muiName),b};return E.withConfig&&(k.withConfig=E.withConfig),k}}const kO=zS();function US(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:Ny(e.components[n].defaultProps,r)}function qS({props:t,name:e,defaultTheme:n,themeId:r}){let i=Fh(n);return r&&(i=i[r]||i),US({theme:i,name:e,props:t})}function Yy(t,e=0,n=1){return fN(t,e,n)}function DO(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function _s(t){if(t.type)return t;if(t.charAt(0)==="#")return _s(DO(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Ho(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Ho(10,i))}else r=r.split(",");return r=r.map(s=>parseFloat(s)),{type:n,values:r,colorSpace:i}}function Bh(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,s)=>s<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function VO(t){t=_s(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,s=r*Math.min(i,1-i),o=(c,d=(c+n/30)%12)=>i-s*Math.max(Math.min(d-3,9-d,1),-1);let a="rgb";const l=[Math.round(o(0)*255),Math.round(o(8)*255),Math.round(o(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),Bh({type:a,values:l})}function L1(t){t=_s(t);let e=t.type==="hsl"||t.type==="hsla"?_s(VO(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function NO(t,e){const n=L1(t),r=L1(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function fn(t,e){return t=_s(t),e=Yy(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,Bh(t)}function MO(t,e){if(t=_s(t),e=Yy(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return Bh(t)}function OO(t,e){if(t=_s(t),e=Yy(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return Bh(t)}const GS=O.createContext(null);function WS(){return O.useContext(GS)}const LO=typeof Symbol=="function"&&Symbol.for,FO=LO?Symbol.for("mui.nested"):"__THEME_NESTED__";function BO(t,e){return typeof e=="function"?e(t):V({},t,e)}function $O(t){const{children:e,theme:n}=t,r=WS(),i=O.useMemo(()=>{const s=r===null?n:BO(r,n);return s!=null&&(s[FO]=r!==null),s},[n,r]);return D.jsx(GS.Provider,{value:i,children:e})}const jO=["value"],zO=O.createContext();function UO(t){let{value:e}=t,n=ae(t,jO);return D.jsx(zO.Provider,V({value:e??!0},n))}const qO=O.createContext(void 0);function GO({value:t,children:e}){return D.jsx(qO.Provider,{value:t,children:e})}const F1={};function B1(t,e,n,r=!1){return O.useMemo(()=>{const i=t&&e[t]||e;if(typeof n=="function"){const s=n(i),o=t?V({},e,{[t]:s}):s;return r?()=>o:o}return t?V({},e,{[t]:n}):V({},e,n)},[t,e,n,r])}function WO(t){const{children:e,theme:n,themeId:r}=t,i=Hy(F1),s=WS()||F1,o=B1(r,i,n),a=B1(r,s,n,!0),l=o.direction==="rtl";return D.jsx($O,{theme:a,children:D.jsx(Ch.Provider,{value:o,children:D.jsx(UO,{value:l,children:D.jsx(GO,{value:o==null?void 0:o.components,children:e})})})})}const KO=["component","direction","spacing","divider","children","className","useFlexGap"],HO=Lh(),QO=kO("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function YO(t){return qS({props:t,name:"MuiStack",defaultTheme:HO})}function XO(t,e){const n=O.Children.toArray(t).filter(Boolean);return n.reduce((r,i,s)=>(r.push(i),s<n.length-1&&r.push(O.cloneElement(e,{key:`separator-${s}`})),r),[])}const JO=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],ZO=({ownerState:t,theme:e})=>{let n=V({display:"flex",flexDirection:"column"},Un({theme:e},Yf({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=Wy(e),i=Object.keys(e.breakpoints.values).reduce((l,c)=>((typeof t.spacing=="object"&&t.spacing[c]!=null||typeof t.direction=="object"&&t.direction[c]!=null)&&(l[c]=!0),l),{}),s=Yf({values:t.direction,base:i}),o=Yf({values:t.spacing,base:i});typeof s=="object"&&Object.keys(s).forEach((l,c,d)=>{if(!s[l]){const p=c>0?s[d[c-1]]:"column";s[l]=p}}),n=$n(n,Un({theme:e},o,(l,c)=>t.useFlexGap?{gap:vs(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${JO(c?s[c]:t.direction)}`]:vs(r,l)}}))}return n=bM(e.breakpoints,n),n};function eL(t={}){const{createStyledComponent:e=QO,useThemeProps:n=YO,componentName:r="MuiStack"}=t,i=()=>ht({root:["root"]},l=>at(r,l),{}),s=e(ZO);return O.forwardRef(function(l,c){const d=n(l),f=Qy(d),{component:p="div",direction:g="column",spacing:_=0,divider:T,children:P,className:x,useFlexGap:E=!1}=f,I=ae(f,KO),k={direction:g,spacing:_,useFlexGap:E},M=i();return D.jsx(s,V({as:p,ownerState:k,ref:c,className:le(M.root,x)},I,{children:T?XO(P,T):P}))})}function tL(t,e){return V({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}const nL=["mode","contrastThreshold","tonalOffset"],$1={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Gl.white,default:Gl.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Xf={text:{primary:Gl.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Gl.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function j1(t,e,n,r){const i=r.light||r,s=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=OO(t.main,i):e==="dark"&&(t.dark=MO(t.main,s)))}function rL(t="light"){return t==="dark"?{main:Us[200],light:Us[50],dark:Us[400]}:{main:Us[700],light:Us[400],dark:Us[800]}}function iL(t="light"){return t==="dark"?{main:zs[200],light:zs[50],dark:zs[400]}:{main:zs[500],light:zs[300],dark:zs[700]}}function sL(t="light"){return t==="dark"?{main:js[500],light:js[300],dark:js[700]}:{main:js[700],light:js[400],dark:js[800]}}function oL(t="light"){return t==="dark"?{main:qs[400],light:qs[300],dark:qs[700]}:{main:qs[700],light:qs[500],dark:qs[900]}}function aL(t="light"){return t==="dark"?{main:Gs[400],light:Gs[300],dark:Gs[700]}:{main:Gs[800],light:Gs[500],dark:Gs[900]}}function lL(t="light"){return t==="dark"?{main:La[400],light:La[300],dark:La[700]}:{main:"#ed6c02",light:La[500],dark:La[900]}}function uL(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=ae(t,nL),s=t.primary||rL(e),o=t.secondary||iL(e),a=t.error||sL(e),l=t.info||oL(e),c=t.success||aL(e),d=t.warning||lL(e);function f(T){return NO(T,Xf.text.primary)>=n?Xf.text.primary:$1.text.primary}const p=({color:T,name:P,mainShade:x=500,lightShade:E=300,darkShade:I=700})=>{if(T=V({},T),!T.main&&T[x]&&(T.main=T[x]),!T.hasOwnProperty("main"))throw new Error(Ho(11,P?` (${P})`:"",x));if(typeof T.main!="string")throw new Error(Ho(12,P?` (${P})`:"",JSON.stringify(T.main)));return j1(T,"light",E,r),j1(T,"dark",I,r),T.contrastText||(T.contrastText=f(T.main)),T},g={dark:Xf,light:$1};return $n(V({common:V({},Gl),mode:e,primary:p({color:s,name:"primary"}),secondary:p({color:o,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:p({color:a,name:"error"}),warning:p({color:d,name:"warning"}),info:p({color:l,name:"info"}),success:p({color:c,name:"success"}),grey:ZV,contrastThreshold:n,getContrastText:f,augmentColor:p,tonalOffset:r},g[e]),i)}const cL=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function dL(t){return Math.round(t*1e5)/1e5}const z1={textTransform:"uppercase"},U1='"Roboto", "Helvetica", "Arial", sans-serif';function hL(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=U1,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:o=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:c=16,allVariants:d,pxToRem:f}=n,p=ae(n,cL),g=i/14,_=f||(x=>`${x/c*g}rem`),T=(x,E,I,k,M)=>V({fontFamily:r,fontWeight:x,fontSize:_(E),lineHeight:I},r===U1?{letterSpacing:`${dL(k/E)}em`}:{},M,d),P={h1:T(s,96,1.167,-1.5),h2:T(s,60,1.2,-.5),h3:T(o,48,1.167,0),h4:T(o,34,1.235,.25),h5:T(o,24,1.334,0),h6:T(a,20,1.6,.15),subtitle1:T(o,16,1.75,.15),subtitle2:T(a,14,1.57,.1),body1:T(o,16,1.5,.15),body2:T(o,14,1.43,.15),button:T(a,14,1.75,.4,z1),caption:T(o,12,1.66,.4),overline:T(o,12,2.66,1,z1),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return $n(V({htmlFontSize:c,pxToRem:_,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:o,fontWeightMedium:a,fontWeightBold:l},P),p,{clone:!1})}const fL=.2,pL=.14,mL=.12;function Me(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${fL})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${pL})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${mL})`].join(",")}const gL=["none",Me(0,2,1,-1,0,1,1,0,0,1,3,0),Me(0,3,1,-2,0,2,2,0,0,1,5,0),Me(0,3,3,-2,0,3,4,0,0,1,8,0),Me(0,2,4,-1,0,4,5,0,0,1,10,0),Me(0,3,5,-1,0,5,8,0,0,1,14,0),Me(0,3,5,-1,0,6,10,0,0,1,18,0),Me(0,4,5,-2,0,7,10,1,0,2,16,1),Me(0,5,5,-3,0,8,10,1,0,3,14,2),Me(0,5,6,-3,0,9,12,1,0,3,16,2),Me(0,6,6,-3,0,10,14,1,0,4,18,3),Me(0,6,7,-4,0,11,15,1,0,4,20,3),Me(0,7,8,-4,0,12,17,2,0,5,22,4),Me(0,7,8,-4,0,13,19,2,0,5,24,4),Me(0,7,9,-4,0,14,21,2,0,5,26,4),Me(0,8,9,-5,0,15,22,2,0,6,28,5),Me(0,8,10,-5,0,16,24,2,0,6,30,5),Me(0,8,11,-5,0,17,26,2,0,6,32,5),Me(0,9,11,-5,0,18,28,2,0,7,34,6),Me(0,9,12,-6,0,19,29,2,0,7,36,6),Me(0,10,13,-6,0,20,31,3,0,8,38,7),Me(0,10,13,-6,0,21,33,3,0,8,40,7),Me(0,10,14,-6,0,22,35,3,0,8,42,7),Me(0,11,14,-7,0,23,36,3,0,9,44,8),Me(0,11,15,-7,0,24,38,3,0,9,46,8)],yL=["duration","easing","delay"],vL={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},_L={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function q1(t){return`${Math.round(t)}ms`}function wL(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function EL(t){const e=V({},vL,t.easing),n=V({},_L,t.duration);return V({getAutoHeightDuration:wL,create:(i=["all"],s={})=>{const{duration:o=n.standard,easing:a=e.easeInOut,delay:l=0}=s;return ae(s,yL),(Array.isArray(i)?i:[i]).map(c=>`${c} ${typeof o=="string"?o:q1(o)} ${a} ${typeof l=="string"?l:q1(l)}`).join(",")}},t,{easing:e,duration:n})}const TL={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},IL=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function $h(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:s={}}=t,o=ae(t,IL);if(t.vars)throw new Error(Ho(18));const a=uL(r),l=Lh(t);let c=$n(l,{mixins:tL(l.breakpoints,n),palette:a,shadows:gL.slice(),typography:hL(a,s),transitions:EL(i),zIndex:V({},TL)});return c=$n(c,o),c=e.reduce((d,f)=>$n(d,f),c),c.unstable_sxConfig=V({},Oh,o==null?void 0:o.unstable_sxConfig),c.unstable_sx=function(f){return yu({sx:f,theme:this})},c}const jh=$h();function vu(){const t=Fh(jh);return t[ys]||t}function nt({props:t,name:e}){return qS({props:t,name:e,defaultTheme:jh,themeId:ys})}const zh=t=>Oc(t)&&t!=="classes",X=zS({themeId:ys,defaultTheme:jh,rootShouldForwardProp:zh}),xL=["theme"];function SL(t){let{theme:e}=t,n=ae(t,xL);const r=e[ys];return D.jsx(WO,V({},n,{themeId:r?ys:void 0,theme:r||e}))}const G1=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function bL(t){return at("MuiSvgIcon",t)}lt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const RL=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],AL=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${me(e)}`,`fontSize${me(n)}`]};return ht(i,bL,r)},CL=X("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${me(n.color)}`],e[`fontSize${me(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,s,o,a,l,c,d,f,p,g,_;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((s=t.typography)==null||(o=s.pxToRem)==null?void 0:o.call(s,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((c=t.typography)==null||(d=c.pxToRem)==null?void 0:d.call(c,35))||"2.1875rem"}[e.fontSize],color:(f=(p=(t.vars||t).palette)==null||(p=p[e.color])==null?void 0:p.main)!=null?f:{action:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.active,disabled:(_=(t.vars||t).palette)==null||(_=_.action)==null?void 0:_.disabled,inherit:void 0}[e.color]}}),Sm=O.forwardRef(function(e,n){const r=nt({props:e,name:"MuiSvgIcon"}),{children:i,className:s,color:o="inherit",component:a="svg",fontSize:l="medium",htmlColor:c,inheritViewBox:d=!1,titleAccess:f,viewBox:p="0 0 24 24"}=r,g=ae(r,RL),_=O.isValidElement(i)&&i.type==="svg",T=V({},r,{color:o,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:d,viewBox:p,hasSvgAsChild:_}),P={};d||(P.viewBox=p);const x=AL(T);return D.jsxs(CL,V({as:a,className:le(x.root,s),focusable:"false",color:c,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n},P,g,_&&i.props,{ownerState:T,children:[_?i.props.children:i,f?D.jsx("title",{children:f}):null]}))});Sm.muiName="SvgIcon";function As(t,e){function n(r,i){return D.jsx(Sm,V({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=Sm.muiName,O.memo(O.forwardRef(n))}function bm(t,e){return bm=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},bm(t,e)}function KS(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,bm(t,e)}const W1={disabled:!1},Rd=Zt.createContext(null);var PL=function(e){return e.scrollTop},Ha="unmounted",Bi="exited",$i="entering",Js="entered",Rm="exiting",ar=function(t){KS(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=i,a=o&&!o.isMounting?r.enter:r.appear,l;return s.appearStatus=null,r.in?a?(l=Bi,s.appearStatus=$i):l=Js:r.unmountOnExit||r.mountOnEnter?l=Ha:l=Bi,s.state={status:l},s.nextCallback=null,s}e.getDerivedStateFromProps=function(i,s){var o=i.in;return o&&s.status===Ha?{status:Bi}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var s=null;if(i!==this.props){var o=this.state.status;this.props.in?o!==$i&&o!==Js&&(s=$i):(o===$i||o===Js)&&(s=Rm)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,s,o,a;return s=o=a=i,i!=null&&typeof i!="number"&&(s=i.exit,o=i.enter,a=i.appear!==void 0?i.appear:o),{exit:s,enter:o,appear:a}},n.updateStatus=function(i,s){if(i===void 0&&(i=!1),s!==null)if(this.cancelNextCallback(),s===$i){if(this.props.unmountOnExit||this.props.mountOnEnter){var o=this.props.nodeRef?this.props.nodeRef.current:Zu.findDOMNode(this);o&&PL(o)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Bi&&this.setState({status:Ha})},n.performEnter=function(i){var s=this,o=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[Zu.findDOMNode(this),a],c=l[0],d=l[1],f=this.getTimeouts(),p=a?f.appear:f.enter;if(!i&&!o||W1.disabled){this.safeSetState({status:Js},function(){s.props.onEntered(c)});return}this.props.onEnter(c,d),this.safeSetState({status:$i},function(){s.props.onEntering(c,d),s.onTransitionEnd(p,function(){s.safeSetState({status:Js},function(){s.props.onEntered(c,d)})})})},n.performExit=function(){var i=this,s=this.props.exit,o=this.getTimeouts(),a=this.props.nodeRef?void 0:Zu.findDOMNode(this);if(!s||W1.disabled){this.safeSetState({status:Bi},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:Rm},function(){i.props.onExiting(a),i.onTransitionEnd(o.exit,function(){i.safeSetState({status:Bi},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,s){s=this.setNextCallback(s),this.setState(i,s)},n.setNextCallback=function(i){var s=this,o=!0;return this.nextCallback=function(a){o&&(o=!1,s.nextCallback=null,i(a))},this.nextCallback.cancel=function(){o=!1},this.nextCallback},n.onTransitionEnd=function(i,s){this.setNextCallback(s);var o=this.props.nodeRef?this.props.nodeRef.current:Zu.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!o||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[o,this.nextCallback],c=l[0],d=l[1];this.props.addEndListener(c,d)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===Ha)return null;var s=this.props,o=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var a=ae(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Zt.createElement(Rd.Provider,{value:null},typeof o=="function"?o(i,a):Zt.cloneElement(Zt.Children.only(o),a))},e}(Zt.Component);ar.contextType=Rd;ar.propTypes={};function Ws(){}ar.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ws,onEntering:Ws,onEntered:Ws,onExit:Ws,onExiting:Ws,onExited:Ws};ar.UNMOUNTED=Ha;ar.EXITED=Bi;ar.ENTERING=$i;ar.ENTERED=Js;ar.EXITING=Rm;function kL(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xy(t,e){var n=function(s){return e&&O.isValidElement(s)?e(s):s},r=Object.create(null);return t&&O.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function DL(t,e){t=t||{},e=e||{};function n(d){return d in e?e[d]:t[d]}var r=Object.create(null),i=[];for(var s in t)s in e?i.length&&(r[s]=i,i=[]):i.push(s);var o,a={};for(var l in e){if(r[l])for(o=0;o<r[l].length;o++){var c=r[l][o];a[r[l][o]]=n(c)}a[l]=n(l)}for(o=0;o<i.length;o++)a[i[o]]=n(i[o]);return a}function Xi(t,e,n){return n[e]!=null?n[e]:t.props[e]}function VL(t,e){return Xy(t.children,function(n){return O.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Xi(n,"appear",t),enter:Xi(n,"enter",t),exit:Xi(n,"exit",t)})})}function NL(t,e,n){var r=Xy(t.children),i=DL(e,r);return Object.keys(i).forEach(function(s){var o=i[s];if(O.isValidElement(o)){var a=s in e,l=s in r,c=e[s],d=O.isValidElement(c)&&!c.props.in;l&&(!a||d)?i[s]=O.cloneElement(o,{onExited:n.bind(null,o),in:!0,exit:Xi(o,"exit",t),enter:Xi(o,"enter",t)}):!l&&a&&!d?i[s]=O.cloneElement(o,{in:!1}):l&&a&&O.isValidElement(c)&&(i[s]=O.cloneElement(o,{onExited:n.bind(null,o),in:c.props.in,exit:Xi(o,"exit",t),enter:Xi(o,"enter",t)}))}}),i}var ML=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},OL={component:"div",childFactory:function(e){return e}},Jy=function(t){KS(e,t);function e(r,i){var s;s=t.call(this,r,i)||this;var o=s.handleExited.bind(kL(s));return s.state={contextValue:{isMounting:!0},handleExited:o,firstRender:!0},s}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,s){var o=s.children,a=s.handleExited,l=s.firstRender;return{children:l?VL(i,a):NL(i,o,a),firstRender:!1}},n.handleExited=function(i,s){var o=Xy(this.props.children);i.key in o||(i.props.onExited&&i.props.onExited(s),this.mounted&&this.setState(function(a){var l=V({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,s=i.component,o=i.childFactory,a=ae(i,["component","childFactory"]),l=this.state.contextValue,c=ML(this.state.children).map(o);return delete a.appear,delete a.enter,delete a.exit,s===null?Zt.createElement(Rd.Provider,{value:l},c):Zt.createElement(Rd.Provider,{value:l},Zt.createElement(s,a,c))},e}(Zt.Component);Jy.propTypes={};Jy.defaultProps=OL;const HS=t=>t.scrollTop;function Ad(t,e){var n,r;const{timeout:i,easing:s,style:o={}}=t;return{duration:(n=o.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=o.transitionTimingFunction)!=null?r:typeof s=="object"?s[e.mode]:s,delay:o.transitionDelay}}function LL(t){return at("MuiPaper",t)}lt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const FL=["className","component","elevation","square","variant"],BL=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,s={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return ht(s,LL,i)},$L=X("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return V({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&V({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${fn("#fff",G1(e.elevation))}, ${fn("#fff",G1(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),QS=O.forwardRef(function(e,n){const r=nt({props:e,name:"MuiPaper"}),{className:i,component:s="div",elevation:o=1,square:a=!1,variant:l="elevation"}=r,c=ae(r,FL),d=V({},r,{component:s,elevation:o,square:a,variant:l}),f=BL(d);return D.jsx($L,V({as:s,ownerState:d,className:le(f.root,i),ref:n},c))});function jL(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:s,rippleSize:o,in:a,onExited:l,timeout:c}=t,[d,f]=O.useState(!1),p=le(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),g={width:o,height:o,top:-(o/2)+s,left:-(o/2)+i},_=le(n.child,d&&n.childLeaving,r&&n.childPulsate);return!a&&!d&&f(!0),O.useEffect(()=>{if(!a&&l!=null){const T=setTimeout(l,c);return()=>{clearTimeout(T)}}},[l,a,c]),D.jsx("span",{className:p,style:g,children:D.jsx("span",{className:_})})}const Tn=lt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),zL=["center","classes","className"];let Uh=t=>t,K1,H1,Q1,Y1;const Am=550,UL=80,qL=zy(K1||(K1=Uh`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),GL=zy(H1||(H1=Uh`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),WL=zy(Q1||(Q1=Uh`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),KL=X("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),HL=X(jL,{name:"MuiTouchRipple",slot:"Ripple"})(Y1||(Y1=Uh`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Tn.rippleVisible,qL,Am,({theme:t})=>t.transitions.easing.easeInOut,Tn.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,Tn.child,Tn.childLeaving,GL,Am,({theme:t})=>t.transitions.easing.easeInOut,Tn.childPulsate,WL,({theme:t})=>t.transitions.easing.easeInOut),QL=O.forwardRef(function(e,n){const r=nt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:s={},className:o}=r,a=ae(r,zL),[l,c]=O.useState([]),d=O.useRef(0),f=O.useRef(null);O.useEffect(()=>{f.current&&(f.current(),f.current=null)},[l]);const p=O.useRef(!1),g=O.useRef(0),_=O.useRef(null),T=O.useRef(null);O.useEffect(()=>()=>{g.current&&clearTimeout(g.current)},[]);const P=O.useCallback(k=>{const{pulsate:M,rippleX:F,rippleY:v,rippleSize:y,cb:S}=k;c(b=>[...b,D.jsx(HL,{classes:{ripple:le(s.ripple,Tn.ripple),rippleVisible:le(s.rippleVisible,Tn.rippleVisible),ripplePulsate:le(s.ripplePulsate,Tn.ripplePulsate),child:le(s.child,Tn.child),childLeaving:le(s.childLeaving,Tn.childLeaving),childPulsate:le(s.childPulsate,Tn.childPulsate)},timeout:Am,pulsate:M,rippleX:F,rippleY:v,rippleSize:y},d.current)]),d.current+=1,f.current=S},[s]),x=O.useCallback((k={},M={},F=()=>{})=>{const{pulsate:v=!1,center:y=i||M.pulsate,fakeElement:S=!1}=M;if((k==null?void 0:k.type)==="mousedown"&&p.current){p.current=!1;return}(k==null?void 0:k.type)==="touchstart"&&(p.current=!0);const b=S?null:T.current,A=b?b.getBoundingClientRect():{width:0,height:0,left:0,top:0};let C,R,te;if(y||k===void 0||k.clientX===0&&k.clientY===0||!k.clientX&&!k.touches)C=Math.round(A.width/2),R=Math.round(A.height/2);else{const{clientX:ue,clientY:ne}=k.touches&&k.touches.length>0?k.touches[0]:k;C=Math.round(ue-A.left),R=Math.round(ne-A.top)}if(y)te=Math.sqrt((2*A.width**2+A.height**2)/3),te%2===0&&(te+=1);else{const ue=Math.max(Math.abs((b?b.clientWidth:0)-C),C)*2+2,ne=Math.max(Math.abs((b?b.clientHeight:0)-R),R)*2+2;te=Math.sqrt(ue**2+ne**2)}k!=null&&k.touches?_.current===null&&(_.current=()=>{P({pulsate:v,rippleX:C,rippleY:R,rippleSize:te,cb:F})},g.current=setTimeout(()=>{_.current&&(_.current(),_.current=null)},UL)):P({pulsate:v,rippleX:C,rippleY:R,rippleSize:te,cb:F})},[i,P]),E=O.useCallback(()=>{x({},{pulsate:!0})},[x]),I=O.useCallback((k,M)=>{if(clearTimeout(g.current),(k==null?void 0:k.type)==="touchend"&&_.current){_.current(),_.current=null,g.current=setTimeout(()=>{I(k,M)});return}_.current=null,c(F=>F.length>0?F.slice(1):F),f.current=M},[]);return O.useImperativeHandle(n,()=>({pulsate:E,start:x,stop:I}),[E,x,I]),D.jsx(KL,V({className:le(Tn.root,s.root,o),ref:T},a,{children:D.jsx(Jy,{component:null,exit:!0,children:l})}))});function YL(t){return at("MuiButtonBase",t)}const XL=lt("MuiButtonBase",["root","disabled","focusVisible"]),JL=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],ZL=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,o=ht({root:["root",e&&"disabled",n&&"focusVisible"]},YL,i);return n&&r&&(o.root+=` ${r}`),o},e4=X("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${XL.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),_u=O.forwardRef(function(e,n){const r=nt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:s=!1,children:o,className:a,component:l="button",disabled:c=!1,disableRipple:d=!1,disableTouchRipple:f=!1,focusRipple:p=!1,LinkComponent:g="a",onBlur:_,onClick:T,onContextMenu:P,onDragLeave:x,onFocus:E,onFocusVisible:I,onKeyDown:k,onKeyUp:M,onMouseDown:F,onMouseLeave:v,onMouseUp:y,onTouchEnd:S,onTouchMove:b,onTouchStart:A,tabIndex:C=0,TouchRippleProps:R,touchRippleRef:te,type:ue}=r,ne=ae(r,JL),se=O.useRef(null),j=O.useRef(null),H=xr(j,te),{isFocusVisibleRef:ee,onFocus:fe,onBlur:_e,ref:Ae}=uN(),[$e,Xe]=O.useState(!1);c&&$e&&Xe(!1),O.useImperativeHandle(i,()=>({focusVisible:()=>{Xe(!0),se.current.focus()}}),[]);const[ft,Yt]=O.useState(!1);O.useEffect(()=>{Yt(!0)},[]);const Cs=ft&&!d&&!c;O.useEffect(()=>{$e&&p&&!d&&ft&&j.current.pulsate()},[d,p,$e,ft]);function Bt(re,ca,Kh=f){return fo(Vr=>(ca&&ca(Vr),!Kh&&j.current&&j.current[re](Vr),!0))}const Gn=Bt("start",F),Pr=Bt("stop",P),Ri=Bt("stop",x),En=Bt("stop",y),Wn=Bt("stop",re=>{$e&&re.preventDefault(),v&&v(re)}),la=Bt("start",A),wu=Bt("stop",S),qh=Bt("stop",b),Gh=Bt("stop",re=>{_e(re),ee.current===!1&&Xe(!1),_&&_(re)},!1),Eu=fo(re=>{se.current||(se.current=re.currentTarget),fe(re),ee.current===!0&&(Xe(!0),I&&I(re)),E&&E(re)}),Ai=()=>{const re=se.current;return l&&l!=="button"&&!(re.tagName==="A"&&re.href)},Ps=O.useRef(!1),Wh=fo(re=>{p&&!Ps.current&&$e&&j.current&&re.key===" "&&(Ps.current=!0,j.current.stop(re,()=>{j.current.start(re)})),re.target===re.currentTarget&&Ai()&&re.key===" "&&re.preventDefault(),k&&k(re),re.target===re.currentTarget&&Ai()&&re.key==="Enter"&&!c&&(re.preventDefault(),T&&T(re))}),ua=fo(re=>{p&&re.key===" "&&j.current&&$e&&!re.defaultPrevented&&(Ps.current=!1,j.current.stop(re,()=>{j.current.pulsate(re)})),M&&M(re),T&&re.target===re.currentTarget&&Ai()&&re.key===" "&&!re.defaultPrevented&&T(re)});let kr=l;kr==="button"&&(ne.href||ne.to)&&(kr=g);const Dr={};kr==="button"?(Dr.type=ue===void 0?"button":ue,Dr.disabled=c):(!ne.href&&!ne.to&&(Dr.role="button"),c&&(Dr["aria-disabled"]=c));const pt=xr(n,Ae,se),mt=V({},r,{centerRipple:s,component:l,disabled:c,disableRipple:d,disableTouchRipple:f,focusRipple:p,tabIndex:C,focusVisible:$e}),ks=ZL(mt);return D.jsxs(e4,V({as:kr,className:le(ks.root,a),ownerState:mt,onBlur:Gh,onClick:T,onContextMenu:Pr,onFocus:Eu,onKeyDown:Wh,onKeyUp:ua,onMouseDown:Gn,onMouseLeave:Wn,onMouseUp:En,onDragLeave:Ri,onTouchEnd:wu,onTouchMove:qh,onTouchStart:la,ref:pt,tabIndex:c?-1:C,type:ue},Dr,ne,{children:[o,Cs?D.jsx(QL,V({ref:H,center:s},R)):null]}))});function t4(t){return at("MuiIconButton",t)}const n4=lt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),r4=["edge","children","className","color","disabled","disableFocusRipple","size"],i4=t=>{const{classes:e,disabled:n,color:r,edge:i,size:s}=t,o={root:["root",n&&"disabled",r!=="default"&&`color${me(r)}`,i&&`edge${me(i)}`,`size${me(s)}`]};return ht(o,t4,e)},s4=X(_u,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${me(n.color)}`],n.edge&&e[`edge${me(n.edge)}`],e[`size${me(n.size)}`]]}})(({theme:t,ownerState:e})=>V({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:fn(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return V({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&V({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":V({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:fn(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${n4.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),X1=O.forwardRef(function(e,n){const r=nt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:s,className:o,color:a="default",disabled:l=!1,disableFocusRipple:c=!1,size:d="medium"}=r,f=ae(r,r4),p=V({},r,{edge:i,color:a,disabled:l,disableFocusRipple:c,size:d}),g=i4(p);return D.jsx(s4,V({className:le(g.root,o),centerRipple:!0,focusRipple:!c,disabled:l,ref:n,ownerState:p},f,{children:s}))});function o4(t){return at("MuiTypography",t)}const Cm=lt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),a4=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],l4=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:o}=t,a={root:["root",s,t.align!=="inherit"&&`align${me(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return ht(a,o4,o)},u4=X("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${me(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>V({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),J1={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},c4={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},d4=t=>c4[t]||t,mr=O.forwardRef(function(e,n){const r=nt({props:e,name:"MuiTypography"}),i=d4(r.color),s=Qy(V({},r,{color:i})),{align:o="inherit",className:a,component:l,gutterBottom:c=!1,noWrap:d=!1,paragraph:f=!1,variant:p="body1",variantMapping:g=J1}=s,_=ae(s,a4),T=V({},s,{align:o,color:i,className:a,component:l,gutterBottom:c,noWrap:d,paragraph:f,variant:p,variantMapping:g}),P=l||(f?"p":g[p]||J1[p])||"span",x=l4(T);return D.jsx(u4,V({as:P,ref:n,ownerState:T,className:le(x.root,a)},_))});function h4(t){return at("MuiAppBar",t)}lt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const f4=["className","color","enableColorOnDark","position"],p4=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${me(e)}`,`position${me(n)}`]};return ht(i,h4,r)},lc=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,m4=X(QS,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${me(n.position)}`],e[`color${me(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return V({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&V({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&V({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&V({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:lc(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:lc(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:lc(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:lc(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),g4=O.forwardRef(function(e,n){const r=nt({props:e,name:"MuiAppBar"}),{className:i,color:s="primary",enableColorOnDark:o=!1,position:a="fixed"}=r,l=ae(r,f4),c=V({},r,{color:s,position:a,enableColorOnDark:o}),d=p4(c);return D.jsx(m4,V({square:!0,component:"header",ownerState:c,elevation:4,className:le(d.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))});function Pm(t){return typeof t=="string"}function y4(t,e,n){return t===void 0||Pm(t)?e:V({},e,{ownerState:V({},e.ownerState,n)})}function YS(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function v4(t,e,n){return typeof t=="function"?t(e,n):t}function Z1(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function _4(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=t;if(!e){const g=le(i==null?void 0:i.className,r==null?void 0:r.className,s,n==null?void 0:n.className),_=V({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),T=V({},n,i,r);return g.length>0&&(T.className=g),Object.keys(_).length>0&&(T.style=_),{props:T,internalRef:void 0}}const o=YS(V({},i,r)),a=Z1(r),l=Z1(i),c=e(o),d=le(c==null?void 0:c.className,n==null?void 0:n.className,s,i==null?void 0:i.className,r==null?void 0:r.className),f=V({},c==null?void 0:c.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),p=V({},c,n,l,a);return d.length>0&&(p.className=d),Object.keys(f).length>0&&(p.style=f),{props:p,internalRef:c.ref}}const w4=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function ew(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:s=!1}=t,o=ae(t,w4),a=s?{}:v4(r,i),{props:l,internalRef:c}=_4(V({},o,{externalSlotProps:a})),d=xr(c,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return y4(n,V({},l,{ref:d}),i)}const E4=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function T4(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function I4(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function x4(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||I4(t))}function S4(t){const e=[],n=[];return Array.from(t.querySelectorAll(E4)).forEach((r,i)=>{const s=T4(r);s===-1||!x4(r)||(s===0?e.push(r):n.push({documentOrder:i,tabIndex:s,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function b4(){return!0}function R4(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:s=S4,isEnabled:o=b4,open:a}=t,l=O.useRef(!1),c=O.useRef(null),d=O.useRef(null),f=O.useRef(null),p=O.useRef(null),g=O.useRef(!1),_=O.useRef(null),T=xr(e.ref,_),P=O.useRef(null);O.useEffect(()=>{!a||!_.current||(g.current=!n)},[n,a]),O.useEffect(()=>{if(!a||!_.current)return;const I=ai(_.current);return _.current.contains(I.activeElement)||(_.current.hasAttribute("tabIndex")||_.current.setAttribute("tabIndex","-1"),g.current&&_.current.focus()),()=>{i||(f.current&&f.current.focus&&(l.current=!0,f.current.focus()),f.current=null)}},[a]),O.useEffect(()=>{if(!a||!_.current)return;const I=ai(_.current),k=v=>{P.current=v,!(r||!o()||v.key!=="Tab")&&I.activeElement===_.current&&v.shiftKey&&(l.current=!0,d.current&&d.current.focus())},M=()=>{const v=_.current;if(v===null)return;if(!I.hasFocus()||!o()||l.current){l.current=!1;return}if(v.contains(I.activeElement)||r&&I.activeElement!==c.current&&I.activeElement!==d.current)return;if(I.activeElement!==p.current)p.current=null;else if(p.current!==null)return;if(!g.current)return;let y=[];if((I.activeElement===c.current||I.activeElement===d.current)&&(y=s(_.current)),y.length>0){var S,b;const A=!!((S=P.current)!=null&&S.shiftKey&&((b=P.current)==null?void 0:b.key)==="Tab"),C=y[0],R=y[y.length-1];typeof C!="string"&&typeof R!="string"&&(A?R.focus():C.focus())}else v.focus()};I.addEventListener("focusin",M),I.addEventListener("keydown",k,!0);const F=setInterval(()=>{I.activeElement&&I.activeElement.tagName==="BODY"&&M()},50);return()=>{clearInterval(F),I.removeEventListener("focusin",M),I.removeEventListener("keydown",k,!0)}},[n,r,i,o,a,s]);const x=I=>{f.current===null&&(f.current=I.relatedTarget),g.current=!0,p.current=I.target;const k=e.props.onFocus;k&&k(I)},E=I=>{f.current===null&&(f.current=I.relatedTarget),g.current=!0};return D.jsxs(O.Fragment,{children:[D.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:c,"data-testid":"sentinelStart"}),O.cloneElement(e,{ref:T,onFocus:x}),D.jsx("div",{tabIndex:a?0:-1,onFocus:E,ref:d,"data-testid":"sentinelEnd"})]})}function A4(t){return typeof t=="function"?t():t}const C4=O.forwardRef(function(e,n){const{children:r,container:i,disablePortal:s=!1}=e,[o,a]=O.useState(null),l=xr(O.isValidElement(r)?r.ref:null,n);if(Wl(()=>{s||a(A4(i)||document.body)},[i,s]),Wl(()=>{if(o&&!s)return wm(n,o),()=>{wm(n,null)}},[n,o,s]),s){if(O.isValidElement(r)){const c={ref:l};return O.cloneElement(r,c)}return D.jsx(O.Fragment,{children:r})}return D.jsx(O.Fragment,{children:o&&Sg.createPortal(r,o)})});function P4(t){const e=ai(t);return e.body===t?pu(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function dl(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function tw(t){return parseInt(pu(t).getComputedStyle(t).paddingRight,10)||0}function k4(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function nw(t,e,n,r,i){const s=[e,n,...r];[].forEach.call(t.children,o=>{const a=s.indexOf(o)===-1,l=!k4(o);a&&l&&dl(o,i)})}function Jf(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function D4(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(P4(r)){const o=cN(ai(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${tw(r)+o}px`;const a=ai(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${tw(l)+o}px`})}let s;if(r.parentNode instanceof DocumentFragment)s=ai(r).body;else{const o=r.parentElement,a=pu(r);s=(o==null?void 0:o.nodeName)==="HTML"&&a.getComputedStyle(o).overflowY==="scroll"?o:r}n.push({value:s.style.overflow,property:"overflow",el:s},{value:s.style.overflowX,property:"overflow-x",el:s},{value:s.style.overflowY,property:"overflow-y",el:s}),s.style.overflow="hidden"}return()=>{n.forEach(({value:s,el:o,property:a})=>{s?o.style.setProperty(a,s):o.style.removeProperty(a)})}}function V4(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class N4{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&dl(e.modalRef,!1);const i=V4(n);nw(n,e.mount,e.modalRef,i,!0);const s=Jf(this.containers,o=>o.container===n);return s!==-1?(this.containers[s].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=Jf(this.containers,s=>s.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=D4(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=Jf(this.containers,o=>o.modals.indexOf(e)!==-1),s=this.containers[i];if(s.modals.splice(s.modals.indexOf(e),1),this.modals.splice(r,1),s.modals.length===0)s.restore&&s.restore(),e.modalRef&&dl(e.modalRef,n),nw(s.container,e.mount,e.modalRef,s.hiddenSiblings,!1),this.containers.splice(i,1);else{const o=s.modals[s.modals.length-1];o.modalRef&&dl(o.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}function M4(t){return typeof t=="function"?t():t}function O4(t){return t?t.props.hasOwnProperty("in"):!1}const L4=new N4;function F4(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=L4,closeAfterTransition:s=!1,onTransitionEnter:o,onTransitionExited:a,children:l,onClose:c,open:d,rootRef:f}=t,p=O.useRef({}),g=O.useRef(null),_=O.useRef(null),T=xr(_,f),[P,x]=O.useState(!d),E=O4(l);let I=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(I=!1);const k=()=>ai(g.current),M=()=>(p.current.modalRef=_.current,p.current.mount=g.current,p.current),F=()=>{i.mount(M(),{disableScrollLock:r}),_.current&&(_.current.scrollTop=0)},v=fo(()=>{const ne=M4(e)||k().body;i.add(M(),ne),_.current&&F()}),y=O.useCallback(()=>i.isTopModal(M()),[i]),S=fo(ne=>{g.current=ne,ne&&(d&&y()?F():_.current&&dl(_.current,I))}),b=O.useCallback(()=>{i.remove(M(),I)},[I,i]);O.useEffect(()=>()=>{b()},[b]),O.useEffect(()=>{d?v():(!E||!s)&&b()},[d,b,E,s,v]);const A=ne=>se=>{var j;(j=ne.onKeyDown)==null||j.call(ne,se),!(se.key!=="Escape"||!y())&&(n||(se.stopPropagation(),c&&c(se,"escapeKeyDown")))},C=ne=>se=>{var j;(j=ne.onClick)==null||j.call(ne,se),se.target===se.currentTarget&&c&&c(se,"backdropClick")};return{getRootProps:(ne={})=>{const se=YS(t);delete se.onTransitionEnter,delete se.onTransitionExited;const j=V({},se,ne);return V({role:"presentation"},j,{onKeyDown:A(j),ref:T})},getBackdropProps:(ne={})=>{const se=ne;return V({"aria-hidden":!0},se,{onClick:C(se),open:d})},getTransitionProps:()=>{const ne=()=>{x(!1),o&&o()},se=()=>{x(!0),a&&a(),s&&b()};return{onEnter:x1(ne,l==null?void 0:l.props.onEnter),onExited:x1(se,l==null?void 0:l.props.onExited)}},rootRef:T,portalRef:S,isTopModal:y,exited:P,hasTransition:E}}function B4(t){return D.jsx(vO,V({},t,{defaultTheme:jh,themeId:ys}))}const $4=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],j4={entering:{opacity:1},entered:{opacity:1}},z4=O.forwardRef(function(e,n){const r=vu(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:s,appear:o=!0,children:a,easing:l,in:c,onEnter:d,onEntered:f,onEntering:p,onExit:g,onExited:_,onExiting:T,style:P,timeout:x=i,TransitionComponent:E=ar}=e,I=ae(e,$4),k=O.useRef(null),M=xr(k,a.ref,n),F=te=>ue=>{if(te){const ne=k.current;ue===void 0?te(ne):te(ne,ue)}},v=F(p),y=F((te,ue)=>{HS(te);const ne=Ad({style:P,timeout:x,easing:l},{mode:"enter"});te.style.webkitTransition=r.transitions.create("opacity",ne),te.style.transition=r.transitions.create("opacity",ne),d&&d(te,ue)}),S=F(f),b=F(T),A=F(te=>{const ue=Ad({style:P,timeout:x,easing:l},{mode:"exit"});te.style.webkitTransition=r.transitions.create("opacity",ue),te.style.transition=r.transitions.create("opacity",ue),g&&g(te)}),C=F(_),R=te=>{s&&s(k.current,te)};return D.jsx(E,V({appear:o,in:c,nodeRef:k,onEnter:y,onEntered:S,onEntering:v,onExit:A,onExited:C,onExiting:b,addEndListener:R,timeout:x},I,{children:(te,ue)=>O.cloneElement(a,V({style:V({opacity:0,visibility:te==="exited"&&!c?"hidden":void 0},j4[te],P,a.props.style),ref:M},ue))}))});function U4(t){return at("MuiBackdrop",t)}lt("MuiBackdrop",["root","invisible"]);const q4=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],G4=t=>{const{classes:e,invisible:n}=t;return ht({root:["root",n&&"invisible"]},U4,e)},W4=X("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>V({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),K4=O.forwardRef(function(e,n){var r,i,s;const o=nt({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:c="div",components:d={},componentsProps:f={},invisible:p=!1,open:g,slotProps:_={},slots:T={},TransitionComponent:P=z4,transitionDuration:x}=o,E=ae(o,q4),I=V({},o,{component:c,invisible:p}),k=G4(I),M=(r=_.root)!=null?r:f.root;return D.jsx(P,V({in:g,timeout:x},E,{children:D.jsx(W4,V({"aria-hidden":!0},M,{as:(i=(s=T.root)!=null?s:d.Root)!=null?i:c,className:le(k.root,l,M==null?void 0:M.className),ownerState:V({},I,M==null?void 0:M.ownerState),classes:k,ref:n,children:a}))}))});function H4(t){return at("MuiBottomNavigationAction",t)}const XS=lt("MuiBottomNavigationAction",["root","iconOnly","selected","label"]),Q4=["className","icon","label","onChange","onClick","selected","showLabel","value"],Y4=t=>{const{classes:e,showLabel:n,selected:r}=t;return ht({root:["root",!n&&!r&&"iconOnly",r&&"selected"],label:["label",!n&&!r&&"iconOnly",r&&"selected"]},H4,e)},X4=X(_u,{name:"MuiBottomNavigationAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.showLabel&&!n.selected&&e.iconOnly]}})(({theme:t,ownerState:e})=>V({transition:t.transitions.create(["color","padding-top"],{duration:t.transitions.duration.short}),padding:"0px 12px",minWidth:80,maxWidth:168,color:(t.vars||t).palette.text.secondary,flexDirection:"column",flex:"1"},!e.showLabel&&!e.selected&&{paddingTop:14},!e.showLabel&&!e.selected&&!e.label&&{paddingTop:0},{[`&.${XS.selected}`]:{color:(t.vars||t).palette.primary.main}})),J4=X("span",{name:"MuiBottomNavigationAction",slot:"Label",overridesResolver:(t,e)=>e.label})(({theme:t,ownerState:e})=>V({fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(12),opacity:1,transition:"font-size 0.2s, opacity 0.2s",transitionDelay:"0.1s"},!e.showLabel&&!e.selected&&{opacity:0,transitionDelay:"0s"},{[`&.${XS.selected}`]:{fontSize:t.typography.pxToRem(14)}})),Z4=O.forwardRef(function(e,n){const r=nt({props:e,name:"MuiBottomNavigationAction"}),{className:i,icon:s,label:o,onChange:a,onClick:l,value:c}=r,d=ae(r,Q4),f=r,p=Y4(f),g=_=>{a&&a(_,c),l&&l(_)};return D.jsxs(X4,V({ref:n,className:le(p.root,i),focusRipple:!0,onClick:g,ownerState:f},d,{children:[s,D.jsx(J4,{className:p.label,ownerState:f,children:o})]}))}),eF=$h(),Sr=TO({themeId:ys,defaultTheme:eF,defaultClassName:"MuiBox-root",generateClassName:vS.generate});function tF(t){return at("MuiButton",t)}const uc=lt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),nF=O.createContext({}),rF=O.createContext(void 0),iF=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],sF=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:s,classes:o}=t,a={root:["root",s,`${s}${me(e)}`,`size${me(i)}`,`${s}Size${me(i)}`,e==="inherit"&&"colorInherit",n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${me(i)}`],endIcon:["endIcon",`iconSize${me(i)}`]},l=ht(a,tF,o);return V({},o,l)},JS=t=>V({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),oF=X(_u,{shouldForwardProp:t=>zh(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${me(n.color)}`],e[`size${me(n.size)}`],e[`${n.variant}Size${me(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],s=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return V({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":V({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:fn(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:fn(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:fn(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":V({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${uc.focusVisible}`]:V({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${uc.disabled}`]:V({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${fn(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${uc.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${uc.disabled}`]:{boxShadow:"none"}}),aF=X("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${me(n.size)}`]]}})(({ownerState:t})=>V({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},JS(t))),lF=X("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${me(n.size)}`]]}})(({ownerState:t})=>V({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},JS(t))),uF=O.forwardRef(function(e,n){const r=O.useContext(nF),i=O.useContext(rF),s=Ny(r,e),o=nt({props:s,name:"MuiButton"}),{children:a,color:l="primary",component:c="button",className:d,disabled:f=!1,disableElevation:p=!1,disableFocusRipple:g=!1,endIcon:_,focusVisibleClassName:T,fullWidth:P=!1,size:x="medium",startIcon:E,type:I,variant:k="text"}=o,M=ae(o,iF),F=V({},o,{color:l,component:c,disabled:f,disableElevation:p,disableFocusRipple:g,fullWidth:P,size:x,type:I,variant:k}),v=sF(F),y=E&&D.jsx(aF,{className:v.startIcon,ownerState:F,children:E}),S=_&&D.jsx(lF,{className:v.endIcon,ownerState:F,children:_}),b=i||"";return D.jsxs(oF,V({ownerState:F,className:le(r.className,v.root,d,b),component:c,disabled:f,focusRipple:!g,focusVisibleClassName:le(v.focusVisible,T),ref:n,type:I},M,{classes:v,children:[y,a,S]}))}),cF=(t,e)=>V({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},e&&!t.vars&&{colorScheme:t.palette.mode}),dF=t=>V({color:(t.vars||t).palette.text.primary},t.typography.body1,{backgroundColor:(t.vars||t).palette.background.default,"@media print":{backgroundColor:(t.vars||t).palette.common.white}}),hF=(t,e=!1)=>{var n;const r={};e&&t.colorSchemes&&Object.entries(t.colorSchemes).forEach(([o,a])=>{var l;r[t.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:(l=a.palette)==null?void 0:l.mode}});let i=V({html:cF(t,e),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:t.typography.fontWeightBold},body:V({margin:0},dF(t),{"&::backdrop":{backgroundColor:(t.vars||t).palette.background.default}})},r);const s=(n=t.components)==null||(n=n.MuiCssBaseline)==null?void 0:n.styleOverrides;return s&&(i=[i,s]),i};function fF(t){const e=nt({props:t,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=e;return D.jsxs(O.Fragment,{children:[D.jsx(B4,{styles:i=>hF(i,r)}),n]})}function pF(t){return at("MuiModal",t)}lt("MuiModal",["root","hidden","backdrop"]);const mF=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],gF=t=>{const{open:e,exited:n,classes:r}=t;return ht({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},pF,r)},yF=X("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>V({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),vF=X(K4,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),_F=O.forwardRef(function(e,n){var r,i,s,o,a,l;const c=nt({name:"MuiModal",props:e}),{BackdropComponent:d=vF,BackdropProps:f,className:p,closeAfterTransition:g=!1,children:_,container:T,component:P,components:x={},componentsProps:E={},disableAutoFocus:I=!1,disableEnforceFocus:k=!1,disableEscapeKeyDown:M=!1,disablePortal:F=!1,disableRestoreFocus:v=!1,disableScrollLock:y=!1,hideBackdrop:S=!1,keepMounted:b=!1,onBackdropClick:A,open:C,slotProps:R,slots:te}=c,ue=ae(c,mF),ne=V({},c,{closeAfterTransition:g,disableAutoFocus:I,disableEnforceFocus:k,disableEscapeKeyDown:M,disablePortal:F,disableRestoreFocus:v,disableScrollLock:y,hideBackdrop:S,keepMounted:b}),{getRootProps:se,getBackdropProps:j,getTransitionProps:H,portalRef:ee,isTopModal:fe,exited:_e,hasTransition:Ae}=F4(V({},ne,{rootRef:n})),$e=V({},ne,{exited:_e}),Xe=gF($e),ft={};if(_.props.tabIndex===void 0&&(ft.tabIndex="-1"),Ae){const{onEnter:En,onExited:Wn}=H();ft.onEnter=En,ft.onExited=Wn}const Yt=(r=(i=te==null?void 0:te.root)!=null?i:x.Root)!=null?r:yF,Cs=(s=(o=te==null?void 0:te.backdrop)!=null?o:x.Backdrop)!=null?s:d,Bt=(a=R==null?void 0:R.root)!=null?a:E.root,Gn=(l=R==null?void 0:R.backdrop)!=null?l:E.backdrop,Pr=ew({elementType:Yt,externalSlotProps:Bt,externalForwardedProps:ue,getSlotProps:se,additionalProps:{ref:n,as:P},ownerState:$e,className:le(p,Bt==null?void 0:Bt.className,Xe==null?void 0:Xe.root,!$e.open&&$e.exited&&(Xe==null?void 0:Xe.hidden))}),Ri=ew({elementType:Cs,externalSlotProps:Gn,additionalProps:f,getSlotProps:En=>j(V({},En,{onClick:Wn=>{A&&A(Wn),En!=null&&En.onClick&&En.onClick(Wn)}})),className:le(Gn==null?void 0:Gn.className,f==null?void 0:f.className,Xe==null?void 0:Xe.backdrop),ownerState:$e});return!b&&!C&&(!Ae||_e)?null:D.jsx(C4,{ref:ee,container:T,disablePortal:F,children:D.jsxs(Yt,V({},Pr,{children:[!S&&d?D.jsx(Cs,V({},Ri)):null,D.jsx(R4,{disableEnforceFocus:k,disableAutoFocus:I,disableRestoreFocus:v,isEnabled:fe,open:C,children:O.cloneElement(_,ft)})]}))})});function wF(t){return at("MuiDivider",t)}const EF=lt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),TF=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],IF=t=>{const{absolute:e,children:n,classes:r,flexItem:i,light:s,orientation:o,textAlign:a,variant:l}=t;return ht({root:["root",e&&"absolute",l,s&&"light",o==="vertical"&&"vertical",i&&"flexItem",n&&"withChildren",n&&o==="vertical"&&"withChildrenVertical",a==="right"&&o!=="vertical"&&"textAlignRight",a==="left"&&o!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",o==="vertical"&&"wrapperVertical"]},wF,r)},xF=X("div",{name:"MuiDivider",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.absolute&&e.absolute,e[n.variant],n.light&&e.light,n.orientation==="vertical"&&e.vertical,n.flexItem&&e.flexItem,n.children&&e.withChildren,n.children&&n.orientation==="vertical"&&e.withChildrenVertical,n.textAlign==="right"&&n.orientation!=="vertical"&&e.textAlignRight,n.textAlign==="left"&&n.orientation!=="vertical"&&e.textAlignLeft]}})(({theme:t,ownerState:e})=>V({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin"},e.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},e.light&&{borderColor:t.vars?`rgba(${t.vars.palette.dividerChannel} / 0.08)`:fn(t.palette.divider,.08)},e.variant==="inset"&&{marginLeft:72},e.variant==="middle"&&e.orientation==="horizontal"&&{marginLeft:t.spacing(2),marginRight:t.spacing(2)},e.variant==="middle"&&e.orientation==="vertical"&&{marginTop:t.spacing(1),marginBottom:t.spacing(1)},e.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},e.flexItem&&{alignSelf:"stretch",height:"auto"}),({ownerState:t})=>V({},t.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{content:'""',alignSelf:"center"}}),({theme:t,ownerState:e})=>V({},e.children&&e.orientation!=="vertical"&&{"&::before, &::after":{width:"100%",borderTop:`thin solid ${(t.vars||t).palette.divider}`}}),({theme:t,ownerState:e})=>V({},e.children&&e.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:`thin solid ${(t.vars||t).palette.divider}`}}),({ownerState:t})=>V({},t.textAlign==="right"&&t.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},t.textAlign==="left"&&t.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),SF=X("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.wrapper,n.orientation==="vertical"&&e.wrapperVertical]}})(({theme:t,ownerState:e})=>V({display:"inline-block",paddingLeft:`calc(${t.spacing(1)} * 1.2)`,paddingRight:`calc(${t.spacing(1)} * 1.2)`},e.orientation==="vertical"&&{paddingTop:`calc(${t.spacing(1)} * 1.2)`,paddingBottom:`calc(${t.spacing(1)} * 1.2)`})),Zy=O.forwardRef(function(e,n){const r=nt({props:e,name:"MuiDivider"}),{absolute:i=!1,children:s,className:o,component:a=s?"div":"hr",flexItem:l=!1,light:c=!1,orientation:d="horizontal",role:f=a!=="hr"?"separator":void 0,textAlign:p="center",variant:g="fullWidth"}=r,_=ae(r,TF),T=V({},r,{absolute:i,component:a,flexItem:l,light:c,orientation:d,role:f,textAlign:p,variant:g}),P=IF(T);return D.jsx(xF,V({as:a,className:le(P.root,o),role:f,ref:n,ownerState:T},_,{children:s?D.jsx(SF,{className:P.wrapper,ownerState:T,children:s}):null}))});Zy.muiSkipListHighlight=!0;const bF=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function RF(t,e,n){const r=e.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=pu(e);let o;if(e.fakeTransform)o=e.fakeTransform;else{const c=s.getComputedStyle(e);o=c.getPropertyValue("-webkit-transform")||c.getPropertyValue("transform")}let a=0,l=0;if(o&&o!=="none"&&typeof o=="string"){const c=o.split("(")[1].split(")")[0].split(",");a=parseInt(c[4],10),l=parseInt(c[5],10)}return t==="left"?i?`translateX(${i.right+a-r.left}px)`:`translateX(${s.innerWidth+a-r.left}px)`:t==="right"?i?`translateX(-${r.right-i.left-a}px)`:`translateX(-${r.left+r.width-a}px)`:t==="up"?i?`translateY(${i.bottom+l-r.top}px)`:`translateY(${s.innerHeight+l-r.top}px)`:i?`translateY(-${r.top-i.top+r.height-l}px)`:`translateY(-${r.top+r.height-l}px)`}function AF(t){return typeof t=="function"?t():t}function cc(t,e,n){const r=AF(n),i=RF(t,e,r);i&&(e.style.webkitTransform=i,e.style.transform=i)}const CF=O.forwardRef(function(e,n){const r=vu(),i={enter:r.transitions.easing.easeOut,exit:r.transitions.easing.sharp},s={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:a=!0,children:l,container:c,direction:d="down",easing:f=i,in:p,onEnter:g,onEntered:_,onEntering:T,onExit:P,onExited:x,onExiting:E,style:I,timeout:k=s,TransitionComponent:M=ar}=e,F=ae(e,bF),v=O.useRef(null),y=xr(l.ref,v,n),S=j=>H=>{j&&(H===void 0?j(v.current):j(v.current,H))},b=S((j,H)=>{cc(d,j,c),HS(j),g&&g(j,H)}),A=S((j,H)=>{const ee=Ad({timeout:k,style:I,easing:f},{mode:"enter"});j.style.webkitTransition=r.transitions.create("-webkit-transform",V({},ee)),j.style.transition=r.transitions.create("transform",V({},ee)),j.style.webkitTransform="none",j.style.transform="none",T&&T(j,H)}),C=S(_),R=S(E),te=S(j=>{const H=Ad({timeout:k,style:I,easing:f},{mode:"exit"});j.style.webkitTransition=r.transitions.create("-webkit-transform",H),j.style.transition=r.transitions.create("transform",H),cc(d,j,c),P&&P(j)}),ue=S(j=>{j.style.webkitTransition="",j.style.transition="",x&&x(j)}),ne=j=>{o&&o(v.current,j)},se=O.useCallback(()=>{v.current&&cc(d,v.current,c)},[d,c]);return O.useEffect(()=>{if(p||d==="down"||d==="right")return;const j=eN(()=>{v.current&&cc(d,v.current,c)}),H=pu(v.current);return H.addEventListener("resize",j),()=>{j.clear(),H.removeEventListener("resize",j)}},[d,p,c]),O.useEffect(()=>{p||se()},[p,se]),D.jsx(M,V({nodeRef:v,onEnter:b,onEntered:C,onEntering:A,onExit:te,onExited:ue,onExiting:R,addEndListener:ne,appear:a,in:p,timeout:k},F,{children:(j,H)=>O.cloneElement(l,V({ref:y,style:V({visibility:j==="exited"&&!p?"hidden":void 0},I,l.props.style)},H))}))});function PF(t){return at("MuiDrawer",t)}lt("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const kF=["BackdropProps"],DF=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],ZS=(t,e)=>{const{ownerState:n}=t;return[e.root,(n.variant==="permanent"||n.variant==="persistent")&&e.docked,e.modal]},VF=t=>{const{classes:e,anchor:n,variant:r}=t,i={root:["root"],docked:[(r==="permanent"||r==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${me(n)}`,r!=="temporary"&&`paperAnchorDocked${me(n)}`]};return ht(i,PF,e)},NF=X(_F,{name:"MuiDrawer",slot:"Root",overridesResolver:ZS})(({theme:t})=>({zIndex:(t.vars||t).zIndex.drawer})),rw=X("div",{shouldForwardProp:zh,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:ZS})({flex:"0 0 auto"}),MF=X(QS,{name:"MuiDrawer",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`paperAnchor${me(n.anchor)}`],n.variant!=="temporary"&&e[`paperAnchorDocked${me(n.anchor)}`]]}})(({theme:t,ownerState:e})=>V({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},e.anchor==="left"&&{left:0},e.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="right"&&{right:0},e.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},e.anchor==="left"&&e.variant!=="temporary"&&{borderRight:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="top"&&e.variant!=="temporary"&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="right"&&e.variant!=="temporary"&&{borderLeft:`1px solid ${(t.vars||t).palette.divider}`},e.anchor==="bottom"&&e.variant!=="temporary"&&{borderTop:`1px solid ${(t.vars||t).palette.divider}`})),eb={left:"right",right:"left",top:"down",bottom:"up"};function OF(t){return["left","right"].indexOf(t)!==-1}function LF(t,e){return t.direction==="rtl"&&OF(e)?eb[e]:e}const FF=O.forwardRef(function(e,n){const r=nt({props:e,name:"MuiDrawer"}),i=vu(),s={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:o="left",BackdropProps:a,children:l,className:c,elevation:d=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:p}={},onClose:g,open:_=!1,PaperProps:T={},SlideProps:P,TransitionComponent:x=CF,transitionDuration:E=s,variant:I="temporary"}=r,k=ae(r.ModalProps,kF),M=ae(r,DF),F=O.useRef(!1);O.useEffect(()=>{F.current=!0},[]);const v=LF(i,o),S=V({},r,{anchor:o,elevation:d,open:_,variant:I},M),b=VF(S),A=D.jsx(MF,V({elevation:I==="temporary"?d:0,square:!0},T,{className:le(b.paper,T.className),ownerState:S,children:l}));if(I==="permanent")return D.jsx(rw,V({className:le(b.root,b.docked,c),ownerState:S,ref:n},M,{children:A}));const C=D.jsx(x,V({in:_,direction:eb[v],timeout:E,appear:F.current},P,{children:A}));return I==="persistent"?D.jsx(rw,V({className:le(b.root,b.docked,c),ownerState:S,ref:n},M,{children:C})):D.jsx(NF,V({BackdropProps:V({},a,p,{transitionDuration:E}),className:le(b.root,b.modal,c),open:_,ownerState:S,onClose:g,hideBackdrop:f,ref:n},M,k,{children:C}))});function BF(t){return at("MuiFab",t)}const iw=lt("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),$F=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],jF=t=>{const{color:e,variant:n,classes:r,size:i}=t,s={root:["root",n,`size${me(i)}`,e==="inherit"?"colorInherit":e]},o=ht(s,BF,r);return V({},r,o)},zF=X(_u,{name:"MuiFab",slot:"Root",shouldForwardProp:t=>zh(t)||t==="classes",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`size${me(n.size)}`],n.color==="inherit"&&e.colorInherit,e[me(n.size)],e[n.color]]}})(({theme:t,ownerState:e})=>{var n,r;return V({},t.typography.button,{minHeight:36,transition:t.transitions.create(["background-color","box-shadow","border-color"],{duration:t.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(t.vars||t).zIndex.fab,boxShadow:(t.vars||t).shadows[6],"&:active":{boxShadow:(t.vars||t).shadows[12]},color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:(t.vars||t).palette.grey[300],"&:hover":{backgroundColor:(t.vars||t).palette.grey.A100,"@media (hover: none)":{backgroundColor:(t.vars||t).palette.grey[300]},textDecoration:"none"},[`&.${iw.focusVisible}`]:{boxShadow:(t.vars||t).shadows[6]}},e.size==="small"&&{width:40,height:40},e.size==="medium"&&{width:48,height:48},e.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},e.variant==="extended"&&e.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},e.variant==="extended"&&e.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},e.color==="inherit"&&{color:"inherit"})},({theme:t,ownerState:e})=>V({},e.color!=="inherit"&&e.color!=="default"&&(t.vars||t).palette[e.color]!=null&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main,"&:hover":{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}}),({theme:t})=>({[`&.${iw.disabled}`]:{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground}})),UF=O.forwardRef(function(e,n){const r=nt({props:e,name:"MuiFab"}),{children:i,className:s,color:o="default",component:a="button",disabled:l=!1,disableFocusRipple:c=!1,focusVisibleClassName:d,size:f="large",variant:p="circular"}=r,g=ae(r,$F),_=V({},r,{color:o,component:a,disabled:l,disableFocusRipple:c,size:f,variant:p}),T=jF(_);return D.jsx(zF,V({className:le(T.root,s),component:a,disabled:l,focusRipple:!c,focusVisibleClassName:le(T.focusVisible,d),ownerState:_,ref:n},g,{classes:T,children:i}))}),qn=eL({createStyledComponent:X("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>nt({props:t,name:"MuiStack"})});function qF(t,e,n,r,i){const[s,o]=O.useState(()=>i&&n?n(t).matches:r?r(t).matches:e);return Wl(()=>{let a=!0;if(!n)return;const l=n(t),c=()=>{a&&o(l.matches)};return c(),l.addListener(c),()=>{a=!1,l.removeListener(c)}},[t,n]),s}const tb=O.useSyncExternalStore;function GF(t,e,n,r,i){const s=O.useCallback(()=>e,[e]),o=O.useMemo(()=>{if(i&&n)return()=>n(t).matches;if(r!==null){const{matches:d}=r(t);return()=>d}return s},[s,t,r,i,n]),[a,l]=O.useMemo(()=>{if(n===null)return[s,()=>()=>{}];const d=n(t);return[()=>d.matches,f=>(d.addListener(f),()=>{d.removeListener(f)})]},[s,n,t]);return tb(l,a,o)}function Ni(t,e={}){const n=Hy(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:s=r?window.matchMedia:null,ssrMatchMedia:o=null,noSsr:a=!1}=US({name:"MuiUseMediaQuery",props:e,theme:n});let l=typeof t=="function"?t(n):t;return l=l.replace(/^@media( ?)/m,""),(tb!==void 0?GF:qF)(l,i,s,o,a)}const xo=O.createContext({});function WF(t){return at("MuiList",t)}lt("MuiList",["root","padding","dense","subheader"]);const KF=["children","className","component","dense","disablePadding","subheader"],HF=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return ht({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},WF,e)},QF=X("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>V({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),YF=O.forwardRef(function(e,n){const r=nt({props:e,name:"MuiList"}),{children:i,className:s,component:o="ul",dense:a=!1,disablePadding:l=!1,subheader:c}=r,d=ae(r,KF),f=O.useMemo(()=>({dense:a}),[a]),p=V({},r,{component:o,dense:a,disablePadding:l}),g=HF(p);return D.jsx(xo.Provider,{value:f,children:D.jsxs(QF,V({as:o,className:le(g.root,s),ref:n,ownerState:p},d,{children:[c,i]}))})});function XF(t){return at("MuiListItem",t)}const Zs=lt("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),JF=lt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function ZF(t){return at("MuiListItemSecondaryAction",t)}lt("MuiListItemSecondaryAction",["root","disableGutters"]);const e5=["className"],t5=t=>{const{disableGutters:e,classes:n}=t;return ht({root:["root",e&&"disableGutters"]},ZF,n)},n5=X("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>V({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),nb=O.forwardRef(function(e,n){const r=nt({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,s=ae(r,e5),o=O.useContext(xo),a=V({},r,{disableGutters:o.disableGutters}),l=t5(a);return D.jsx(n5,V({className:le(l.root,i),ownerState:a,ref:n},s))});nb.muiName="ListItemSecondaryAction";const r5=["className"],i5=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],s5=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},o5=t=>{const{alignItems:e,button:n,classes:r,dense:i,disabled:s,disableGutters:o,disablePadding:a,divider:l,hasSecondaryAction:c,selected:d}=t;return ht({root:["root",i&&"dense",!o&&"gutters",!a&&"padding",l&&"divider",s&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",c&&"secondaryAction",d&&"selected"],container:["container"]},XF,r)},a5=X("div",{name:"MuiListItem",slot:"Root",overridesResolver:s5})(({theme:t,ownerState:e})=>V({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&V({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${JF.root}`]:{paddingRight:48}},{[`&.${Zs.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${Zs.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:fn(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${Zs.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:fn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${Zs.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Zs.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:fn(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:fn(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),l5=X("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),u5=O.forwardRef(function(e,n){const r=nt({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:s=!1,button:o=!1,children:a,className:l,component:c,components:d={},componentsProps:f={},ContainerComponent:p="li",ContainerProps:{className:g}={},dense:_=!1,disabled:T=!1,disableGutters:P=!1,disablePadding:x=!1,divider:E=!1,focusVisibleClassName:I,secondaryAction:k,selected:M=!1,slotProps:F={},slots:v={}}=r,y=ae(r.ContainerProps,r5),S=ae(r,i5),b=O.useContext(xo),A=O.useMemo(()=>({dense:_||b.dense||!1,alignItems:i,disableGutters:P}),[i,b.dense,_,P]),C=O.useRef(null);Wl(()=>{s&&C.current&&C.current.focus()},[s]);const R=O.Children.toArray(a),te=R.length&&tN(R[R.length-1],["ListItemSecondaryAction"]),ue=V({},r,{alignItems:i,autoFocus:s,button:o,dense:A.dense,disabled:T,disableGutters:P,disablePadding:x,divider:E,hasSecondaryAction:te,selected:M}),ne=o5(ue),se=xr(C,n),j=v.root||d.Root||a5,H=F.root||f.root||{},ee=V({className:le(ne.root,H.className,l),disabled:T},S);let fe=c||"li";return o&&(ee.component=c||"div",ee.focusVisibleClassName=le(Zs.focusVisible,I),fe=_u),te?(fe=!ee.component&&!c?"div":fe,p==="li"&&(fe==="li"?fe="div":ee.component==="li"&&(ee.component="div")),D.jsx(xo.Provider,{value:A,children:D.jsxs(l5,V({as:p,className:le(ne.container,g),ref:se,ownerState:ue},y,{children:[D.jsx(j,V({},H,!Pm(j)&&{as:fe,ownerState:V({},ue,H.ownerState)},ee,{children:R})),R.pop()]}))})):D.jsx(xo.Provider,{value:A,children:D.jsxs(j,V({},H,{as:fe,ref:se},!Pm(j)&&{ownerState:V({},ue,H.ownerState)},ee,{children:[R,k&&D.jsx(nb,{children:k})]}))})});function c5(t){return at("MuiListItemText",t)}const sw=lt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),d5=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],h5=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:s}=t;return ht({root:["root",n&&"inset",s&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},c5,e)},f5=X("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${sw.primary}`]:e.primary},{[`& .${sw.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>V({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),p5=O.forwardRef(function(e,n){const r=nt({props:e,name:"MuiListItemText"}),{children:i,className:s,disableTypography:o=!1,inset:a=!1,primary:l,primaryTypographyProps:c,secondary:d,secondaryTypographyProps:f}=r,p=ae(r,d5),{dense:g}=O.useContext(xo);let _=l??i,T=d;const P=V({},r,{disableTypography:o,inset:a,primary:!!_,secondary:!!T,dense:g}),x=h5(P);return _!=null&&_.type!==mr&&!o&&(_=D.jsx(mr,V({variant:g?"body2":"body1",className:x.primary,component:c!=null&&c.variant?void 0:"span",display:"block"},c,{children:_}))),T!=null&&T.type!==mr&&!o&&(T=D.jsx(mr,V({variant:"body2",className:x.secondary,color:"text.secondary",display:"block"},f,{children:T}))),D.jsxs(f5,V({className:le(x.root,s),ownerState:P,ref:n},p,{children:[_,T]}))});function m5(t){return at("MuiToolbar",t)}lt("MuiToolbar",["root","gutters","regular","dense"]);const g5=["className","component","disableGutters","variant"],y5=t=>{const{classes:e,disableGutters:n,variant:r}=t;return ht({root:["root",!n&&"gutters",r]},m5,e)},v5=X("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>V({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),_5=O.forwardRef(function(e,n){const r=nt({props:e,name:"MuiToolbar"}),{className:i,component:s="div",disableGutters:o=!1,variant:a="regular"}=r,l=ae(r,g5),c=V({},r,{component:s,disableGutters:o,variant:a}),d=y5(c);return D.jsx(v5,V({as:s,className:le(d.root,i),ref:n,ownerState:c},l))}),ow=X("div")(({theme:{breakpoints:t,spacing:e}})=>({background:"url(https://firebasestorage.googleapis.com/v0/b/yasmin-hiasche-web.appspot.com/o/firulete.png?alt=media&token=7a561207-af2d-4cd0-89be-968d9f5bbe32)",width:e(5),height:e(2),backgroundSize:"100%",backgroundRepeat:"no-repeat",visibility:"hidden",[t.up(360)]:{visibility:"visible"},"&.right":{transform:"rotateY(180deg)"}})),w5=({children:t})=>D.jsxs(qn,{direction:"row",justifyContent:"center",alignItems:"center",gap:1,children:[D.jsx(ow,{}),t,D.jsx(ow,{className:"right"})]}),E5=X(qn)(({theme:{palette:t,spacing:e}})=>({[`& .${Cm.root}`]:{color:t.ceci,textAlign:"center",paddingBottom:e(2),"& a":{textDecoration:"none",borderBottom:"2px solid transparent",color:"#6aeccf",paddingBottom:"5px"},"& a:hover":{color:t.aqua,borderColor:t.aqua}}})),T5=()=>D.jsx(E5,{children:D.jsxs(mr,{variant:"body2",children:["Desarrollado por"," ",D.jsx("a",{rel:"noreferrer",href:"https://www.linkedin.com/in/ceciliamermoz/",target:"_blank",children:"Cecilia Mermoz"})]})}),I5=X(qn)(({theme:{breakpoints:t,spacing:e}})=>({flexDirection:"row",alignItems:"center",marginLeft:e(12),"& > div":{marginLeft:e(-12)},[t.down(915)]:{flexDirection:"column",rowGap:e(2)}})),x5=({categories:t})=>{const e=t==null?void 0:t.sort((n,r)=>n.order-r.order);return D.jsx(I5,{children:e.map((n,r)=>D.jsx(P5,{category:n,index:r},r))})},S5=X(Sr)(({theme:{breakpoints:t}})=>({position:"fixed",zIndex:200,height:"100%",width:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",top:0,left:0})),b5=X(Sr)(({theme:{breakpoints:t}})=>({position:"fixed",zIndex:999,top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)"})),R5=X(Sr)(({theme:{breakpoints:t}})=>({position:"relative","& img":{border:"5px solid #fff",maxWidth:"70vw",maxHeight:"60vw",[t.down(800)]:{maxWidth:"95vw",maxHeight:"95vw"},[t.up(1e3)]:{maxHeight:"40vw"}},"& .modal-body-a":{position:"absolute",display:"inline",color:"black",textDecoration:"none",lineHeight:"36px",fontSize:"30px",fontWeight:"lighter",background:"#fff",borderRadius:"5px",height:"40px",width:"40px",textAlign:"center",border:"none",paddingBottom:"10px",cursor:"pointer"},"& .modal-body-close":{right:0,top:0,borderRadius:"0 0 0 5px"},"& .modal-body-both":{right:0,top:"calc(50% - 25px)",borderRadius:"5px 0 0 5px",height:"50px",lineHeight:"40px",fontSize:"60px"},"& .modal-body-prev":{left:0,right:"auto",borderRadius:"0 5px 5px 0"}})),A5=t=>{const{closeModal:e,hasNext:n,hasPrev:r,findNext:i,findPrev:s,src:o}=t,a=l=>{l.keyCode===27&&e(l),l.keyCode===37&&r&&s(l),l.keyCode===39&&n&&i(l)};return O.useEffect(()=>(document.body.addEventListener("keydown",a),()=>document.body.removeEventListener("keydown",a)),[]),D.jsxs(Sr,{id:"galery-modal",children:[D.jsx(S5,{onClick:e}),D.jsx(b5,{children:D.jsxs(R5,{children:[D.jsx("button",{className:"modal-body-a modal-body-close",onClick:e,onKeyDown:a,children:""}),r&&D.jsx("button",{className:"modal-body-a modal-body-both modal-body-prev",onClick:s,onKeyDown:a,children:""}),n&&D.jsx("button",{className:"modal-body-a modal-body-both",onClick:i,onKeyDown:a,children:""}),D.jsx("img",{src:o,alt:"imagen de la galeria"})]})})]})},C5=X(qn,{shouldForwardProp:t=>t!=="isEven"})(({isEven:t,theme:{spacing:e}})=>({justifyContent:"center",alignItems:"center",cursor:"pointer",clipPath:"polygon(50% 0%, 0% 100%, 100% 100%)",transition:"all 300ms ease-in-out","& > img":{filter:"opacity(0.35)",transition:"all 500ms ease-in-out"},"&:hover":{"& > h2":{color:"transparent"},"& > img":{filter:"opacity(1)",transform:"scale(1.15)",transition:"all 500ms ease-in-out"}},[`& .${Cm.root}.titlePic`]:{position:"absolute",fontWeight:700,zIndex:"2",marginTop:e(9)},"&:nth-of-type(even)":{clipPath:"polygon(50% 98%, 0 0, 100% 0)",[`& .${Cm.root}.titlePic`]:{marginTop:e(-9)}}})),P5=t=>{const{category:e,index:n}=t,{album:r,name:i,previewPic:s}=e,[o,a]=O.useState(0),[l,c]=O.useState(!1),d=()=>{c(!0)},f=_=>{_&&c(!1)},p=_=>{_&&a(o-1)},g=_=>{_&&a(o+1)};return D.jsxs(D.Fragment,{children:[D.jsxs(C5,{onClick:d,isEven:n%2!==0,children:[D.jsx(mr,{variant:"h2",className:"titlePic",children:i}),D.jsx("img",{src:s,alt:`Abrir seccin de "${i}" desde la galera`,width:250,height:200})]}),l&&D.jsx(A5,{closeModal:f,findPrev:p,findNext:g,hasPrev:o>0,hasNext:o+1<r.length,src:r[o]})]})},k5=({sectionData:t})=>({"la escuela":D.jsx(Ba,{sectionData:t}),clases:D.jsx(Ba,{sectionData:t}),horarios:D.jsx(EB,{sectionData:t}),"medios de pago":D.jsx(Ba,{sectionData:t}),formacion:D.jsx(Ba,{sectionData:t}),biografia:D.jsx(Ba,{sectionData:t}),galeria:D.jsx(rB,{sectionData:t}),ubicacion:D.jsx(sB,{sectionData:t}),contacto:D.jsx(fB,{sectionData:t})})[t.title],D5=({title:t})=>D.jsx(w5,{children:D.jsx(mr,{variant:"h2",children:t})}),rb=64,V5=X("main")(({theme:{breakpoints:t,spacing:e,palette:n}})=>({color:n.secondary.main,textAlign:"center",maxWidth:"1200px",padding:e(2),marginTop:rb,display:"flex",flexDirection:"column",gap:e(3),alignItems:"center",[t.up("md")]:{padding:e(4,4,0,4)},[t.up("lg")]:{gap:e(6)}})),N5=X("section")(({theme:{breakpoints:t,spacing:e,palette:n}})=>({display:"flex",flexDirection:"column",gap:e(2)})),M5=t=>{const{sectionsInfo:e}=t;return D.jsxs(V5,{children:[e.map((n,r)=>{const i=n.title.replace(/ /g,"-");return D.jsxs(N5,{id:i,children:[D.jsx(D5,{title:n.title}),D.jsx(k5,{sectionData:n})]},r)}),D.jsx(T5,{})]})},O5=""+new URL("assets/images/yasmin (1).jpg",import.meta.url).href,L5=""+new URL("assets/images/yasmin (2).jpg",import.meta.url).href,F5=""+new URL("assets/images/yasmin (3).jpg",import.meta.url).href,B5=""+new URL("assets/images/yasmin (4).jpg",import.meta.url).href,$5=""+new URL("assets/images/yasmin (5).jpg",import.meta.url).href,j5=""+new URL("assets/images/yasmin (6).jpg",import.meta.url).href,z5=""+new URL("assets/images/yasmin (7).jpg",import.meta.url).href,U5=""+new URL("assets/images/yasmin (8).jpg",import.meta.url).href,q5=""+new URL("assets/images/yasmin (9).jpg",import.meta.url).href,G5=""+new URL("assets/images/yasmin (10).jpg",import.meta.url).href,W5=""+new URL("assets/images/yasmin (11).jpg",import.meta.url).href,K5=""+new URL("assets/images/yasmin (12).jpg",import.meta.url).href,H5=""+new URL("assets/images/yasmin (13).jpg",import.meta.url).href,Q5=""+new URL("assets/images/yasmin (14).jpg",import.meta.url).href,Y5=""+new URL("assets/images/yasmin (16).jpg",import.meta.url).href,X5=""+new URL("assets/images/yasmin (15).jpg",import.meta.url).href,J5=""+new URL("assets/images/yasmin (17).jpg",import.meta.url).href,Z5=""+new URL("assets/images/yasmin (18).jpg",import.meta.url).href,e3=""+new URL("assets/images/yasmin (19).jpg",import.meta.url).href,t3=""+new URL("assets/images/yasmin (20).jpg",import.meta.url).href,n3=""+new URL("assets/images/yasmin (21).jpg",import.meta.url).href,r3=""+new URL("assets/images/yasmin (22).jpg",import.meta.url).href,i3=""+new URL("assets/images/yasmin (23).jpg",import.meta.url).href,s3=""+new URL("assets/images/yasmin (24).jpg",import.meta.url).href,o3=""+new URL("assets/images/yasmin (25).jpg",import.meta.url).href,a3=""+new URL("assets/images/yasmin (26).jpg",import.meta.url).href,l3=""+new URL("assets/images/yasmin (27).jpg",import.meta.url).href,u3=""+new URL("assets/images/yasmin (28).jpg",import.meta.url).href,c3=""+new URL("assets/images/yasmin (29).jpg",import.meta.url).href,d3=""+new URL("assets/images/yasmin (30).jpg",import.meta.url).href,h3=""+new URL("assets/images/yasmin (31).jpg",import.meta.url).href,f3=""+new URL("assets/images/yasmin (32).jpg",import.meta.url).href,p3=""+new URL("assets/images/yasmin (33).jpg",import.meta.url).href,m3=""+new URL("assets/images/yasmin (34).jpg",import.meta.url).href,g3=""+new URL("assets/images/yasmin (35).jpg",import.meta.url).href,y3=""+new URL("assets/images/yasmin (36).jpg",import.meta.url).href,v3=[O5,L5,F5,B5,$5,j5,z5,U5,q5,G5,W5,K5,H5,Q5,Y5,X5,J5,Z5,e3,t3,n3,r3,i3,s3,o3,a3,l3,u3,c3,d3,h3,f3,p3,m3,g3,y3],_3=""+new URL("assets/images/eventos (1).jpg",import.meta.url).href,w3=""+new URL("assets/images/eventos (2).jpg",import.meta.url).href,E3=""+new URL("assets/images/eventos (3).jpg",import.meta.url).href,T3=""+new URL("assets/images/eventos (4).jpg",import.meta.url).href,I3=""+new URL("assets/images/eventos (5).jpg",import.meta.url).href,x3=""+new URL("assets/images/eventos (6).jpg",import.meta.url).href,S3=""+new URL("assets/images/eventos (7).jpg",import.meta.url).href,b3=""+new URL("assets/images/eventos (8).jpg",import.meta.url).href,R3=[_3,w3,E3,T3,I3,x3,S3,b3],A3=""+new URL("assets/images/clases (1).jpg",import.meta.url).href,C3=""+new URL("assets/images/clases (2).jpg",import.meta.url).href,P3=""+new URL("assets/images/clases (3).jpg",import.meta.url).href,k3=""+new URL("assets/images/clases (4).jpg",import.meta.url).href,D3=""+new URL("assets/images/clases (5).jpg",import.meta.url).href,V3=""+new URL("assets/images/clases (6).jpg",import.meta.url).href,N3=""+new URL("assets/images/clases (7).jpg",import.meta.url).href,M3=""+new URL("assets/images/clases (8).jpg",import.meta.url).href,O3=""+new URL("assets/images/clases (9).jpg",import.meta.url).href,L3=""+new URL("assets/images/clases (10).jpg",import.meta.url).href,F3=""+new URL("assets/images/clases (11).jpg",import.meta.url).href,B3=""+new URL("assets/images/clases (12).jpg",import.meta.url).href,$3=""+new URL("assets/images/clases (13).jpg",import.meta.url).href,j3=""+new URL("assets/images/clases (14).jpg",import.meta.url).href,z3=[A3,C3,P3,k3,D3,V3,N3,M3,O3,L3,F3,B3,$3,j3],U3=""+new URL("assets/images/escuela (1).jpeg",import.meta.url).href,q3=""+new URL("assets/images/escuela (2).jpeg",import.meta.url).href,G3=""+new URL("assets/images/escuela (3).jpeg",import.meta.url).href,W3=""+new URL("assets/images/escuela (4).jpeg",import.meta.url).href,K3=[U3,q3,G3,W3],H3=""+new URL("assets/images/egresadas (1).jpg",import.meta.url).href,Q3=""+new URL("assets/images/egresadas (2).jpg",import.meta.url).href,Y3=""+new URL("assets/images/egresadas (3).jpg",import.meta.url).href,X3=""+new URL("assets/images/egresadas (4).jpg",import.meta.url).href,J3=""+new URL("assets/images/egresadas (5).jpg",import.meta.url).href,Z3=""+new URL("assets/images/egresadas (6).jpg",import.meta.url).href,eB=""+new URL("assets/images/egresadas (7).jpg",import.meta.url).href,tB=[H3,Q3,Y3,X3,J3,Z3,eB],nB=t=>{switch(t.name){case"Eventos":return{...t,album:R3.sort(()=>.5-Math.random())};case"Yasmin":return{...t,album:v3.sort(()=>.5-Math.random())};case"Escuela":return{...t,album:K3.sort(()=>.5-Math.random())};case"Egresadas":return{...t,album:tB.sort(()=>.5-Math.random())};case"Clases":return{...t,album:z3.sort(()=>.5-Math.random())}}},rB=({sectionData:t})=>{const n=Object.entries(t==null?void 0:t.galleryCategories).map(r=>r[1]).map(r=>nB(r));return D.jsx(x5,{categories:n})},iB=X("li")(({theme:{spacing:t,palette:e}})=>({listStyle:"none","&:first-of-type":{fontSize:"20px",fontWeight:700,margin:"15px 0"}})),sB=({sectionData:t})=>{const{content:e,url:n}=t;return D.jsxs(D.Fragment,{children:[D.jsx("a",{href:n,children:D.jsx("img",{width:"100%",src:"https://firebasestorage.googleapis.com/v0/b/yasmin-hiasche-web.appspot.com/o/Utilidades%2Fmap.jpeg?alt=media&token=25a7e51f-db2b-4356-8105-658f6eaf4b8c",alt:"Moldes 2141, CABA, Buenos Aires",title:"Hac click para verlo en Google Maps"})}),D.jsx(mr,{variant:"body1",children:e==null?void 0:e.map((r,i)=>D.jsxs(iB,{children:[" ",r," "]},i))})]})},oB=As(D.jsx("path",{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft"),aB=As(D.jsx("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"ChevronRight"),lB=As(D.jsx("path",{d:"M5 3h14a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2m13 2h-2.5A3.5 3.5 0 0 0 12 8.5V11h-2v3h2v7h3v-7h3v-3h-3V9a1 1 0 0 1 1-1h2V5z"}),"Facebook"),uB=As(D.jsx("path",{d:"M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8C4 18.39 5.61 20 7.6 20h8.8a3.6 3.6 0 0 0 3.6-3.6V7.6C20 5.61 18.39 4 16.4 4H7.6m9.65 1.5a1.25 1.25 0 0 1 1.25 1.25A1.25 1.25 0 0 1 17.25 8 1.25 1.25 0 0 1 16 6.75a1.25 1.25 0 0 1 1.25-1.25M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3z"}),"Instagram"),cB=As(D.jsx("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 14H4V8l8 5 8-5zm-8-7L4 6h16z"}),"MailOutline"),dB=As(D.jsx("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),ib=As(D.jsx("path",{d:"M16.75 13.96c.25.13.41.2.46.3.06.11.04.61-.21 1.18-.2.56-1.24 1.1-1.7 1.12-.46.02-.47.36-2.96-.73-2.49-1.09-3.99-3.75-4.11-3.92-.12-.17-.96-1.38-.92-2.61.05-1.22.69-1.8.95-2.04.24-.26.51-.29.68-.26h.47c.15 0 .36-.06.55.45l.69 1.87c.06.13.1.28.01.44l-.27.41-.39.42c-.12.12-.26.25-.12.5.12.26.62 1.09 1.32 1.78.91.88 1.71 1.17 1.95 1.3.24.14.39.12.54-.04l.81-.94c.19-.25.35-.19.58-.11l1.67.88M12 2a10 10 0 0 1 10 10 10 10 0 0 1-10 10c-1.97 0-3.8-.57-5.35-1.55L2 22l1.55-4.65A9.969 9.969 0 0 1 2 12 10 10 0 0 1 12 2m0 2a8 8 0 0 0-8 8c0 1.72.54 3.31 1.46 4.61L4.5 19.5l2.89-.96A7.95 7.95 0 0 0 12 20a8 8 0 0 0 8-8 8 8 0 0 0-8-8z"}),"WhatsApp"),hB=X(qn)(({theme:{breakpoints:t}})=>({width:"90%",flexDirection:"column",alignItems:"center"})),dc=X("a")(({theme:{palette:t,spacing:e}})=>({display:"flex",alignItems:"center",margin:"0",padding:"20px",textDecoration:"none",fontSize:`${e(2)}px`,color:t.secondary.main,width:"100%",justifyContent:"center","&:hover":{color:t.aqua,"& svg":{color:t.aqua}},"& span.span":{marginLeft:"10px"}})),fB=({sectionData:t})=>D.jsxs(hB,{children:[D.jsxs(dc,{href:t.facebook,rel:"noreferrer",target:"_blank",color:"secondary",title:"Facebook Estudio de Danzas Yasmin Hiasche",children:[D.jsx(lB,{}),D.jsx("span",{className:"span",children:"Facebook"})]}),D.jsxs(dc,{href:t.instagram,rel:"noreferrer",target:"_blank",color:"secondary",title:"Instagram Estudio de Danzas Yasmin Hiasche",children:[D.jsx(uB,{}),D.jsx("span",{className:"span",children:"Instagram"})]}),D.jsxs(dc,{href:`mailto:${t.mail}?subject=Consulta%20de%20la%20Web`,target:"_blank",rel:"noreferrer",color:"secondary",title:"Enviar correo a Estudio de Danzas Yasmin Hiasche",children:[D.jsx(cB,{}),D.jsx("span",{className:"span",children:"Enviar mail"})]}),D.jsxs(dc,{href:`https://api.whatsapp.com/send?phone=${t.whatsapp}&text=Hola,%20Me%20pasaras%20informacin%20de%20las%20clases?`,target:"_blank",rel:"noreferrer",color:"secondary",title:"Escribir Whatsapp a Estudio de Danzas Yasmin Hiasche",children:[D.jsx(ib,{}),D.jsx("span",{className:"span",children:"Whatsapp"})]})]}),pB=X("div")(({theme:{breakpoints:t,spacing:e}})=>({display:"grid",gridTemplateColumns:"27% 73%",gap:e(1),rowGap:e(5),margin:e(2,0,3,0),[t.up("sm")]:{gap:e(2),rowGap:e(5)},[t.up("md")]:{gap:e(2),rowGap:e(5),gridTemplateColumns:"2fr 5fr"}})),mB=X(qn)(({theme:{palette:t,spacing:e}})=>({alignItems:"flex-end",justifyContent:"center"})),gB=X("div",{shouldForwardProp:t=>t!=="rows"})(({rows:t,theme:{spacing:e}})=>({display:"grid",gridTemplateRows:`repeat(${t}, auto)`})),yB=X(qn)(({theme:{breakpoints:t,spacing:e}})=>({flexDirection:"row",gap:e(1),alignItems:"center",textAlign:"start",[t.up("sm")]:{gap:e(2)},[t.up("md")]:{gap:e(4)}})),vB=(t,e=3)=>t.slice(0,e),_B=()=>{const t=vu(),e=Ni(t.breakpoints.only("xs")),n=Ni(t.breakpoints.only("sm")),r=Ni(t.breakpoints.only("md")),i=Ni(t.breakpoints.only("lg")),s=Ni(t.breakpoints.only("xl")),o=Ni(t.breakpoints.only("xxl")),a=Ni(t.breakpoints.only("3xl"));return e?"xs":n?"sm":r?"md":i?"lg":s?"xl":o?"xxl":a?"3xl":null},wB=({schedule:t,className:e})=>{const r=!_B(),i=t==null?void 0:t.map(s=>[{day:r?vB(s.day):s.day,hours:Object.entries(s.hours),classType:Object.entries(s.classType)}]);return D.jsx(pB,{children:i.map((s,o)=>{const a=s[0],l=a.hours.length;return D.jsxs(Zt.Fragment,{children:[D.jsx(mB,{children:a.day}),D.jsx(gB,{rows:l,children:a.hours.map((c,d)=>D.jsxs(yB,{children:[D.jsx(Sr,{p:.5,children:c[1]})," ",D.jsx(Zy,{flexItem:!0,color:"aqua",sx:{width:2}}),D.jsx(Sr,{p:.5,children:a.classType[d][1]})," "]},d))})]},o)})})},EB=({sectionData:t})=>{const{listDays:e}=t;return D.jsx(wB,{schedule:e,className:""})},Ba=({sectionData:t})=>{const{content:e}=t;return D.jsx(mr,{variant:"body1",children:e==null?void 0:e.map((n,r)=>D.jsxs("li",{style:{listStyle:"none"},children:[" ",n," "]},r))})},TB=X("div")({width:"100%",height:"100%",display:"grid",zIndex:"-1","& > *":{gridArea:"1 / 1"}}),IB=X("div")({background:"#0d0513",width:"100%",height:"100%",opacity:"1",gridColumn:1,gridRow:1}),xB=X(qn,{shouldForwardProp:t=>t!=="url"&&t!=="isVisible"})(({url:t,isVisible:e})=>({background:`no-repeat scroll 0% 0% / contain  border-box url(${t}) transparent`,gridColumn:1,gridRow:1,height:"100%",opacity:e?.5:0,transition:"opacity 500ms ease-in-out",width:"100%",zIndex:1})),SB=X("div")(({theme:t})=>({background:"linear-gradient(180deg, rgba(76, 31, 110, 1) 0%, rgba(141,13,152,1) 100%)",width:"100%",height:"100%",zIndex:"5",opacity:"0.6",gridColumn:1,gridRow:1})),bB=""+new URL("assets/images/p1.webp",import.meta.url).href,RB=""+new URL("assets/images/p2.webp",import.meta.url).href,AB=""+new URL("assets/images/p3.webp",import.meta.url).href,CB=""+new URL("assets/images/p4.webp",import.meta.url).href,PB=""+new URL("assets/images/p5.webp",import.meta.url).href,kB=""+new URL("assets/images/p7.webp",import.meta.url).href,DB=""+new URL("assets/images/p8.webp",import.meta.url).href,VB=""+new URL("assets/images/p9.webp",import.meta.url).href,NB=""+new URL("assets/images/p10.webp",import.meta.url).href,MB=""+new URL("assets/images/p11.webp",import.meta.url).href,OB=""+new URL("assets/images/p13.webp",import.meta.url).href,LB=""+new URL("assets/images/p14.webp",import.meta.url).href,FB=()=>{const t=[bB,RB,AB,CB,PB,kB,DB,VB,NB,MB,OB,LB].sort(()=>.5-Math.random()),[e,n]=Zt.useState(!0),[r,i]=Zt.useState(t[0]),s=()=>{n(!1),setTimeout(()=>{i(o=>{let a=t[Math.floor(Math.random()*t.length)];for(;a===o;)a=t[Math.floor(Math.random()*t.length)];return a}),n(!0)},500)};return Zt.useEffect(()=>{const o=setInterval(s,5e3);return()=>clearInterval(o)},[t]),D.jsx(xB,{url:r,isVisible:e})},sb=t=>{const{previePics:e}=t;return D.jsxs(TB,{children:[D.jsx(SB,{}),e&&D.jsx(FB,{}),D.jsx(IB,{})]})},BB=X(Sr)(({theme:{breakpoints:t}})=>({margin:"0 auto",position:"relative",top:"45vh",width:"100px",height:"100px",borderRadius:"50px",background:"linear-gradient(#1b9b74, #65e2d1, #f6ddfd)",animation:"animate 0.7s linear infinite","&:after":{content:"' '",position:"absolute",top:"10px",left:"10px",right:"10px",bottom:"10px",background:" rgb(64 16 81)",borderRadius:"50px"},"@keyframes animate":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}})),$B=()=>D.jsx(BB,{}),jB=X(Sr)(({theme:{breakpoints:t}})=>({display:"grid",height:"100vh","& > *":{gridArea:"1/1"}})),zB=()=>D.jsxs(jB,{children:[D.jsx(sb,{}),D.jsx($B,{})]}),UB=X(FF)(({theme:{breakpoints:t}})=>({width:"100%",flexShrink:0,[`& .${EF.root}`]:{zIndex:"10",backgroundColor:"rgba(255,255,255,0.3)"}})),qB=X(qn)(({theme:{spacing:t,mixins:e}})=>({alignItems:"center",flexDirection:"row",padding:t(0,1),justifyContent:"flex-end",zIndex:10,...e.toolbar})),GB=X("div")(({theme:{breakpoints:t}})=>({backgroundImage:"url(https://firebasestorage.googleapis.com/v0/b/yasmin-hiasche-web.appspot.com/o/12961308_836681903125720_2764887378204918362_o.jpg?alt=media&token=457bdb2c-4a7c-4f20-97cf-6c0826fecd88)",backgroundPosition:"bottom",backgroundRepeat:"no-repeat",backgroundSize:"60%",backgroundColor:"black",position:"absolute",width:"100%",height:"100%",zIndex:"1",[t.down(600)]:{backgroundSize:"100%"}})),WB=X("div")(({theme:{breakpoints:t}})=>({backgroundColor:"#7928a8",opacity:"0.5",position:"absolute",width:"100%",zIndex:"2",height:"100%"})),KB=X(YF)(({theme:{breakpoints:t}})=>({display:"flex",flexDirection:"column",justifyContent:"space-evenly",height:"90%",zIndex:"10"})),HB=X(uF)(({theme:{palette:t}})=>({padding:"8px 20px",width:"80%",margin:"auto",background:"rgba(255, 234, 241, 0.2)",color:t.secondary.main,border:`1px solid ${t.secondary.main}`})),QB=({sections:t})=>{const e=vu(),[n,r]=O.useState(!1),i=()=>r(!0),s=()=>r(!1),o=(a,l)=>{s();const c=l.replace(/ /g,"-"),d=(a.target.ownerDocument||document).querySelector(`#${c}`);setTimeout(()=>{d&&d.scrollIntoView({behavior:"smooth",block:"center"})},400)};return D.jsxs(D.Fragment,{children:[D.jsx(X1,{color:"inherit","aria-label":"open drawer",edge:"start",onClick:i,children:D.jsx(dB,{})}),D.jsxs(UB,{variant:"persistent",anchor:"left",open:n,PaperProps:{sx:{width:"100%",color:"white"}},children:[D.jsx(qB,{children:D.jsx(X1,{onClick:s,color:"secondary",children:e.direction==="rtl"?D.jsx(oB,{}):D.jsx(aB,{})})}),D.jsx(Zy,{}),D.jsx(KB,{children:t.map((a,l)=>D.jsx(u5,{children:D.jsx(HB,{onClick:c=>o(c,a.title),variant:"contained",children:D.jsx(p5,{primary:a.title})})},l))}),D.jsx(WB,{}),D.jsx(GB,{})]})]})},YB=""+new URL("assets/images/logo.png",import.meta.url).href,aw=()=>D.jsx("img",{width:155,height:50,src:YB,title:"Estudio de Danzas Yasmin Hiasche",alt:"Estudio de Danzas Yasmin Hiasche"}),XB=X(g4)(({theme:{spacing:t}})=>({})),JB=X(_5)(({theme:{shape:t,spacing:e}})=>({height:rb,zIndex:100})),ZB=X(Z4)(({theme:{palette:t,spacing:e}})=>({textTransform:"capitalize",alignSelf:"stretch",color:t.secondary.main,paddingBottom:e(1),marginBottom:e(-1),borderBottom:"1px solid transparent",transition:"border-color 300ms ease-in-out","& span":{fontSize:e(2),fontFamily:"Nunito Sans, sans-serif",transition:"color 300ms ease-in-out"},"&:hover":{color:t.aqua,borderColor:t.aqua,transition:"border-color 300ms ease-in-out"}})),e$=X("a")(({theme:{spacing:t}})=>({bottom:t(2),right:t(2),position:"fixed"})),t$=X(qn)(({theme:{breakpoints:t,spacing:e}})=>({display:"grid","& > *":{gridArea:"1 / 1"},"& > *:not(footer)":{placeSelf:"center"}})),n$=t=>{const{children:e,sections:n,windowSize:r,...i}=t,o=`https://api.whatsapp.com/send?phone=${(n==null?void 0:n.filter(l=>l.title==="contacto"))[0].whatsapp}&text=Hola,%20Me%20pasaras%20informacin%20de%20las%20clases?`,a=(l,c)=>{const d=c.replace(/ /g,"-"),f=(l.target.ownerDocument||document).querySelector(`#${d}`);setTimeout(()=>{f&&f.scrollIntoView({behavior:"smooth",block:"center"})},400)};return D.jsxs(O.Fragment,{children:[D.jsxs(XB,{children:[D.jsx(fF,{}),D.jsx(JB,{children:r<1125?D.jsxs(D.Fragment,{children:[D.jsx(QB,{sections:n}),D.jsx(aw,{})]}):D.jsxs(qn,{direction:"row",justifyContent:"space-between",alignItems:"center",width:"100%",children:[D.jsx(aw,{}),D.jsx(Sr,{children:n==null?void 0:n.map(l=>D.jsx(ZB,{showLabel:!0,label:l.title,onClick:c=>a(c,l.title)},l.title))})]})})]}),D.jsx(t$,{children:e}),D.jsx(e$,{href:o,target:"_blank",rel:"noreferrer",role:"presentation",children:D.jsx(UF,{color:"primary",size:"medium","aria-label":"contact by whatsapp",children:D.jsx(ib,{})})})]})},r$=()=>{const{loading:t,setLoading:e,sectionOrdered:n}=O.useContext(gS),[r,i]=O.useState();return O.useEffect(()=>{function s(){i(window.innerWidth)}return window.addEventListener("resize",s),s(),()=>window.removeEventListener("resize",s)},[]),t?D.jsx(zB,{}):n.length>0&&D.jsxs(n$,{sections:n,windowSize:r,children:[D.jsx(sb,{setLoading:e,previePics:!0}),D.jsx(M5,{sectionsInfo:n})]})},i$=["none","1px 1px 4px 0px rgba(0, 0, 0, 0.15)","0px 2px 4px 0px rgba(0, 0, 0, 0.15)","1px 2px 5px 1px rgba(0, 0, 0, 0.15)","0px 6px 10px -1px rgba(0, 0, 0, 0.15)","0px 0px 15px 8px rgba(0, 0, 0, 0.15)","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none","none"],s$={fontFamily:"Nunito Sans, sans-serif",fontSize:16,fontWeightLight:300,fontWeightRegular:400,fontWeightBold:700,h1:{fontSize:"35px",fontWeight:700},h2:{fontSize:"24px",fontWeight:400,textTransform:"uppercase"},h3:{fontSize:"16px",fontWeight:700},h4:{fontSize:"14px",fontWeight:900},h5:{fontSize:"16px",fontWeight:500,lineHeight:"19px",textTransform:"uppercase"},body1:{fontSize:"16px",fontWeight:400},body2:{fontSize:"14px",fontWeight:400}},o$={primary:{main:"#7928a8"},secondary:{main:"#FFEAF1"},aqua:"#4ECDB0",ceci:"#f376ff",primary050:"rgb(121, 40, 168, 0.55)",ceci050:"rgba(243, 118, 255, 0.55)"},a$={breakpoints:{values:{xs:375,sm:744,md:900,lg:1280,xl:1440,xxl:1920,"3xl":2560}},palette:o$,shadows:i$,spacing:8,typography:s$,shape:{borderRadius:8}},l$=$h(a$),u$=$h(l$),c$=document.getElementById("root"),d$=ET(c$);d$.render(D.jsx(SL,{theme:u$,children:D.jsx(JV,{children:D.jsx(r$,{})})}));
